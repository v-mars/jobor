import{am as qC,bU as np,bV as it,bW as vt,bX as Bt,bY as Kn,bZ as ao,b_ as wv,h as P,d as me,m as lt,i as H,aw as Zl,y as c0,c as f0,a as h0,ab as v0,ac as d0,b as jC,k as p0,aS as Kl,aI as QC,l as Jl,W as Be,af as Ir,t as Tt,e as $t,f as Lt,av as g0,v as fe,w as wi,g as y0,ag as m0,u as tu,M as br,z as sn,p as x0,j as Hs,ah as w0,N as Ko,ay as bv,aO as Cv,bI as Sv,bR as zs,aq as Jo,bJ as Mv,A as pe,ba as xn,az as Nt,V as b0,bd as ZC,a1 as ap,aj as ip,O as KC,aW as Ic,b$ as un,B as Cn,C as _a,S as Kt,E as Ie,J as Rt,F as JC,aZ as t1,aa as e1,P as r1,X as C0,U as Gs,G as ge,T as S0,D as M0,a6 as n1,a7 as a1}from "./index-bbb52c5f.js";import{t as T0,N as i1,b as go,a as o1}from "./Grid-25c745f0.js";import{e as P0,c as Tv,i as O0,u as Rc,b as Ea,N as yo}from "./Icon-01f3be5d.js";import{F as na,k as k0,u as Ia,j as Pv,f as Ov,e as kv,h as A0,V as Lc}from "./FocusDetector-fac0e688.js";import{b as Ra,B as La,F as Ba,a as Fa}from "./Forward-2b3a5ea4.js";import{N as s1}from "./Space-b1fb6b4a.js";import{u as l1}from "./useRequest-1c3afba9.js";import{N as D0}from "./Spin-6545735b.js";import{_ as Av}from "./_plugin-vue_export-helper-c27b6911.js";const eu=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return Mr},get Circle(){return GB},get Ellipse(){return WB},get Image(){return XB},get Line(){return UB},get Marker(){return jB},get Path(){return Bd},get Polygon(){return rF},get Polyline(){return nF},get Rect(){return oF},get Text(){return sF}},Symbol.toStringTag,{value:"Module"})),ru=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return dr},get Circle(){return dF},get Dom(){return pF},get Ellipse(){return gF},get Image(){return yF},get Line(){return mF},get Marker(){return xF},get Path(){return wF},get Polygon(){return bF},get Polyline(){return CF},get Rect(){return MF},get Text(){return kF}},Symbol.toStringTag,{value:"Module"}));var op=1/0,u1=17976931348623157e292;function c1(r){if(!r)return r===0?r:0;if(r=T0(r),r===op||r===-op){var e=r<0?-1:1;return e*u1}return r===r?r:0}function f1(r){var e=c1(r),t=e%1;return e===e?t?e-t:e:0}var h1=qC.isFinite,v1=Math.min;function d1(r){var e=Math[r];return function(t, n){if(t=T0(t),n=n==null?0:v1(f1(n),292),n&&h1(t)){var a=(np(t)+"e").split("e"),i=e(a[0]+"e"+(+a[1]+n));return a=(np(i)+"e").split("e"),+(a[0]+"e"+(+a[1]-n))}return e(t)}}var p1=d1("round");const g1=p1;function mo(r, e){it(2,arguments);var t=vt(r),n=Bt(e);return isNaN(n)?new Date(NaN):(n&&t.setDate(t.getDate()+n),t)}function Pe(r, e){it(2,arguments);var t=vt(r),n=Bt(e);if(isNaN(n))return new Date(NaN);if(!n)return t;var a=t.getDate(),i=new Date(t.getTime());i.setMonth(t.getMonth()+n+1,0);var o=i.getDate();return a>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),a),t)}function y1(r, e){it(2,arguments);var t=vt(r).getTime(),n=Bt(e);return new Date(t+n)}function _0(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function Ws(r){it(1,arguments);var e=vt(r);return e.setHours(0,0,0,0),e}function m1(r, e){it(2,arguments);var t=Bt(e),n=t*3;return Pe(r,n)}function Bc(r, e){it(2,arguments);var t=Bt(e);return Pe(r,t*12)}var x1=6e4,w1=36e5,b1=1e3;function C1(r, e){it(2,arguments);var t=Ws(r),n=Ws(e);return t.getTime()===n.getTime()}function ts(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ts=function(t){return typeof t}:ts=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(r)}function S1(r){return it(1,arguments),r instanceof Date||ts(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function cr(r){if(it(1,arguments),!S1(r)&&typeof r!="number")return!1;var e=vt(r);return!isNaN(Number(e))}function M1(r){it(1,arguments);var e=vt(r),t=Math.floor(e.getMonth()/3)+1;return t}function T1(r){it(1,arguments);var e=vt(r);return e.setSeconds(0,0),e}function Bi(r){it(1,arguments);var e=vt(r),t=e.getMonth(),n=t-t%3;return e.setMonth(n,1),e.setHours(0,0,0,0),e}function Gr(r){it(1,arguments);var e=vt(r);return e.setDate(1),e.setHours(0,0,0,0),e}function Dv(r){it(1,arguments);var e=vt(r),t=new Date(0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function E0(r, e){it(2,arguments);var t=Bt(e);return y1(r,-t)}var P1=864e5;function O1(r){it(1,arguments);var e=vt(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),a=t-n;return Math.floor(a/P1)+1}function $a(r){it(1,arguments);var e=1,t=vt(r),n=t.getUTCDay(),a=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t}function I0(r){it(1,arguments);var e=vt(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var a=$a(n),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var o=$a(i);return e.getTime()>=a.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function k1(r){it(1,arguments);var e=I0(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=$a(t);return n}var A1=6048e5;function R0(r){it(1,arguments);var e=vt(r),t=$a(e).getTime()-k1(e).getTime();return Math.round(t/A1)+1}function _v(r, e){var t,n,a,i,o,s,l,u;it(1,arguments);var c=vt(r),f=c.getUTCFullYear(),h=ao(),v=Bt((t=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=new Date(0);d.setUTCFullYear(f+1,0,v),d.setUTCHours(0,0,0,0);var p=Kn(d,e),g=new Date(0);g.setUTCFullYear(f,0,v),g.setUTCHours(0,0,0,0);var y=Kn(g,e);return c.getTime()>=p.getTime()?f+1:c.getTime()>=y.getTime()?f:f-1}function D1(r, e){var t,n,a,i,o,s,l,u;it(1,arguments);var c=ao(),f=Bt((t=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1),h=_v(r,e),v=new Date(0);v.setUTCFullYear(h,0,f),v.setUTCHours(0,0,0,0);var d=Kn(v,e);return d}var _1=6048e5;function L0(r, e){it(1,arguments);var t=vt(r),n=Kn(t,e).getTime()-D1(t,e).getTime();return Math.round(n/_1)+1}function It(r, e){for(var t=r<0?"-":"",n=Math.abs(r).toString(); n.length<e;)n="0"+n;return t+n}var E1={y:function(e, t){var n=e.getUTCFullYear(),a=n>0?n:1-n;return It(t==="yy"?a%100:a,t.length)},M:function(e, t){var n=e.getUTCMonth();return t==="M"?String(n+1):It(n+1,2)},d:function(e, t){return It(e.getUTCDate(),t.length)},a:function(e, t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e, t){return It(e.getUTCHours()%12||12,t.length)},H:function(e, t){return It(e.getUTCHours(),t.length)},m:function(e, t){return It(e.getUTCMinutes(),t.length)},s:function(e, t){return It(e.getUTCSeconds(),t.length)},S:function(e, t){var n=t.length,a=e.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return It(i,t.length)}};const en=E1;var va={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},I1={G:function(e, t, n){var a=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e, t, n){if(t==="yo"){var a=e.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return en.y(e,t)},Y:function(e, t, n, a){var i=_v(e,a),o=i>0?i:1-i;if(t==="YY"){var s=o%100;return It(s,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):It(o,t.length)},R:function(e, t){var n=I0(e);return It(n,t.length)},u:function(e, t){var n=e.getUTCFullYear();return It(n,t.length)},Q:function(e, t, n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return It(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e, t, n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return It(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e, t, n){var a=e.getUTCMonth();switch(t){case"M":case"MM":return en.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e, t, n){var a=e.getUTCMonth();switch(t){case"L":return String(a+1);case"LL":return It(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e, t, n, a){var i=L0(e,a);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):It(i,t.length)},I:function(e, t, n){var a=R0(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):It(a,t.length)},d:function(e, t, n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):en.d(e,t)},D:function(e, t, n){var a=O1(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):It(a,t.length)},E:function(e, t, n){var a=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e, t, n, a){var i=e.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return It(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e, t, n, a){var i=e.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return It(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e, t, n){var a=e.getUTCDay(),i=a===0?7:a;switch(t){case"i":return String(i);case"ii":return It(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e, t, n){var a=e.getUTCHours(),i=a/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e, t, n){var a=e.getUTCHours(),i;switch(a===12?i=va.noon:a===0?i=va.midnight:i=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e, t, n){var a=e.getUTCHours(),i;switch(a>=17?i=va.evening:a>=12?i=va.afternoon:a>=4?i=va.morning:i=va.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e, t, n){if(t==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return en.h(e,t)},H:function(e, t, n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):en.H(e,t)},K:function(e, t, n){var a=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):It(a,t.length)},k:function(e, t, n){var a=e.getUTCHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):It(a,t.length)},m:function(e, t, n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):en.m(e,t)},s:function(e, t, n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):en.s(e,t)},S:function(e, t){return en.S(e,t)},X:function(e, t, n, a){var i=a._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return lp(o);case"XXXX":case"XX":return Yn(o);case"XXXXX":case"XXX":default:return Yn(o,":")}},x:function(e, t, n, a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"x":return lp(o);case"xxxx":case"xx":return Yn(o);case"xxxxx":case"xxx":default:return Yn(o,":")}},O:function(e, t, n, a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sp(o,":");case"OOOO":default:return"GMT"+Yn(o,":")}},z:function(e, t, n, a){var i=a._originalDate||e,o=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sp(o,":");case"zzzz":default:return"GMT"+Yn(o,":")}},t:function(e, t, n, a){var i=a._originalDate||e,o=Math.floor(i.getTime()/1e3);return It(o,t.length)},T:function(e, t, n, a){var i=a._originalDate||e,o=i.getTime();return It(o,t.length)}};function sp(r, e){var t=r>0?"-":"+",n=Math.abs(r),a=Math.floor(n/60),i=n%60;if(i===0)return t+String(a);var o=e||"";return t+String(a)+o+It(i,2)}function lp(r, e){if(r%60===0){var t=r>0?"-":"+";return t+It(Math.abs(r)/60,2)}return Yn(r,e)}function Yn(r, e){var t=e||"",n=r>0?"-":"+",a=Math.abs(r),i=It(Math.floor(a/60),2),o=It(a%60,2);return n+i+t+o}const R1=I1;var up=function(e, t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},B0=function(e, t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},L1=function(e, t){var n=e.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return up(e,t);var o;switch(a){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",up(a,t)).replace("{{time}}",B0(i,t))},B1={p:B0,P:L1};const Fc=B1;var F1=["D","DD"],$1=["YY","YYYY"];function F0(r){return F1.indexOf(r)!==-1}function $0(r){return $1.indexOf(r)!==-1}function Xs(r, e, t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Y1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,N1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,V1=/^'([^]*?)'?$/,H1=/''/g,z1=/[a-zA-Z]/;function Xt(r, e, t){var n,a,i,o,s,l,u,c,f,h,v,d,p,g,y,w,x,m;it(2,arguments);var C=String(e),S=ao(),T=(n=(a=t==null?void 0:t.locale)!==null&&a!==void 0?a:S.locale)!==null&&n!==void 0?n:P0,A=Bt((i=(o=(s=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:S.firstWeekContainsDate)!==null&&o!==void 0?o:(f=S.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Bt((v=(d=(p=(g=t==null?void 0:t.weekStartsOn)!==null&&g!==void 0?g:t==null||(y=t.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:S.weekStartsOn)!==null&&d!==void 0?d:(x=S.locale)===null||x===void 0||(m=x.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&v!==void 0?v:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var D=vt(r);if(!cr(D))throw new RangeError("Invalid time value");var $=_0(D),L=E0(D,$),F={firstWeekContainsDate:A,weekStartsOn:k,locale:T,_originalDate:D},X=C.match(N1).map(function(j){var Z=j[0];if(Z==="p"||Z==="P"){var ot=Fc[Z];return ot(j,T.formatLong)}return j}).join("").match(Y1).map(function(j){if(j==="''")return"'";var Z=j[0];if(Z==="'")return G1(j);var ot=R1[Z];if(ot)return!(t!=null&&t.useAdditionalWeekYearTokens)&&$0(j)&&Xs(j,e,String(r)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&F0(j)&&Xs(j,e,String(r)),ot(L,j,T.localize,F);if(Z.match(z1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");return j}).join("");return X}function G1(r){var e=r.match(V1);return e?e[1].replace(H1,"'"):r}function W1(r, e){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r}function mr(r){it(1,arguments);var e=vt(r),t=e.getDate();return t}function X1(r){it(1,arguments);var e=vt(r),t=e.getDay();return t}function U1(r){it(1,arguments);var e=vt(r),t=e.getFullYear(),n=e.getMonth(),a=new Date(0);return a.setFullYear(t,n+1,0),a.setHours(0,0,0,0),a.getDate()}function vn(r){it(1,arguments);var e=vt(r),t=e.getHours();return t}function Us(r){it(1,arguments);var e=vt(r),t=e.getMinutes();return t}function Wt(r){it(1,arguments);var e=vt(r),t=e.getMonth();return t}function qs(r){it(1,arguments);var e=vt(r),t=e.getSeconds();return t}function U(r){it(1,arguments);var e=vt(r),t=e.getTime();return t}function Zt(r){return it(1,arguments),vt(r).getFullYear()}function es(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?es=function(t){return typeof t}:es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(r)}function Y0(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&$c(r,e)}function $c(r, e){return $c=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},$c(r,e)}function N0(r){var e=j1();return function(){var n=js(r),a;if(e){var i=js(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return q1(this,a)}}function q1(r, e){return e&&(es(e)==="object"||typeof e=="function")?e:Yc(r)}function Yc(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function j1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function js(r){return js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},js(r)}function Ev(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function cp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function Iv(r, e, t){return e&&cp(r.prototype,e),t&&cp(r,t),r}function Nc(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Q1=10,V0=function(){function r(){Ev(this,r),Nc(this,"subPriority",0)}return Iv(r,[{key:"validate",value:function(t, n){return!0}}]),r}(),Z1=function(r){Y0(t,r);var e=N0(t);function t(n, a, i, o, s){var l;return Ev(this,t),l=e.call(this),l.value=n,l.validateValue=a,l.setValue=i,l.priority=o,s&&(l.subPriority=s),l}return Iv(t,[{key:"validate",value:function(a, i){return this.validateValue(a,this.value,i)}},{key:"set",value:function(a, i, o){return this.setValue(a,i,this.value,o)}}]),t}(V0),K1=function(r){Y0(t,r);var e=N0(t);function t(){var n;Ev(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Nc(Yc(n),"priority",Q1),Nc(Yc(n),"subPriority",-1),n}return Iv(t,[{key:"set",value:function(a, i){if(i.timestampIsSet)return a;var o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}}]),t}(V0);function J1(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function fp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function tS(r, e, t){return e&&fp(r.prototype,e),t&&fp(r,t),r}var _t=function(){function r(){J1(this,r)}return tS(r,[{key:"run",value:function(t, n, a, i){var o=this.parse(t,n,a,i);return o?{setter:new Z1(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(t, n, a){return!0}}]),r}();function rs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rs=function(t){return typeof t}:rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(r)}function eS(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function hp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function rS(r, e, t){return e&&hp(r.prototype,e),t&&hp(r,t),r}function nS(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Vc(r,e)}function Vc(r, e){return Vc=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Vc(r,e)}function aS(r){var e=oS();return function(){var n=Qs(r),a;if(e){var i=Qs(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return iS(this,a)}}function iS(r, e){return e&&(rs(e)==="object"||typeof e=="function")?e:Hc(r)}function Hc(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function oS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qs(r){return Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qs(r)}function vp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var sS=function(r){nS(t,r);var e=aS(t);function t(){var n;eS(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),vp(Hc(n),"priority",140),vp(Hc(n),"incompatibleTokens",["R","u","t","T"]),n}return rS(t,[{key:"parse",value:function(a, i, o){switch(i){case"G":case"GG":case"GGG":return o.era(a,{width:"abbreviated"})||o.era(a,{width:"narrow"});case"GGGGG":return o.era(a,{width:"narrow"});case"GGGG":default:return o.era(a,{width:"wide"})||o.era(a,{width:"abbreviated"})||o.era(a,{width:"narrow"})}}},{key:"set",value:function(a, i, o){return i.era=o,a.setUTCFullYear(o,0,1),a.setUTCHours(0,0,0,0),a}}]),t}(_t),le={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},_r={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ue(r, e){return r&&{value:e(r.value),rest:r.rest}}function ee(r, e){var t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Er(r, e){var t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var n=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:n*(a*w1+i*x1+o*b1),rest:e.slice(t[0].length)}}function H0(r){return ee(le.anyDigitsSigned,r)}function ie(r, e){switch(r){case 1:return ee(le.singleDigit,e);case 2:return ee(le.twoDigits,e);case 3:return ee(le.threeDigits,e);case 4:return ee(le.fourDigits,e);default:return ee(new RegExp("^\\d{1,"+r+"}"),e)}}function Zs(r, e){switch(r){case 1:return ee(le.singleDigitSigned,e);case 2:return ee(le.twoDigitsSigned,e);case 3:return ee(le.threeDigitsSigned,e);case 4:return ee(le.fourDigitsSigned,e);default:return ee(new RegExp("^-?\\d{1,"+r+"}"),e)}}function Rv(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function z0(r, e){var t=e>0,n=t?e:1-e,a;if(n<=50)a=r||100;else{var i=n+50,o=Math.floor(i/100)*100,s=r>=i%100;a=r+o-(s?100:0)}return t?a:1-a}function G0(r){return r%400===0||r%4===0&&r%100!==0}function ns(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ns=function(t){return typeof t}:ns=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(r)}function lS(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function dp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function uS(r, e, t){return e&&dp(r.prototype,e),t&&dp(r,t),r}function cS(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&zc(r,e)}function zc(r, e){return zc=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},zc(r,e)}function fS(r){var e=vS();return function(){var n=Ks(r),a;if(e){var i=Ks(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return hS(this,a)}}function hS(r, e){return e&&(ns(e)==="object"||typeof e=="function")?e:Gc(r)}function Gc(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function vS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ks(r){return Ks=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ks(r)}function pp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var dS=function(r){cS(t,r);var e=fS(t);function t(){var n;lS(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),pp(Gc(n),"priority",130),pp(Gc(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return uS(t,[{key:"parse",value:function(a, i, o){var s=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return ue(ie(4,a),s);case"yo":return ue(o.ordinalNumber(a,{unit:"year"}),s);default:return ue(ie(i.length,a),s)}}},{key:"validate",value:function(a, i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(a, i, o){var s=a.getUTCFullYear();if(o.isTwoDigitYear){var l=z0(o.year,s);return a.setUTCFullYear(l,0,1),a.setUTCHours(0,0,0,0),a}var u=!("era"in i)||i.era===1?o.year:1-o.year;return a.setUTCFullYear(u,0,1),a.setUTCHours(0,0,0,0),a}}]),t}(_t);function as(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?as=function(t){return typeof t}:as=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(r)}function pS(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function gp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function gS(r, e, t){return e&&gp(r.prototype,e),t&&gp(r,t),r}function yS(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Wc(r,e)}function Wc(r, e){return Wc=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Wc(r,e)}function mS(r){var e=wS();return function(){var n=Js(r),a;if(e){var i=Js(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return xS(this,a)}}function xS(r, e){return e&&(as(e)==="object"||typeof e=="function")?e:Xc(r)}function Xc(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function wS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Js(r){return Js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Js(r)}function yp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var bS=function(r){yS(t,r);var e=mS(t);function t(){var n;pS(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),yp(Xc(n),"priority",130),yp(Xc(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return gS(t,[{key:"parse",value:function(a, i, o){var s=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return ue(ie(4,a),s);case"Yo":return ue(o.ordinalNumber(a,{unit:"year"}),s);default:return ue(ie(i.length,a),s)}}},{key:"validate",value:function(a, i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(a, i, o, s){var l=_v(a,s);if(o.isTwoDigitYear){var u=z0(o.year,l);return a.setUTCFullYear(u,0,s.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Kn(a,s)}var c=!("era"in i)||i.era===1?o.year:1-o.year;return a.setUTCFullYear(c,0,s.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Kn(a,s)}}]),t}(_t);function is(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?is=function(t){return typeof t}:is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(r)}function CS(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function mp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function SS(r, e, t){return e&&mp(r.prototype,e),t&&mp(r,t),r}function MS(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Uc(r,e)}function Uc(r, e){return Uc=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Uc(r,e)}function TS(r){var e=OS();return function(){var n=tl(r),a;if(e){var i=tl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return PS(this,a)}}function PS(r, e){return e&&(is(e)==="object"||typeof e=="function")?e:qc(r)}function qc(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function OS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tl(r){return tl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tl(r)}function xp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var kS=function(r){MS(t,r);var e=TS(t);function t(){var n;CS(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),xp(qc(n),"priority",130),xp(qc(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return SS(t,[{key:"parse",value:function(a, i){return Zs(i==="R"?4:i.length,a)}},{key:"set",value:function(a, i, o){var s=new Date(0);return s.setUTCFullYear(o,0,4),s.setUTCHours(0,0,0,0),$a(s)}}]),t}(_t);function os(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?os=function(t){return typeof t}:os=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(r)}function AS(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function wp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function DS(r, e, t){return e&&wp(r.prototype,e),t&&wp(r,t),r}function _S(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&jc(r,e)}function jc(r, e){return jc=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},jc(r,e)}function ES(r){var e=RS();return function(){var n=el(r),a;if(e){var i=el(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return IS(this,a)}}function IS(r, e){return e&&(os(e)==="object"||typeof e=="function")?e:Qc(r)}function Qc(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function RS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function el(r){return el=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},el(r)}function bp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var LS=function(r){_S(t,r);var e=ES(t);function t(){var n;AS(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),bp(Qc(n),"priority",130),bp(Qc(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return DS(t,[{key:"parse",value:function(a, i){return Zs(i==="u"?4:i.length,a)}},{key:"set",value:function(a, i, o){return a.setUTCFullYear(o,0,1),a.setUTCHours(0,0,0,0),a}}]),t}(_t);function ss(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ss=function(t){return typeof t}:ss=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(r)}function BS(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Cp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function FS(r, e, t){return e&&Cp(r.prototype,e),t&&Cp(r,t),r}function $S(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Zc(r,e)}function Zc(r, e){return Zc=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Zc(r,e)}function YS(r){var e=VS();return function(){var n=rl(r),a;if(e){var i=rl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return NS(this,a)}}function NS(r, e){return e&&(ss(e)==="object"||typeof e=="function")?e:Kc(r)}function Kc(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function VS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rl(r){return rl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rl(r)}function Sp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var HS=function(r){$S(t,r);var e=YS(t);function t(){var n;BS(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Sp(Kc(n),"priority",120),Sp(Kc(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return FS(t,[{key:"parse",value:function(a, i, o){switch(i){case"Q":case"QQ":return ie(i.length,a);case"Qo":return o.ordinalNumber(a,{unit:"quarter"});case"QQQ":return o.quarter(a,{width:"abbreviated",context:"formatting"})||o.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(a,{width:"wide",context:"formatting"})||o.quarter(a,{width:"abbreviated",context:"formatting"})||o.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a, i){return i>=1&&i<=4}},{key:"set",value:function(a, i, o){return a.setUTCMonth((o-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),t}(_t);function ls(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ls=function(t){return typeof t}:ls=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(r)}function zS(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Mp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function GS(r, e, t){return e&&Mp(r.prototype,e),t&&Mp(r,t),r}function WS(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Jc(r,e)}function Jc(r, e){return Jc=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Jc(r,e)}function XS(r){var e=qS();return function(){var n=nl(r),a;if(e){var i=nl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return US(this,a)}}function US(r, e){return e&&(ls(e)==="object"||typeof e=="function")?e:tf(r)}function tf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function qS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nl(r){return nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nl(r)}function Tp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var jS=function(r){WS(t,r);var e=XS(t);function t(){var n;zS(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Tp(tf(n),"priority",120),Tp(tf(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return GS(t,[{key:"parse",value:function(a, i, o){switch(i){case"q":case"qq":return ie(i.length,a);case"qo":return o.ordinalNumber(a,{unit:"quarter"});case"qqq":return o.quarter(a,{width:"abbreviated",context:"standalone"})||o.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(a,{width:"wide",context:"standalone"})||o.quarter(a,{width:"abbreviated",context:"standalone"})||o.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a, i){return i>=1&&i<=4}},{key:"set",value:function(a, i, o){return a.setUTCMonth((o-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),t}(_t);function us(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?us=function(t){return typeof t}:us=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(r)}function QS(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Pp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function ZS(r, e, t){return e&&Pp(r.prototype,e),t&&Pp(r,t),r}function KS(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ef(r,e)}function ef(r, e){return ef=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},ef(r,e)}function JS(r){var e=eM();return function(){var n=al(r),a;if(e){var i=al(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return tM(this,a)}}function tM(r, e){return e&&(us(e)==="object"||typeof e=="function")?e:rf(r)}function rf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function eM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function al(r){return al=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},al(r)}function Op(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var rM=function(r){KS(t,r);var e=JS(t);function t(){var n;QS(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Op(rf(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Op(rf(n),"priority",110),n}return ZS(t,[{key:"parse",value:function(a, i, o){var s=function(u){return u-1};switch(i){case"M":return ue(ee(le.month,a),s);case"MM":return ue(ie(2,a),s);case"Mo":return ue(o.ordinalNumber(a,{unit:"month"}),s);case"MMM":return o.month(a,{width:"abbreviated",context:"formatting"})||o.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(a,{width:"wide",context:"formatting"})||o.month(a,{width:"abbreviated",context:"formatting"})||o.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a, i){return i>=0&&i<=11}},{key:"set",value:function(a, i, o){return a.setUTCMonth(o,1),a.setUTCHours(0,0,0,0),a}}]),t}(_t);function cs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cs=function(t){return typeof t}:cs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(r)}function nM(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function kp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function aM(r, e, t){return e&&kp(r.prototype,e),t&&kp(r,t),r}function iM(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&nf(r,e)}function nf(r, e){return nf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},nf(r,e)}function oM(r){var e=lM();return function(){var n=il(r),a;if(e){var i=il(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return sM(this,a)}}function sM(r, e){return e&&(cs(e)==="object"||typeof e=="function")?e:af(r)}function af(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function il(r){return il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},il(r)}function Ap(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var uM=function(r){iM(t,r);var e=oM(t);function t(){var n;nM(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Ap(af(n),"priority",110),Ap(af(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return aM(t,[{key:"parse",value:function(a, i, o){var s=function(u){return u-1};switch(i){case"L":return ue(ee(le.month,a),s);case"LL":return ue(ie(2,a),s);case"Lo":return ue(o.ordinalNumber(a,{unit:"month"}),s);case"LLL":return o.month(a,{width:"abbreviated",context:"standalone"})||o.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(a,{width:"wide",context:"standalone"})||o.month(a,{width:"abbreviated",context:"standalone"})||o.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a, i){return i>=0&&i<=11}},{key:"set",value:function(a, i, o){return a.setUTCMonth(o,1),a.setUTCHours(0,0,0,0),a}}]),t}(_t);function cM(r, e, t){it(2,arguments);var n=vt(r),a=Bt(e),i=L0(n,t)-a;return n.setUTCDate(n.getUTCDate()-i*7),n}function fs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fs=function(t){return typeof t}:fs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(r)}function fM(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Dp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function hM(r, e, t){return e&&Dp(r.prototype,e),t&&Dp(r,t),r}function vM(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&of(r,e)}function of(r, e){return of=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},of(r,e)}function dM(r){var e=gM();return function(){var n=ol(r),a;if(e){var i=ol(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return pM(this,a)}}function pM(r, e){return e&&(fs(e)==="object"||typeof e=="function")?e:sf(r)}function sf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function gM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ol(r){return ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ol(r)}function _p(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var yM=function(r){vM(t,r);var e=dM(t);function t(){var n;fM(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),_p(sf(n),"priority",100),_p(sf(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return hM(t,[{key:"parse",value:function(a, i, o){switch(i){case"w":return ee(le.week,a);case"wo":return o.ordinalNumber(a,{unit:"week"});default:return ie(i.length,a)}}},{key:"validate",value:function(a, i){return i>=1&&i<=53}},{key:"set",value:function(a, i, o, s){return Kn(cM(a,o,s),s)}}]),t}(_t);function mM(r, e){it(2,arguments);var t=vt(r),n=Bt(e),a=R0(t)-n;return t.setUTCDate(t.getUTCDate()-a*7),t}function hs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hs=function(t){return typeof t}:hs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(r)}function xM(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ep(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function wM(r, e, t){return e&&Ep(r.prototype,e),t&&Ep(r,t),r}function bM(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&lf(r,e)}function lf(r, e){return lf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},lf(r,e)}function CM(r){var e=MM();return function(){var n=sl(r),a;if(e){var i=sl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return SM(this,a)}}function SM(r, e){return e&&(hs(e)==="object"||typeof e=="function")?e:uf(r)}function uf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function MM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sl(r){return sl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},sl(r)}function Ip(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var TM=function(r){bM(t,r);var e=CM(t);function t(){var n;xM(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Ip(uf(n),"priority",100),Ip(uf(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return wM(t,[{key:"parse",value:function(a, i, o){switch(i){case"I":return ee(le.week,a);case"Io":return o.ordinalNumber(a,{unit:"week"});default:return ie(i.length,a)}}},{key:"validate",value:function(a, i){return i>=1&&i<=53}},{key:"set",value:function(a, i, o){return $a(mM(a,o))}}]),t}(_t);function vs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vs=function(t){return typeof t}:vs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(r)}function PM(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Rp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function OM(r, e, t){return e&&Rp(r.prototype,e),t&&Rp(r,t),r}function kM(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&cf(r,e)}function cf(r, e){return cf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},cf(r,e)}function AM(r){var e=_M();return function(){var n=ll(r),a;if(e){var i=ll(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return DM(this,a)}}function DM(r, e){return e&&(vs(e)==="object"||typeof e=="function")?e:ds(r)}function ds(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ll(r){return ll=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ll(r)}function Wu(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var EM=[31,28,31,30,31,30,31,31,30,31,30,31],IM=[31,29,31,30,31,30,31,31,30,31,30,31],RM=function(r){kM(t,r);var e=AM(t);function t(){var n;PM(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Wu(ds(n),"priority",90),Wu(ds(n),"subPriority",1),Wu(ds(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return OM(t,[{key:"parse",value:function(a, i, o){switch(i){case"d":return ee(le.date,a);case"do":return o.ordinalNumber(a,{unit:"date"});default:return ie(i.length,a)}}},{key:"validate",value:function(a, i){var o=a.getUTCFullYear(),s=G0(o),l=a.getUTCMonth();return s?i>=1&&i<=IM[l]:i>=1&&i<=EM[l]}},{key:"set",value:function(a, i, o){return a.setUTCDate(o),a.setUTCHours(0,0,0,0),a}}]),t}(_t);function ps(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ps=function(t){return typeof t}:ps=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(r)}function LM(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Lp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function BM(r, e, t){return e&&Lp(r.prototype,e),t&&Lp(r,t),r}function FM(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ff(r,e)}function ff(r, e){return ff=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},ff(r,e)}function $M(r){var e=NM();return function(){var n=ul(r),a;if(e){var i=ul(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return YM(this,a)}}function YM(r, e){return e&&(ps(e)==="object"||typeof e=="function")?e:gs(r)}function gs(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function NM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ul(r){return ul=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ul(r)}function Xu(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var VM=function(r){FM(t,r);var e=$M(t);function t(){var n;LM(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Xu(gs(n),"priority",90),Xu(gs(n),"subpriority",1),Xu(gs(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return BM(t,[{key:"parse",value:function(a, i, o){switch(i){case"D":case"DD":return ee(le.dayOfYear,a);case"Do":return o.ordinalNumber(a,{unit:"date"});default:return ie(i.length,a)}}},{key:"validate",value:function(a, i){var o=a.getUTCFullYear(),s=G0(o);return s?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(a, i, o){return a.setUTCMonth(0,o),a.setUTCHours(0,0,0,0),a}}]),t}(_t);function Lv(r, e, t){var n,a,i,o,s,l,u,c;it(2,arguments);var f=ao(),h=Bt((n=(a=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&a!==void 0?a:(u=f.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=vt(r),d=Bt(e),p=v.getUTCDay(),g=d%7,y=(g+7)%7,w=(y<h?7:0)+d-p;return v.setUTCDate(v.getUTCDate()+w),v}function ys(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ys=function(t){return typeof t}:ys=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(r)}function HM(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Bp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function zM(r, e, t){return e&&Bp(r.prototype,e),t&&Bp(r,t),r}function GM(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&hf(r,e)}function hf(r, e){return hf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},hf(r,e)}function WM(r){var e=UM();return function(){var n=cl(r),a;if(e){var i=cl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return XM(this,a)}}function XM(r, e){return e&&(ys(e)==="object"||typeof e=="function")?e:vf(r)}function vf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function UM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cl(r){return cl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cl(r)}function Fp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var qM=function(r){GM(t,r);var e=WM(t);function t(){var n;HM(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Fp(vf(n),"priority",90),Fp(vf(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return zM(t,[{key:"parse",value:function(a, i, o){switch(i){case"E":case"EE":case"EEE":return o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(a,{width:"wide",context:"formatting"})||o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a, i){return i>=0&&i<=6}},{key:"set",value:function(a, i, o, s){return a=Lv(a,o,s),a.setUTCHours(0,0,0,0),a}}]),t}(_t);function ms(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ms=function(t){return typeof t}:ms=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(r)}function jM(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function $p(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function QM(r, e, t){return e&&$p(r.prototype,e),t&&$p(r,t),r}function ZM(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&df(r,e)}function df(r, e){return df=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},df(r,e)}function KM(r){var e=tT();return function(){var n=fl(r),a;if(e){var i=fl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return JM(this,a)}}function JM(r, e){return e&&(ms(e)==="object"||typeof e=="function")?e:pf(r)}function pf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function tT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fl(r){return fl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fl(r)}function Yp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var eT=function(r){ZM(t,r);var e=KM(t);function t(){var n;jM(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Yp(pf(n),"priority",90),Yp(pf(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return QM(t,[{key:"parse",value:function(a, i, o, s){var l=function(c){var f=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return ue(ie(i.length,a),l);case"eo":return ue(o.ordinalNumber(a,{unit:"day"}),l);case"eee":return o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"eeeee":return o.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(a,{width:"wide",context:"formatting"})||o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a, i){return i>=0&&i<=6}},{key:"set",value:function(a, i, o, s){return a=Lv(a,o,s),a.setUTCHours(0,0,0,0),a}}]),t}(_t);function xs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xs=function(t){return typeof t}:xs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(r)}function rT(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Np(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function nT(r, e, t){return e&&Np(r.prototype,e),t&&Np(r,t),r}function aT(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&gf(r,e)}function gf(r, e){return gf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},gf(r,e)}function iT(r){var e=sT();return function(){var n=hl(r),a;if(e){var i=hl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return oT(this,a)}}function oT(r, e){return e&&(xs(e)==="object"||typeof e=="function")?e:yf(r)}function yf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function sT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hl(r){return hl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hl(r)}function Vp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var lT=function(r){aT(t,r);var e=iT(t);function t(){var n;rT(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Vp(yf(n),"priority",90),Vp(yf(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return nT(t,[{key:"parse",value:function(a, i, o, s){var l=function(c){var f=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return ue(ie(i.length,a),l);case"co":return ue(o.ordinalNumber(a,{unit:"day"}),l);case"ccc":return o.day(a,{width:"abbreviated",context:"standalone"})||o.day(a,{width:"short",context:"standalone"})||o.day(a,{width:"narrow",context:"standalone"});case"ccccc":return o.day(a,{width:"narrow",context:"standalone"});case"cccccc":return o.day(a,{width:"short",context:"standalone"})||o.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(a,{width:"wide",context:"standalone"})||o.day(a,{width:"abbreviated",context:"standalone"})||o.day(a,{width:"short",context:"standalone"})||o.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a, i){return i>=0&&i<=6}},{key:"set",value:function(a, i, o, s){return a=Lv(a,o,s),a.setUTCHours(0,0,0,0),a}}]),t}(_t);function uT(r, e){it(2,arguments);var t=Bt(e);t%7===0&&(t=t-7);var n=1,a=vt(r),i=a.getUTCDay(),o=t%7,s=(o+7)%7,l=(s<n?7:0)+t-i;return a.setUTCDate(a.getUTCDate()+l),a}function ws(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ws=function(t){return typeof t}:ws=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(r)}function cT(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Hp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function fT(r, e, t){return e&&Hp(r.prototype,e),t&&Hp(r,t),r}function hT(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&mf(r,e)}function mf(r, e){return mf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},mf(r,e)}function vT(r){var e=pT();return function(){var n=vl(r),a;if(e){var i=vl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return dT(this,a)}}function dT(r, e){return e&&(ws(e)==="object"||typeof e=="function")?e:xf(r)}function xf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function pT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vl(r){return vl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vl(r)}function zp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var gT=function(r){hT(t,r);var e=vT(t);function t(){var n;cT(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),zp(xf(n),"priority",90),zp(xf(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return fT(t,[{key:"parse",value:function(a, i, o){var s=function(u){return u===0?7:u};switch(i){case"i":case"ii":return ie(i.length,a);case"io":return o.ordinalNumber(a,{unit:"day"});case"iii":return ue(o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"}),s);case"iiiii":return ue(o.day(a,{width:"narrow",context:"formatting"}),s);case"iiiiii":return ue(o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"}),s);case"iiii":default:return ue(o.day(a,{width:"wide",context:"formatting"})||o.day(a,{width:"abbreviated",context:"formatting"})||o.day(a,{width:"short",context:"formatting"})||o.day(a,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(a, i){return i>=1&&i<=7}},{key:"set",value:function(a, i, o){return a=uT(a,o),a.setUTCHours(0,0,0,0),a}}]),t}(_t);function bs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bs=function(t){return typeof t}:bs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(r)}function yT(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Gp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function mT(r, e, t){return e&&Gp(r.prototype,e),t&&Gp(r,t),r}function xT(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&wf(r,e)}function wf(r, e){return wf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},wf(r,e)}function wT(r){var e=CT();return function(){var n=dl(r),a;if(e){var i=dl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return bT(this,a)}}function bT(r, e){return e&&(bs(e)==="object"||typeof e=="function")?e:bf(r)}function bf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function CT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dl(r){return dl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},dl(r)}function Wp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var ST=function(r){xT(t,r);var e=wT(t);function t(){var n;yT(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Wp(bf(n),"priority",80),Wp(bf(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return mT(t,[{key:"parse",value:function(a, i, o){switch(i){case"a":case"aa":case"aaa":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})||o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a, i, o){return a.setUTCHours(Rv(o),0,0,0),a}}]),t}(_t);function Cs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cs=function(t){return typeof t}:Cs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(r)}function MT(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Xp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function TT(r, e, t){return e&&Xp(r.prototype,e),t&&Xp(r,t),r}function PT(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Cf(r,e)}function Cf(r, e){return Cf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Cf(r,e)}function OT(r){var e=AT();return function(){var n=pl(r),a;if(e){var i=pl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return kT(this,a)}}function kT(r, e){return e&&(Cs(e)==="object"||typeof e=="function")?e:Sf(r)}function Sf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function AT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pl(r){return pl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pl(r)}function Up(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var DT=function(r){PT(t,r);var e=OT(t);function t(){var n;MT(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Up(Sf(n),"priority",80),Up(Sf(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return TT(t,[{key:"parse",value:function(a, i, o){switch(i){case"b":case"bb":case"bbb":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})||o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a, i, o){return a.setUTCHours(Rv(o),0,0,0),a}}]),t}(_t);function Ss(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ss=function(t){return typeof t}:Ss=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(r)}function _T(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function qp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function ET(r, e, t){return e&&qp(r.prototype,e),t&&qp(r,t),r}function IT(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Mf(r,e)}function Mf(r, e){return Mf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Mf(r,e)}function RT(r){var e=BT();return function(){var n=gl(r),a;if(e){var i=gl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return LT(this,a)}}function LT(r, e){return e&&(Ss(e)==="object"||typeof e=="function")?e:Tf(r)}function Tf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function BT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gl(r){return gl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gl(r)}function jp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var FT=function(r){IT(t,r);var e=RT(t);function t(){var n;_T(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),jp(Tf(n),"priority",80),jp(Tf(n),"incompatibleTokens",["a","b","t","T"]),n}return ET(t,[{key:"parse",value:function(a, i, o){switch(i){case"B":case"BB":case"BBB":return o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(a,{width:"wide",context:"formatting"})||o.dayPeriod(a,{width:"abbreviated",context:"formatting"})||o.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a, i, o){return a.setUTCHours(Rv(o),0,0,0),a}}]),t}(_t);function Ms(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ms=function(t){return typeof t}:Ms=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(r)}function $T(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Qp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function YT(r, e, t){return e&&Qp(r.prototype,e),t&&Qp(r,t),r}function NT(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Pf(r,e)}function Pf(r, e){return Pf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Pf(r,e)}function VT(r){var e=zT();return function(){var n=yl(r),a;if(e){var i=yl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return HT(this,a)}}function HT(r, e){return e&&(Ms(e)==="object"||typeof e=="function")?e:Of(r)}function Of(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function zT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yl(r){return yl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yl(r)}function Zp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var GT=function(r){NT(t,r);var e=VT(t);function t(){var n;$T(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Zp(Of(n),"priority",70),Zp(Of(n),"incompatibleTokens",["H","K","k","t","T"]),n}return YT(t,[{key:"parse",value:function(a, i, o){switch(i){case"h":return ee(le.hour12h,a);case"ho":return o.ordinalNumber(a,{unit:"hour"});default:return ie(i.length,a)}}},{key:"validate",value:function(a, i){return i>=1&&i<=12}},{key:"set",value:function(a, i, o){var s=a.getUTCHours()>=12;return s&&o<12?a.setUTCHours(o+12,0,0,0):!s&&o===12?a.setUTCHours(0,0,0,0):a.setUTCHours(o,0,0,0),a}}]),t}(_t);function Ts(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ts=function(t){return typeof t}:Ts=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(r)}function WT(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Kp(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function XT(r, e, t){return e&&Kp(r.prototype,e),t&&Kp(r,t),r}function UT(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&kf(r,e)}function kf(r, e){return kf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},kf(r,e)}function qT(r){var e=QT();return function(){var n=ml(r),a;if(e){var i=ml(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return jT(this,a)}}function jT(r, e){return e&&(Ts(e)==="object"||typeof e=="function")?e:Af(r)}function Af(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function QT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ml(r){return ml=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ml(r)}function Jp(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var ZT=function(r){UT(t,r);var e=qT(t);function t(){var n;WT(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),Jp(Af(n),"priority",70),Jp(Af(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return XT(t,[{key:"parse",value:function(a, i, o){switch(i){case"H":return ee(le.hour23h,a);case"Ho":return o.ordinalNumber(a,{unit:"hour"});default:return ie(i.length,a)}}},{key:"validate",value:function(a, i){return i>=0&&i<=23}},{key:"set",value:function(a, i, o){return a.setUTCHours(o,0,0,0),a}}]),t}(_t);function Ps(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ps=function(t){return typeof t}:Ps=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(r)}function KT(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function tg(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function JT(r, e, t){return e&&tg(r.prototype,e),t&&tg(r,t),r}function tP(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Df(r,e)}function Df(r, e){return Df=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Df(r,e)}function eP(r){var e=nP();return function(){var n=xl(r),a;if(e){var i=xl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return rP(this,a)}}function rP(r, e){return e&&(Ps(e)==="object"||typeof e=="function")?e:_f(r)}function _f(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function nP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xl(r){return xl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xl(r)}function eg(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var aP=function(r){tP(t,r);var e=eP(t);function t(){var n;KT(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),eg(_f(n),"priority",70),eg(_f(n),"incompatibleTokens",["h","H","k","t","T"]),n}return JT(t,[{key:"parse",value:function(a, i, o){switch(i){case"K":return ee(le.hour11h,a);case"Ko":return o.ordinalNumber(a,{unit:"hour"});default:return ie(i.length,a)}}},{key:"validate",value:function(a, i){return i>=0&&i<=11}},{key:"set",value:function(a, i, o){var s=a.getUTCHours()>=12;return s&&o<12?a.setUTCHours(o+12,0,0,0):a.setUTCHours(o,0,0,0),a}}]),t}(_t);function Os(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Os=function(t){return typeof t}:Os=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(r)}function iP(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function rg(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function oP(r, e, t){return e&&rg(r.prototype,e),t&&rg(r,t),r}function sP(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Ef(r,e)}function Ef(r, e){return Ef=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Ef(r,e)}function lP(r){var e=cP();return function(){var n=wl(r),a;if(e){var i=wl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return uP(this,a)}}function uP(r, e){return e&&(Os(e)==="object"||typeof e=="function")?e:If(r)}function If(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function cP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wl(r){return wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wl(r)}function ng(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var fP=function(r){sP(t,r);var e=lP(t);function t(){var n;iP(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),ng(If(n),"priority",70),ng(If(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return oP(t,[{key:"parse",value:function(a, i, o){switch(i){case"k":return ee(le.hour24h,a);case"ko":return o.ordinalNumber(a,{unit:"hour"});default:return ie(i.length,a)}}},{key:"validate",value:function(a, i){return i>=1&&i<=24}},{key:"set",value:function(a, i, o){var s=o<=24?o%24:o;return a.setUTCHours(s,0,0,0),a}}]),t}(_t);function ks(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ks=function(t){return typeof t}:ks=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(r)}function hP(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ag(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function vP(r, e, t){return e&&ag(r.prototype,e),t&&ag(r,t),r}function dP(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Rf(r,e)}function Rf(r, e){return Rf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Rf(r,e)}function pP(r){var e=yP();return function(){var n=bl(r),a;if(e){var i=bl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return gP(this,a)}}function gP(r, e){return e&&(ks(e)==="object"||typeof e=="function")?e:Lf(r)}function Lf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function yP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bl(r){return bl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bl(r)}function ig(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var mP=function(r){dP(t,r);var e=pP(t);function t(){var n;hP(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),ig(Lf(n),"priority",60),ig(Lf(n),"incompatibleTokens",["t","T"]),n}return vP(t,[{key:"parse",value:function(a, i, o){switch(i){case"m":return ee(le.minute,a);case"mo":return o.ordinalNumber(a,{unit:"minute"});default:return ie(i.length,a)}}},{key:"validate",value:function(a, i){return i>=0&&i<=59}},{key:"set",value:function(a, i, o){return a.setUTCMinutes(o,0,0),a}}]),t}(_t);function As(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?As=function(t){return typeof t}:As=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(r)}function xP(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function og(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function wP(r, e, t){return e&&og(r.prototype,e),t&&og(r,t),r}function bP(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Bf(r,e)}function Bf(r, e){return Bf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Bf(r,e)}function CP(r){var e=MP();return function(){var n=Cl(r),a;if(e){var i=Cl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return SP(this,a)}}function SP(r, e){return e&&(As(e)==="object"||typeof e=="function")?e:Ff(r)}function Ff(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function MP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cl(r){return Cl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cl(r)}function sg(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var TP=function(r){bP(t,r);var e=CP(t);function t(){var n;xP(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),sg(Ff(n),"priority",50),sg(Ff(n),"incompatibleTokens",["t","T"]),n}return wP(t,[{key:"parse",value:function(a, i, o){switch(i){case"s":return ee(le.second,a);case"so":return o.ordinalNumber(a,{unit:"second"});default:return ie(i.length,a)}}},{key:"validate",value:function(a, i){return i>=0&&i<=59}},{key:"set",value:function(a, i, o){return a.setUTCSeconds(o,0),a}}]),t}(_t);function Ds(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ds=function(t){return typeof t}:Ds=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(r)}function PP(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function lg(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function OP(r, e, t){return e&&lg(r.prototype,e),t&&lg(r,t),r}function kP(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&$f(r,e)}function $f(r, e){return $f=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},$f(r,e)}function AP(r){var e=_P();return function(){var n=Sl(r),a;if(e){var i=Sl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return DP(this,a)}}function DP(r, e){return e&&(Ds(e)==="object"||typeof e=="function")?e:Yf(r)}function Yf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sl(r){return Sl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sl(r)}function ug(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var EP=function(r){kP(t,r);var e=AP(t);function t(){var n;PP(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),ug(Yf(n),"priority",30),ug(Yf(n),"incompatibleTokens",["t","T"]),n}return OP(t,[{key:"parse",value:function(a, i){var o=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return ue(ie(i.length,a),o)}},{key:"set",value:function(a, i, o){return a.setUTCMilliseconds(o),a}}]),t}(_t);function _s(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_s=function(t){return typeof t}:_s=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(r)}function IP(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function cg(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function RP(r, e, t){return e&&cg(r.prototype,e),t&&cg(r,t),r}function LP(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Nf(r,e)}function Nf(r, e){return Nf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Nf(r,e)}function BP(r){var e=$P();return function(){var n=Ml(r),a;if(e){var i=Ml(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return FP(this,a)}}function FP(r, e){return e&&(_s(e)==="object"||typeof e=="function")?e:Vf(r)}function Vf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function $P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ml(r){return Ml=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ml(r)}function fg(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var YP=function(r){LP(t,r);var e=BP(t);function t(){var n;IP(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),fg(Vf(n),"priority",10),fg(Vf(n),"incompatibleTokens",["t","T","x"]),n}return RP(t,[{key:"parse",value:function(a, i){switch(i){case"X":return Er(_r.basicOptionalMinutes,a);case"XX":return Er(_r.basic,a);case"XXXX":return Er(_r.basicOptionalSeconds,a);case"XXXXX":return Er(_r.extendedOptionalSeconds,a);case"XXX":default:return Er(_r.extended,a)}}},{key:"set",value:function(a, i, o){return i.timestampIsSet?a:new Date(a.getTime()-o)}}]),t}(_t);function Es(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Es=function(t){return typeof t}:Es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(r)}function NP(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function hg(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function VP(r, e, t){return e&&hg(r.prototype,e),t&&hg(r,t),r}function HP(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Hf(r,e)}function Hf(r, e){return Hf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Hf(r,e)}function zP(r){var e=WP();return function(){var n=Tl(r),a;if(e){var i=Tl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return GP(this,a)}}function GP(r, e){return e&&(Es(e)==="object"||typeof e=="function")?e:zf(r)}function zf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function WP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tl(r){return Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Tl(r)}function vg(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var XP=function(r){HP(t,r);var e=zP(t);function t(){var n;NP(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),vg(zf(n),"priority",10),vg(zf(n),"incompatibleTokens",["t","T","X"]),n}return VP(t,[{key:"parse",value:function(a, i){switch(i){case"x":return Er(_r.basicOptionalMinutes,a);case"xx":return Er(_r.basic,a);case"xxxx":return Er(_r.basicOptionalSeconds,a);case"xxxxx":return Er(_r.extendedOptionalSeconds,a);case"xxx":default:return Er(_r.extended,a)}}},{key:"set",value:function(a, i, o){return i.timestampIsSet?a:new Date(a.getTime()-o)}}]),t}(_t);function Is(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Is=function(t){return typeof t}:Is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(r)}function UP(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function dg(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function qP(r, e, t){return e&&dg(r.prototype,e),t&&dg(r,t),r}function jP(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Gf(r,e)}function Gf(r, e){return Gf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Gf(r,e)}function QP(r){var e=KP();return function(){var n=Pl(r),a;if(e){var i=Pl(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return ZP(this,a)}}function ZP(r, e){return e&&(Is(e)==="object"||typeof e=="function")?e:Wf(r)}function Wf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function KP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pl(r){return Pl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pl(r)}function pg(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var JP=function(r){jP(t,r);var e=QP(t);function t(){var n;UP(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),pg(Wf(n),"priority",40),pg(Wf(n),"incompatibleTokens","*"),n}return qP(t,[{key:"parse",value:function(a){return H0(a)}},{key:"set",value:function(a, i, o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),t}(_t);function Rs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rs=function(t){return typeof t}:Rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(r)}function tO(r, e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function gg(r, e){for(var t=0; t<e.length; t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function eO(r, e, t){return e&&gg(r.prototype,e),t&&gg(r,t),r}function rO(r, e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Xf(r,e)}function Xf(r, e){return Xf=Object.setPrototypeOf||function(n, a){return n.__proto__=a,n},Xf(r,e)}function nO(r){var e=iO();return function(){var n=Ol(r),a;if(e){var i=Ol(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return aO(this,a)}}function aO(r, e){return e&&(Rs(e)==="object"||typeof e=="function")?e:Uf(r)}function Uf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function iO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ol(r){return Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ol(r)}function yg(r, e, t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var oO=function(r){rO(t,r);var e=nO(t);function t(){var n;tO(this,t);for(var a=arguments.length,i=new Array(a),o=0; o<a; o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i)),yg(Uf(n),"priority",20),yg(Uf(n),"incompatibleTokens","*"),n}return eO(t,[{key:"parse",value:function(a){return H0(a)}},{key:"set",value:function(a, i, o){return[new Date(o),{timestampIsSet:!0}]}}]),t}(_t),sO={G:new sS,y:new dS,Y:new bS,R:new kS,u:new LS,Q:new HS,q:new jS,M:new rM,L:new uM,w:new yM,I:new TM,d:new RM,D:new VM,E:new qM,e:new eT,c:new lT,i:new gT,a:new ST,b:new DT,B:new FT,h:new GT,H:new ZT,K:new aP,k:new fP,m:new mP,s:new TP,S:new EP,X:new YP,x:new XP,t:new JP,T:new oO};function Ls(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ls=function(t){return typeof t}:Ls=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(r)}function mg(r, e){var t;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(t=lO(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,a=function(){};return{s:a,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){t=r[Symbol.iterator]()},n:function(){var u=t.next();return i=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function lO(r,e){if(r){if(typeof r=="string")return xg(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xg(r,e)}}function xg(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var uO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fO=/^'([^]*?)'?$/,hO=/''/g,vO=/\S/,dO=/[a-zA-Z]/;function pO(r,e,t,n){var a,i,o,s,l,u,c,f,h,v,d,p,g,y,w,x,m,C;it(3,arguments);var S=String(r),T=String(e),A=ao(),k=(a=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:A.locale)!==null&&a!==void 0?a:P0;if(!k.match)throw new RangeError("locale must contain match property");var D=Bt((o=(s=(l=(u=n==null?void 0:n.firstWeekContainsDate)!==null&&u!==void 0?u:n==null||(c=n.locale)===null||c===void 0||(f=c.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:A.firstWeekContainsDate)!==null&&s!==void 0?s:(h=A.locale)===null||h===void 0||(v=h.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=Bt((d=(p=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(w=n.locale)===null||w===void 0||(x=w.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&g!==void 0?g:A.weekStartsOn)!==null&&p!==void 0?p:(m=A.locale)===null||m===void 0||(C=m.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&d!==void 0?d:0);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(T==="")return S===""?vt(t):new Date(NaN);var L={firstWeekContainsDate:D,weekStartsOn:$,locale:k},F=[new K1],X=T.match(cO).map(function(xt){var st=xt[0];if(st in Fc){var ft=Fc[st];return ft(xt,k.formatLong)}return xt}).join("").match(uO),j=[],Z=mg(X),ot;try{var dt=function(){var st=ot.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&$0(st)&&Xs(st,T,r),!(n!=null&&n.useAdditionalDayOfYearTokens)&&F0(st)&&Xs(st,T,r);var ft=st[0],qt=sO[ft];if(qt){var ce=qt.incompatibleTokens;if(Array.isArray(ce)){var Ye=j.find(function(xe){return ce.includes(xe.token)||xe.token===ft});if(Ye)throw new RangeError("The format string mustn't contain `".concat(Ye.fullToken,"` and `").concat(st,"` at the same time"))}else if(qt.incompatibleTokens==="*"&&j.length>0)throw new RangeError("The format string mustn't contain `".concat(st,"` and any other token at the same time"));j.push({token:ft,fullToken:st});var ne=qt.run(S,st,k.match,L);if(!ne)return{v:new Date(NaN)};F.push(ne.setter),S=ne.rest}else{if(ft.match(dO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ft+"`");if(st==="''"?st="'":ft==="'"&&(st=gO(st)),S.indexOf(st)===0)S=S.slice(st.length);else return{v:new Date(NaN)}}};for(Z.s();!(ot=Z.n()).done;){var ut=dt();if(Ls(ut)==="object")return ut.v}}catch(xt){Z.e(xt)}finally{Z.f()}if(S.length>0&&vO.test(S))return new Date(NaN);var nt=F.map(function(xt){return xt.priority}).sort(function(xt,st){return st-xt}).filter(function(xt,st,ft){return ft.indexOf(xt)===st}).map(function(xt){return F.filter(function(st){return st.priority===xt}).sort(function(st,ft){return ft.subPriority-st.subPriority})}).map(function(xt){return xt[0]}),rt=vt(t);if(isNaN(rt.getTime()))return new Date(NaN);var wt=E0(rt,_0(rt)),Et={},zt=mg(nt),gt;try{for(zt.s();!(gt=zt.n()).done;){var Gt=gt.value;if(!Gt.validate(wt,L))return new Date(NaN);var Ct=Gt.set(wt,Et,L);Array.isArray(Ct)?(wt=Ct[0],W1(Et,Ct[1])):wt=Ct}}catch(xt){zt.e(xt)}finally{zt.f()}return wt}function gO(r){return r.match(fO)[1].replace(hO,"'")}function yO(r){it(1,arguments);var e=vt(r);return e.setMinutes(0,0,0),e}function nu(r,e){it(2,arguments);var t=vt(r),n=vt(e);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()}function W0(r,e){it(2,arguments);var t=Bi(r),n=Bi(e);return t.getTime()===n.getTime()}function Bv(r){it(1,arguments);var e=vt(r);return e.setMilliseconds(0),e}function X0(r,e){it(2,arguments);var t=vt(r),n=vt(e);return t.getFullYear()===n.getFullYear()}function Fv(r,e){it(2,arguments);var t=vt(r),n=Bt(e),a=t.getFullYear(),i=t.getDate(),o=new Date(0);o.setFullYear(a,n,15),o.setHours(0,0,0,0);var s=U1(o);return t.setMonth(n,Math.min(i,s)),t}function Bs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bs=function(t){return typeof t}:Bs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(r)}function Oe(r,e){if(it(2,arguments),Bs(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var t=vt(r);return isNaN(t.getTime())?new Date(NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=Fv(t,e.month)),e.date!=null&&t.setDate(Bt(e.date)),e.hours!=null&&t.setHours(Bt(e.hours)),e.minutes!=null&&t.setMinutes(Bt(e.minutes)),e.seconds!=null&&t.setSeconds(Bt(e.seconds)),e.milliseconds!=null&&t.setMilliseconds(Bt(e.milliseconds)),t)}function Bn(r,e){it(2,arguments);var t=vt(r),n=Bt(e);return t.setHours(n),t}function Uu(r,e){it(2,arguments);var t=vt(r),n=Bt(e);return t.setMinutes(n),t}function mO(r,e){it(2,arguments);var t=vt(r),n=Bt(e),a=Math.floor(t.getMonth()/3)+1,i=n-a;return Fv(t,t.getMonth()+i*3)}function qu(r,e){it(2,arguments);var t=vt(r),n=Bt(e);return t.setSeconds(n),t}function wg(r,e){it(2,arguments);var t=vt(r),n=Bt(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(n),t)}const bg=wv("date",P("svg",{width:"28px",height:"28px",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},P("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},P("g",{"fill-rule":"nonzero"},P("path",{d:"M21.75,3 C23.5449254,3 25,4.45507456 25,6.25 L25,21.75 C25,23.5449254 23.5449254,25 21.75,25 L6.25,25 C4.45507456,25 3,23.5449254 3,21.75 L3,6.25 C3,4.45507456 4.45507456,3 6.25,3 L21.75,3 Z M23.5,9.503 L4.5,9.503 L4.5,21.75 C4.5,22.7164983 5.28350169,23.5 6.25,23.5 L21.75,23.5 C22.7164983,23.5 23.5,22.7164983 23.5,21.75 L23.5,9.503 Z M21.75,4.5 L6.25,4.5 C5.28350169,4.5 4.5,5.28350169 4.5,6.25 L4.5,8.003 L23.5,8.003 L23.5,6.25 C23.5,5.28350169 22.7164983,4.5 21.75,4.5 Z"}))))),xO=wv("time",P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},P("path",{d:"M256,64C150,64,64,150,64,256s86,192,192,192,192-86,192-192S362,64,256,64Z",style:`
        fill: none;
        stroke: currentColor;
        stroke-miterlimit: 10;
        stroke-width: 32px;
      `}),P("polyline",{points:"256 128 256 272 352 272",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))),wO=wv("to",P("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},P("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},P("g",{fill:"currentColor","fill-rule":"nonzero"},P("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))),kl=1901,Jn=40,bO={date:C1,month:nu,year:X0,quarter:W0};function Wr(r,e,t){const n=bO[t];return Array.isArray(r)?r.some(a=>n(a,e)):n(r,e)}function ju(r,e,t,n){let a=!1,i=!1,o=!1;Array.isArray(t)&&(t[0]<r&&r<t[1]&&(a=!0),Wr(t[0],r,"date")&&(i=!0),Wr(t[1],r,"date")&&(o=!0));const s=t!==null&&(Array.isArray(t)?Wr(t[0],r,"date")||Wr(t[1],r,"date"):Wr(t,r,"date"));return{type:"date",dateObject:{date:mr(r),month:Wt(r),year:Zt(r)},inCurrentMonth:nu(r,e),isCurrentDate:Wr(n,r,"date"),inSpan:a,startOfSpan:i,endOfSpan:o,selected:s,ts:U(r)}}function CO(r,e,t){return{type:"month",dateObject:{month:Wt(r),year:Zt(r)},isCurrent:nu(t,r),selected:e!==null&&Wr(e,r,"month"),ts:U(r)}}function SO(r,e,t){return{type:"year",dateObject:{year:Zt(r)},isCurrent:X0(t,r),selected:e!==null&&Wr(e,r,"year"),ts:U(r)}}function MO(r,e,t){return{type:"quarter",dateObject:{quarter:M1(r),year:Zt(r)},isCurrent:W0(t,r),selected:e!==null&&Wr(e,r,"quarter"),ts:U(r)}}function qf(r,e,t,n,a=!1){const i=Wt(r);let o=U(Gr(r)),s=U(mo(o,-1));const l=[];let u=!a;for(;X1(s)!==n||u;)l.unshift(ju(s,r,e,t)),s=U(mo(s,-1)),u=!1;for(;Wt(o)===i;)l.push(ju(o,r,e,t)),o=U(mo(o,1));const c=a?l.length<=28?28:l.length<=35?35:42:42;for(;l.length<c;)l.push(ju(o,r,e,t)),o=U(mo(o,1));return l}function jf(r,e,t){const n=[],a=Dv(r);for(let i=0;i<12;i++)n.push(CO(U(Pe(a,i)),e,t));return n}function Qf(r,e,t){const n=[],a=Dv(r);for(let i=0;i<4;i++)n.push(MO(U(m1(a,i)),e,t));return n}function Zf(r,e){const t=[],n=new Date(kl,0,1);for(let a=0;a<200;a++)t.push(SO(U(Bc(n,a)),r,e));return t}function Xe(r,e,t,n){const a=pO(r,e,t,n);return cr(a)?Xt(a,e,n)===r?a:new Date(NaN):a}function Fs(r){if(r===void 0)return;if(typeof r=="number")return r;const[e,t,n]=r.split(":");return{hours:Number(e),minutes:Number(t),seconds:Number(n)}}function da(r,e){return Array.isArray(r)?r[e==="start"?0:1]:null}const TO=r=>1-Math.pow(1-r,5);function PO(r){const{from:e,to:t,duration:n,onUpdate:a,onFinish:i}=r,o=()=>{const l=performance.now(),u=Math.min(l-s,n),c=e+(t-e)*TO(u/n);if(u===n){i();return}a(c),requestAnimationFrame(o)},s=performance.now();o()}const OO={to:{type:Number,default:0},precision:{type:Number,default:0},showSeparator:Boolean,locale:String,from:{type:Number,default:0},active:{type:Boolean,default:!0},duration:{type:Number,default:2e3},onFinish:Function},kO=me({name:"NumberAnimation",props:OO,setup(r){const{localeRef:e}=Tv("name"),{duration:t}=r,n=lt(r.from),a=H(()=>{const{locale:h}=r;return h!==void 0?h:e.value});let i=!1;const o=h=>{n.value=h},s=()=>{var h;n.value=r.to,i=!1,(h=r.onFinish)===null||h===void 0||h.call(r)},l=(h=r.from,v=r.to)=>{i=!0,n.value=r.from,h!==v&&PO({from:h,to:v,duration:t,onUpdate:o,onFinish:s})},u=H(()=>{var h;const d=g1(n.value,r.precision).toFixed(r.precision).split("."),p=new Intl.NumberFormat(a.value),g=(h=p.formatToParts(.5).find(x=>x.type==="decimal"))===null||h===void 0?void 0:h.value,y=r.showSeparator?p.format(Number(d[0])):d[0],w=d[1];return{integer:y,decimal:w,decimalSeparator:g}});function c(){i||l()}return Zl(()=>{c0(()=>{r.active&&l()})}),Object.assign({formattedValue:u},{play:c})},render(){const{formattedValue:{integer:r,decimal:e,decimalSeparator:t}}=this;return[r,e?t:null,e]}}),AO={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"},DO=r=>{const{popoverColor:e,textColor2:t,primaryColor:n,hoverColor:a,dividerColor:i,opacityDisabled:o,boxShadow2:s,borderRadius:l,iconColor:u,iconColorDisabled:c}=r;return Object.assign(Object.assign({},AO),{panelColor:e,panelBoxShadow:s,panelDividerColor:i,itemTextColor:t,itemTextColorActive:n,itemColorHover:a,itemOpacityDisabled:o,itemBorderRadius:l,borderRadius:l,iconColor:u,iconColorDisabled:c})},_O=f0({name:"TimePicker",common:h0,peers:{Scrollbar:v0,Button:d0,Input:O0},self:DO}),U0=_O,EO={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarLeftPaddingMonthrange:"0",calendarLeftPaddingQuarterrange:"0",calendarLeftPaddingYearrange:"0",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0",calendarRightPaddingMonthrange:"0",calendarRightPaddingQuarterrange:"0",calendarRightPaddingYearrange:"0"},IO=r=>{const{hoverColor:e,fontSize:t,textColor2:n,textColorDisabled:a,popoverColor:i,primaryColor:o,borderRadiusSmall:s,iconColor:l,iconColorDisabled:u,textColor1:c,dividerColor:f,boxShadow2:h,borderRadius:v,fontWeightStrong:d}=r;return Object.assign(Object.assign({},EO),{itemFontSize:t,calendarDaysFontSize:t,calendarTitleFontSize:t,itemTextColor:n,itemTextColorDisabled:a,itemTextColorActive:i,itemTextColorCurrent:o,itemColorIncluded:jC(o,{alpha:.1}),itemColorHover:e,itemColorDisabled:e,itemColorActive:o,itemBorderRadius:s,panelColor:i,panelTextColor:n,arrowColor:l,calendarTitleTextColor:c,calendarTitleColorHover:e,calendarDaysTextColor:n,panelHeaderDividerColor:f,calendarDaysDividerColor:f,calendarDividerColor:f,panelActionDividerColor:f,panelBoxShadow:h,panelBorderRadius:v,calendarTitleFontWeight:d,scrollItemBorderRadius:v,iconColor:l,iconColorDisabled:u})},RO=f0({name:"DatePicker",common:h0,peers:{Input:O0,Button:d0,TimePicker:U0,Scrollbar:v0},self:IO}),LO=RO;function BO(r,e){const t=H(()=>{const{isTimeDisabled:c}=r,{value:f}=e;if(!(f===null||Array.isArray(f)))return c==null?void 0:c(f)}),n=H(()=>{var c;return(c=t.value)===null||c===void 0?void 0:c.isHourDisabled}),a=H(()=>{var c;return(c=t.value)===null||c===void 0?void 0:c.isMinuteDisabled}),i=H(()=>{var c;return(c=t.value)===null||c===void 0?void 0:c.isSecondDisabled}),o=H(()=>{const{type:c,isDateDisabled:f}=r,{value:h}=e;return h===null||Array.isArray(h)||!["date","datetime"].includes(c)||!f?!1:f(h)}),s=H(()=>{const{type:c}=r,{value:f}=e;if(f===null||c==="datetime"||Array.isArray(f))return!1;const h=new Date(f),v=h.getHours(),d=h.getMinutes(),p=h.getMinutes();return(n.value?n.value(v):!1)||(a.value?a.value(d,v):!1)||(i.value?i.value(p,d,v):!1)}),l=H(()=>o.value||s.value);return{isValueInvalidRef:H(()=>{const{type:c}=r;return c==="date"?o.value:c==="datetime"?l.value:!1}),isDateInvalidRef:o,isTimeInvalidRef:s,isDateTimeInvalidRef:l,isHourDisabledRef:n,isMinuteDisabledRef:a,isSecondDisabledRef:i}}function FO(r,e){const t=H(()=>{const{isTimeDisabled:f}=r,{value:h}=e;return!Array.isArray(h)||!f?[void 0,void 0]:[f==null?void 0:f(h[0],"start",h),f==null?void 0:f(h[1],"end",h)]}),n={isStartHourDisabledRef:H(()=>{var f;return(f=t.value[0])===null||f===void 0?void 0:f.isHourDisabled}),isEndHourDisabledRef:H(()=>{var f;return(f=t.value[1])===null||f===void 0?void 0:f.isHourDisabled}),isStartMinuteDisabledRef:H(()=>{var f;return(f=t.value[0])===null||f===void 0?void 0:f.isMinuteDisabled}),isEndMinuteDisabledRef:H(()=>{var f;return(f=t.value[1])===null||f===void 0?void 0:f.isMinuteDisabled}),isStartSecondDisabledRef:H(()=>{var f;return(f=t.value[0])===null||f===void 0?void 0:f.isSecondDisabled}),isEndSecondDisabledRef:H(()=>{var f;return(f=t.value[1])===null||f===void 0?void 0:f.isSecondDisabled})},a=H(()=>{const{type:f,isDateDisabled:h}=r,{value:v}=e;return v===null||!Array.isArray(v)||!["daterange","datetimerange"].includes(f)||!h?!1:h(v[0],"start",v)}),i=H(()=>{const{type:f,isDateDisabled:h}=r,{value:v}=e;return v===null||!Array.isArray(v)||!["daterange","datetimerange"].includes(f)||!h?!1:h(v[1],"end",v)}),o=H(()=>{const{type:f}=r,{value:h}=e;if(h===null||!Array.isArray(h)||f!=="datetimerange")return!1;const v=vn(h[0]),d=Us(h[0]),p=qs(h[0]),{isStartHourDisabledRef:g,isStartMinuteDisabledRef:y,isStartSecondDisabledRef:w}=n;return(g.value?g.value(v):!1)||(y.value?y.value(d,v):!1)||(w.value?w.value(p,d,v):!1)}),s=H(()=>{const{type:f}=r,{value:h}=e;if(h===null||!Array.isArray(h)||f!=="datetimerange")return!1;const v=vn(h[1]),d=Us(h[1]),p=qs(h[1]),{isEndHourDisabledRef:g,isEndMinuteDisabledRef:y,isEndSecondDisabledRef:w}=n;return(g.value?g.value(v):!1)||(y.value?y.value(d,v):!1)||(w.value?w.value(p,d,v):!1)}),l=H(()=>a.value||o.value),u=H(()=>i.value||s.value),c=H(()=>l.value||u.value);return Object.assign(Object.assign({},n),{isStartDateInvalidRef:a,isEndDateInvalidRef:i,isStartTimeInvalidRef:o,isEndTimeInvalidRef:s,isStartValueInvalidRef:l,isEndValueInvalidRef:u,isRangeInvalidRef:c})}const au=p0("n-date-picker");var Kf={exports:{}},Jf={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n,a){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i]);return n}r.exports=e.default})(Jf,Jf.exports);var $O=Jf.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=n($O);function n(i){return i&&i.__esModule?i:{default:i}}function a(i){return(0,t.default)({},i)}r.exports=e.default})(Kf,Kf.exports);var YO=Kf.exports;const NO=Kl(YO);var th={exports:{}},eh={exports:{}},rh={exports:{}},nh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n,a){if(a.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+a.length+" present")}r.exports=e.default})(nh,nh.exports);var $e=nh.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n($e);function n(o){return o&&o.__esModule?o:{default:o}}function a(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(l){return typeof l}:a=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},a(o)}function i(o){return(0,t.default)(1,arguments),o instanceof Date||a(o)==="object"&&Object.prototype.toString.call(o)==="[object Date]"}r.exports=e.default})(rh,rh.exports);var VO=rh.exports,ah={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=n($e);function n(o){return o&&o.__esModule?o:{default:o}}function a(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(l){return typeof l}:a=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},a(o)}function i(o){(0,t.default)(1,arguments);var s=Object.prototype.toString.call(o);return o instanceof Date||a(o)==="object"&&s==="[object Date]"?new Date(o.getTime()):typeof o=="number"||s==="[object Number]"?new Date(o):((typeof o=="string"||s==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}r.exports=e.default})(ah,ah.exports);var Nr=ah.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(VO),n=i(Nr),a=i($e);function i(s){return s&&s.__esModule?s:{default:s}}function o(s){if((0,a.default)(1,arguments),!(0,t.default)(s)&&typeof s!="number")return!1;var l=(0,n.default)(s);return!isNaN(Number(l))}r.exports=e.default})(eh,eh.exports);var HO=eh.exports,ih={exports:{}},oh={exports:{}},sh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){if(n===null||n===!0||n===!1)return NaN;var a=Number(n);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}r.exports=e.default})(sh,sh.exports);var aa=sh.exports;const zO=Kl(aa);(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(aa),n=i(Nr),a=i($e);function i(s){return s&&s.__esModule?s:{default:s}}function o(s,l){(0,a.default)(2,arguments);var u=(0,n.default)(s).getTime(),c=(0,t.default)(l);return new Date(u+c)}r.exports=e.default})(oh,oh.exports);var GO=oh.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(GO),n=i($e),a=i(aa);function i(s){return s&&s.__esModule?s:{default:s}}function o(s,l){(0,n.default)(2,arguments);var u=(0,a.default)(l);return(0,t.default)(s,-u)}r.exports=e.default})(ih,ih.exports);var WO=ih.exports,lh={exports:{}},uh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=a(Nr),n=a($e);function a(s){return s&&s.__esModule?s:{default:s}}var i=864e5;function o(s){(0,n.default)(1,arguments);var l=(0,t.default)(s),u=l.getTime();l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0);var c=l.getTime(),f=u-c;return Math.floor(f/i)+1}r.exports=e.default})(uh,uh.exports);var XO=uh.exports,ch={exports:{}},fh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=a(Nr),n=a($e);function a(o){return o&&o.__esModule?o:{default:o}}function i(o){(0,n.default)(1,arguments);var s=1,l=(0,t.default)(o),u=l.getUTCDay(),c=(u<s?7:0)+u-s;return l.setUTCDate(l.getUTCDate()-c),l.setUTCHours(0,0,0,0),l}r.exports=e.default})(fh,fh.exports);var $v=fh.exports,hh={exports:{}},vh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(Nr),n=i($e),a=i($v);function i(s){return s&&s.__esModule?s:{default:s}}function o(s){(0,n.default)(1,arguments);var l=(0,t.default)(s),u=l.getUTCFullYear(),c=new Date(0);c.setUTCFullYear(u+1,0,4),c.setUTCHours(0,0,0,0);var f=(0,a.default)(c),h=new Date(0);h.setUTCFullYear(u,0,4),h.setUTCHours(0,0,0,0);var v=(0,a.default)(h);return l.getTime()>=f.getTime()?u+1:l.getTime()>=v.getTime()?u:u-1}r.exports=e.default})(vh,vh.exports);var q0=vh.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(q0),n=i($v),a=i($e);function i(s){return s&&s.__esModule?s:{default:s}}function o(s){(0,a.default)(1,arguments);var l=(0,t.default)(s),u=new Date(0);u.setUTCFullYear(l,0,4),u.setUTCHours(0,0,0,0);var c=(0,n.default)(u);return c}r.exports=e.default})(hh,hh.exports);var UO=hh.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=o(Nr),n=o($v),a=o(UO),i=o($e);function o(u){return u&&u.__esModule?u:{default:u}}var s=6048e5;function l(u){(0,i.default)(1,arguments);var c=(0,t.default)(u),f=(0,n.default)(c).getTime()-(0,a.default)(c).getTime();return Math.round(f/s)+1}r.exports=e.default})(ch,ch.exports);var qO=ch.exports,dh={exports:{}},ph={exports:{}},ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.getDefaultOptions=jO;ia.setDefaultOptions=QO;var j0={};function jO(){return j0}function QO(r){j0=r}(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=o(Nr),n=o($e),a=o(aa),i=ia;function o(l){return l&&l.__esModule?l:{default:l}}function s(l,u){var c,f,h,v,d,p,g,y;(0,n.default)(1,arguments);var w=(0,i.getDefaultOptions)(),x=(0,a.default)((c=(f=(h=(v=u==null?void 0:u.weekStartsOn)!==null&&v!==void 0?v:u==null||(d=u.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&h!==void 0?h:w.weekStartsOn)!==null&&f!==void 0?f:(g=w.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&c!==void 0?c:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=(0,t.default)(l),C=m.getUTCDay(),S=(C<x?7:0)+C-x;return m.setUTCDate(m.getUTCDate()-S),m.setUTCHours(0,0,0,0),m}r.exports=e.default})(ph,ph.exports);var Yv=ph.exports,gh={exports:{}},yh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(Nr),n=s($e),a=s(Yv),i=s(aa),o=ia;function s(u){return u&&u.__esModule?u:{default:u}}function l(u,c){var f,h,v,d,p,g,y,w;(0,n.default)(1,arguments);var x=(0,t.default)(u),m=x.getUTCFullYear(),C=(0,o.getDefaultOptions)(),S=(0,i.default)((f=(h=(v=(d=c==null?void 0:c.firstWeekContainsDate)!==null&&d!==void 0?d:c==null||(p=c.locale)===null||p===void 0||(g=p.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&v!==void 0?v:C.firstWeekContainsDate)!==null&&h!==void 0?h:(y=C.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&f!==void 0?f:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=new Date(0);T.setUTCFullYear(m+1,0,S),T.setUTCHours(0,0,0,0);var A=(0,a.default)(T,c),k=new Date(0);k.setUTCFullYear(m,0,S),k.setUTCHours(0,0,0,0);var D=(0,a.default)(k,c);return x.getTime()>=A.getTime()?m+1:x.getTime()>=D.getTime()?m:m-1}r.exports=e.default})(yh,yh.exports);var Q0=yh.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(Q0),n=s($e),a=s(Yv),i=s(aa),o=ia;function s(u){return u&&u.__esModule?u:{default:u}}function l(u,c){var f,h,v,d,p,g,y,w;(0,n.default)(1,arguments);var x=(0,o.getDefaultOptions)(),m=(0,i.default)((f=(h=(v=(d=c==null?void 0:c.firstWeekContainsDate)!==null&&d!==void 0?d:c==null||(p=c.locale)===null||p===void 0||(g=p.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&v!==void 0?v:x.firstWeekContainsDate)!==null&&h!==void 0?h:(y=x.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&f!==void 0?f:1),C=(0,t.default)(u,c),S=new Date(0);S.setUTCFullYear(C,0,m),S.setUTCHours(0,0,0,0);var T=(0,a.default)(S,c);return T}r.exports=e.default})(gh,gh.exports);var ZO=gh.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=o(Nr),n=o(Yv),a=o(ZO),i=o($e);function o(u){return u&&u.__esModule?u:{default:u}}var s=6048e5;function l(u,c){(0,i.default)(1,arguments);var f=(0,t.default)(u),h=(0,n.default)(f,c).getTime()-(0,a.default)(f,c).getTime();return Math.round(h/s)+1}r.exports=e.default})(dh,dh.exports);var KO=dh.exports,mh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n,a){for(var i=n<0?"-":"",o=Math.abs(n).toString();o.length<a;)o="0"+o;return i+o}r.exports=e.default})(mh,mh.exports);var Z0=mh.exports,xh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(Z0);function n(o){return o&&o.__esModule?o:{default:o}}var a={y:function(s,l){var u=s.getUTCFullYear(),c=u>0?u:1-u;return(0,t.default)(l==="yy"?c%100:c,l.length)},M:function(s,l){var u=s.getUTCMonth();return l==="M"?String(u+1):(0,t.default)(u+1,2)},d:function(s,l){return(0,t.default)(s.getUTCDate(),l.length)},a:function(s,l){var u=s.getUTCHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return u.toUpperCase();case"aaa":return u;case"aaaaa":return u[0];case"aaaa":default:return u==="am"?"a.m.":"p.m."}},h:function(s,l){return(0,t.default)(s.getUTCHours()%12||12,l.length)},H:function(s,l){return(0,t.default)(s.getUTCHours(),l.length)},m:function(s,l){return(0,t.default)(s.getUTCMinutes(),l.length)},s:function(s,l){return(0,t.default)(s.getUTCSeconds(),l.length)},S:function(s,l){var u=l.length,c=s.getUTCMilliseconds(),f=Math.floor(c*Math.pow(10,u-3));return(0,t.default)(f,l.length)}},i=a;e.default=i,r.exports=e.default})(xh,xh.exports);var JO=xh.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=u(XO),n=u(qO),a=u(q0),i=u(KO),o=u(Q0),s=u(Z0),l=u(JO);function u(g){return g&&g.__esModule?g:{default:g}}var c={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},f={G:function(y,w,x){var m=y.getUTCFullYear()>0?1:0;switch(w){case"G":case"GG":case"GGG":return x.era(m,{width:"abbreviated"});case"GGGGG":return x.era(m,{width:"narrow"});case"GGGG":default:return x.era(m,{width:"wide"})}},y:function(y,w,x){if(w==="yo"){var m=y.getUTCFullYear(),C=m>0?m:1-m;return x.ordinalNumber(C,{unit:"year"})}return l.default.y(y,w)},Y:function(y,w,x,m){var C=(0,o.default)(y,m),S=C>0?C:1-C;if(w==="YY"){var T=S%100;return(0,s.default)(T,2)}return w==="Yo"?x.ordinalNumber(S,{unit:"year"}):(0,s.default)(S,w.length)},R:function(y,w){var x=(0,a.default)(y);return(0,s.default)(x,w.length)},u:function(y,w){var x=y.getUTCFullYear();return(0,s.default)(x,w.length)},Q:function(y,w,x){var m=Math.ceil((y.getUTCMonth()+1)/3);switch(w){case"Q":return String(m);case"QQ":return(0,s.default)(m,2);case"Qo":return x.ordinalNumber(m,{unit:"quarter"});case"QQQ":return x.quarter(m,{width:"abbreviated",context:"formatting"});case"QQQQQ":return x.quarter(m,{width:"narrow",context:"formatting"});case"QQQQ":default:return x.quarter(m,{width:"wide",context:"formatting"})}},q:function(y,w,x){var m=Math.ceil((y.getUTCMonth()+1)/3);switch(w){case"q":return String(m);case"qq":return(0,s.default)(m,2);case"qo":return x.ordinalNumber(m,{unit:"quarter"});case"qqq":return x.quarter(m,{width:"abbreviated",context:"standalone"});case"qqqqq":return x.quarter(m,{width:"narrow",context:"standalone"});case"qqqq":default:return x.quarter(m,{width:"wide",context:"standalone"})}},M:function(y,w,x){var m=y.getUTCMonth();switch(w){case"M":case"MM":return l.default.M(y,w);case"Mo":return x.ordinalNumber(m+1,{unit:"month"});case"MMM":return x.month(m,{width:"abbreviated",context:"formatting"});case"MMMMM":return x.month(m,{width:"narrow",context:"formatting"});case"MMMM":default:return x.month(m,{width:"wide",context:"formatting"})}},L:function(y,w,x){var m=y.getUTCMonth();switch(w){case"L":return String(m+1);case"LL":return(0,s.default)(m+1,2);case"Lo":return x.ordinalNumber(m+1,{unit:"month"});case"LLL":return x.month(m,{width:"abbreviated",context:"standalone"});case"LLLLL":return x.month(m,{width:"narrow",context:"standalone"});case"LLLL":default:return x.month(m,{width:"wide",context:"standalone"})}},w:function(y,w,x,m){var C=(0,i.default)(y,m);return w==="wo"?x.ordinalNumber(C,{unit:"week"}):(0,s.default)(C,w.length)},I:function(y,w,x){var m=(0,n.default)(y);return w==="Io"?x.ordinalNumber(m,{unit:"week"}):(0,s.default)(m,w.length)},d:function(y,w,x){return w==="do"?x.ordinalNumber(y.getUTCDate(),{unit:"date"}):l.default.d(y,w)},D:function(y,w,x){var m=(0,t.default)(y);return w==="Do"?x.ordinalNumber(m,{unit:"dayOfYear"}):(0,s.default)(m,w.length)},E:function(y,w,x){var m=y.getUTCDay();switch(w){case"E":case"EE":case"EEE":return x.day(m,{width:"abbreviated",context:"formatting"});case"EEEEE":return x.day(m,{width:"narrow",context:"formatting"});case"EEEEEE":return x.day(m,{width:"short",context:"formatting"});case"EEEE":default:return x.day(m,{width:"wide",context:"formatting"})}},e:function(y,w,x,m){var C=y.getUTCDay(),S=(C-m.weekStartsOn+8)%7||7;switch(w){case"e":return String(S);case"ee":return(0,s.default)(S,2);case"eo":return x.ordinalNumber(S,{unit:"day"});case"eee":return x.day(C,{width:"abbreviated",context:"formatting"});case"eeeee":return x.day(C,{width:"narrow",context:"formatting"});case"eeeeee":return x.day(C,{width:"short",context:"formatting"});case"eeee":default:return x.day(C,{width:"wide",context:"formatting"})}},c:function(y,w,x,m){var C=y.getUTCDay(),S=(C-m.weekStartsOn+8)%7||7;switch(w){case"c":return String(S);case"cc":return(0,s.default)(S,w.length);case"co":return x.ordinalNumber(S,{unit:"day"});case"ccc":return x.day(C,{width:"abbreviated",context:"standalone"});case"ccccc":return x.day(C,{width:"narrow",context:"standalone"});case"cccccc":return x.day(C,{width:"short",context:"standalone"});case"cccc":default:return x.day(C,{width:"wide",context:"standalone"})}},i:function(y,w,x){var m=y.getUTCDay(),C=m===0?7:m;switch(w){case"i":return String(C);case"ii":return(0,s.default)(C,w.length);case"io":return x.ordinalNumber(C,{unit:"day"});case"iii":return x.day(m,{width:"abbreviated",context:"formatting"});case"iiiii":return x.day(m,{width:"narrow",context:"formatting"});case"iiiiii":return x.day(m,{width:"short",context:"formatting"});case"iiii":default:return x.day(m,{width:"wide",context:"formatting"})}},a:function(y,w,x){var m=y.getUTCHours(),C=m/12>=1?"pm":"am";switch(w){case"a":case"aa":return x.dayPeriod(C,{width:"abbreviated",context:"formatting"});case"aaa":return x.dayPeriod(C,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return x.dayPeriod(C,{width:"narrow",context:"formatting"});case"aaaa":default:return x.dayPeriod(C,{width:"wide",context:"formatting"})}},b:function(y,w,x){var m=y.getUTCHours(),C;switch(m===12?C=c.noon:m===0?C=c.midnight:C=m/12>=1?"pm":"am",w){case"b":case"bb":return x.dayPeriod(C,{width:"abbreviated",context:"formatting"});case"bbb":return x.dayPeriod(C,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return x.dayPeriod(C,{width:"narrow",context:"formatting"});case"bbbb":default:return x.dayPeriod(C,{width:"wide",context:"formatting"})}},B:function(y,w,x){var m=y.getUTCHours(),C;switch(m>=17?C=c.evening:m>=12?C=c.afternoon:m>=4?C=c.morning:C=c.night,w){case"B":case"BB":case"BBB":return x.dayPeriod(C,{width:"abbreviated",context:"formatting"});case"BBBBB":return x.dayPeriod(C,{width:"narrow",context:"formatting"});case"BBBB":default:return x.dayPeriod(C,{width:"wide",context:"formatting"})}},h:function(y,w,x){if(w==="ho"){var m=y.getUTCHours()%12;return m===0&&(m=12),x.ordinalNumber(m,{unit:"hour"})}return l.default.h(y,w)},H:function(y,w,x){return w==="Ho"?x.ordinalNumber(y.getUTCHours(),{unit:"hour"}):l.default.H(y,w)},K:function(y,w,x){var m=y.getUTCHours()%12;return w==="Ko"?x.ordinalNumber(m,{unit:"hour"}):(0,s.default)(m,w.length)},k:function(y,w,x){var m=y.getUTCHours();return m===0&&(m=24),w==="ko"?x.ordinalNumber(m,{unit:"hour"}):(0,s.default)(m,w.length)},m:function(y,w,x){return w==="mo"?x.ordinalNumber(y.getUTCMinutes(),{unit:"minute"}):l.default.m(y,w)},s:function(y,w,x){return w==="so"?x.ordinalNumber(y.getUTCSeconds(),{unit:"second"}):l.default.s(y,w)},S:function(y,w){return l.default.S(y,w)},X:function(y,w,x,m){var C=m._originalDate||y,S=C.getTimezoneOffset();if(S===0)return"Z";switch(w){case"X":return v(S);case"XXXX":case"XX":return d(S);case"XXXXX":case"XXX":default:return d(S,":")}},x:function(y,w,x,m){var C=m._originalDate||y,S=C.getTimezoneOffset();switch(w){case"x":return v(S);case"xxxx":case"xx":return d(S);case"xxxxx":case"xxx":default:return d(S,":")}},O:function(y,w,x,m){var C=m._originalDate||y,S=C.getTimezoneOffset();switch(w){case"O":case"OO":case"OOO":return"GMT"+h(S,":");case"OOOO":default:return"GMT"+d(S,":")}},z:function(y,w,x,m){var C=m._originalDate||y,S=C.getTimezoneOffset();switch(w){case"z":case"zz":case"zzz":return"GMT"+h(S,":");case"zzzz":default:return"GMT"+d(S,":")}},t:function(y,w,x,m){var C=m._originalDate||y,S=Math.floor(C.getTime()/1e3);return(0,s.default)(S,w.length)},T:function(y,w,x,m){var C=m._originalDate||y,S=C.getTime();return(0,s.default)(S,w.length)}};function h(g,y){var w=g>0?"-":"+",x=Math.abs(g),m=Math.floor(x/60),C=x%60;if(C===0)return w+String(m);var S=y||"";return w+String(m)+S+(0,s.default)(C,2)}function v(g,y){if(g%60===0){var w=g>0?"-":"+";return w+(0,s.default)(Math.abs(g)/60,2)}return d(g,y)}function d(g,y){var w=y||"",x=g>0?"-":"+",m=Math.abs(g),C=(0,s.default)(Math.floor(m/60),2),S=(0,s.default)(m%60,2);return x+C+w+S}var p=f;e.default=p,r.exports=e.default})(lh,lh.exports);var tk=lh.exports,wh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(l,u){switch(l){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},n=function(l,u){switch(l){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},a=function(l,u){var c=l.match(/(P+)(p+)?/)||[],f=c[1],h=c[2];if(!h)return t(l,u);var v;switch(f){case"P":v=u.dateTime({width:"short"});break;case"PP":v=u.dateTime({width:"medium"});break;case"PPP":v=u.dateTime({width:"long"});break;case"PPPP":default:v=u.dateTime({width:"full"});break}return v.replace("{{date}}",t(f,u)).replace("{{time}}",n(h,u))},i={p:n,P:a},o=i;e.default=o,r.exports=e.default})(wh,wh.exports);var ek=wh.exports,bh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){var a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),n.getTime()-a.getTime()}r.exports=e.default})(bh,bh.exports);var K0=bh.exports;const Cg=Kl(K0);var io={};Object.defineProperty(io,"__esModule",{value:!0});io.isProtectedDayOfYearToken=ak;io.isProtectedWeekYearToken=ik;io.throwProtectedError=ok;var rk=["D","DD"],nk=["YY","YYYY"];function ak(r){return rk.indexOf(r)!==-1}function ik(r){return nk.indexOf(r)!==-1}function ok(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ch={exports:{}},Sh={exports:{}},Mh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n=function(o,s,l){var u,c=t[o];return typeof c=="string"?u=c:s===1?u=c.one:u=c.other.replace("{{count}}",s.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+u:u+" ago":u},a=n;e.default=a,r.exports=e.default})(Mh,Mh.exports);var sk=Mh.exports,Th={exports:{}},Ph={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=a.width?String(a.width):n.defaultWidth,o=n.formats[i]||n.formats[n.defaultWidth];return o}}r.exports=e.default})(Ph,Ph.exports);var lk=Ph.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(lk);function n(u){return u&&u.__esModule?u:{default:u}}var a={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s={date:(0,t.default)({formats:a,defaultWidth:"full"}),time:(0,t.default)({formats:i,defaultWidth:"full"}),dateTime:(0,t.default)({formats:o,defaultWidth:"full"})},l=s;e.default=l,r.exports=e.default})(Th,Th.exports);var uk=Th.exports,Oh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},n=function(o,s,l,u){return t[o]},a=n;e.default=a,r.exports=e.default})(Oh,Oh.exports);var ck=Oh.exports,kh={exports:{}},Ah={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){return function(a,i){var o=i!=null&&i.context?String(i.context):"standalone",s;if(o==="formatting"&&n.formattingValues){var l=n.defaultFormattingWidth||n.defaultWidth,u=i!=null&&i.width?String(i.width):l;s=n.formattingValues[u]||n.formattingValues[l]}else{var c=n.defaultWidth,f=i!=null&&i.width?String(i.width):n.defaultWidth;s=n.values[f]||n.values[c]}var h=n.argumentCallback?n.argumentCallback(a):a;return s[h]}}r.exports=e.default})(Ah,Ah.exports);var fk=Ah.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(fk);function n(v){return v&&v.__esModule?v:{default:v}}var a={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},s={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},c=function(d,p){var g=Number(d),y=g%100;if(y>20||y<10)switch(y%10){case 1:return g+"st";case 2:return g+"nd";case 3:return g+"rd"}return g+"th"},f={ordinalNumber:c,era:(0,t.default)({values:a,defaultWidth:"wide"}),quarter:(0,t.default)({values:i,defaultWidth:"wide",argumentCallback:function(d){return d-1}}),month:(0,t.default)({values:o,defaultWidth:"wide"}),day:(0,t.default)({values:s,defaultWidth:"wide"}),dayPeriod:(0,t.default)({values:l,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},h=f;e.default=h,r.exports=e.default})(kh,kh.exports);var hk=kh.exports,Dh={exports:{}},_h={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i){return function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.width,u=l&&i.matchPatterns[l]||i.matchPatterns[i.defaultMatchWidth],c=o.match(u);if(!c)return null;var f=c[0],h=l&&i.parsePatterns[l]||i.parsePatterns[i.defaultParseWidth],v=Array.isArray(h)?a(h,function(g){return g.test(f)}):n(h,function(g){return g.test(f)}),d;d=i.valueCallback?i.valueCallback(v):v,d=s.valueCallback?s.valueCallback(d):d;var p=o.slice(f.length);return{value:d,rest:p}}}function n(i,o){for(var s in i)if(i.hasOwnProperty(s)&&o(i[s]))return s}function a(i,o){for(var s=0;s<i.length;s++)if(o(i[s]))return s}r.exports=e.default})(_h,_h.exports);var vk=_h.exports,Eh={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){return function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.match(n.matchPattern);if(!o)return null;var s=o[0],l=a.match(n.parsePattern);if(!l)return null;var u=n.valueCallback?n.valueCallback(l[0]):l[0];u=i.valueCallback?i.valueCallback(u):u;var c=a.slice(s.length);return{value:u,rest:c}}}r.exports=e.default})(Eh,Eh.exports);var dk=Eh.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(vk),n=a(dk);function a(x){return x&&x.__esModule?x:{default:x}}var i=/^(\d+)(th|st|nd|rd)?/i,o=/\d+/i,s={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c={any:[/1/i,/2/i,/3/i,/4/i]},f={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},h={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},v={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},d={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},p={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},g={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},y={ordinalNumber:(0,n.default)({matchPattern:i,parsePattern:o,valueCallback:function(m){return parseInt(m,10)}}),era:(0,t.default)({matchPatterns:s,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,t.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:c,defaultParseWidth:"any",valueCallback:function(m){return m+1}}),month:(0,t.default)({matchPatterns:f,defaultMatchWidth:"wide",parsePatterns:h,defaultParseWidth:"any"}),day:(0,t.default)({matchPatterns:v,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any"}),dayPeriod:(0,t.default)({matchPatterns:p,defaultMatchWidth:"any",parsePatterns:g,defaultParseWidth:"any"})},w=y;e.default=w,r.exports=e.default})(Dh,Dh.exports);var pk=Dh.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=s(sk),n=s(uk),a=s(ck),i=s(hk),o=s(pk);function s(c){return c&&c.__esModule?c:{default:c}}var l={code:"en-US",formatDistance:t.default,formatLong:n.default,formatRelative:a.default,localize:i.default,match:o.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=l;e.default=u,r.exports=e.default})(Sh,Sh.exports);var gk=Sh.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(gk);function n(i){return i&&i.__esModule?i:{default:i}}var a=t.default;e.default=a,r.exports=e.default})(Ch,Ch.exports);var yk=Ch.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=x;var t=v(HO),n=v(WO),a=v(Nr),i=v(tk),o=v(ek),s=v(K0),l=io,u=v(aa),c=v($e),f=ia,h=v(yk);function v(C){return C&&C.__esModule?C:{default:C}}var d=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g=/^'([^]*?)'?$/,y=/''/g,w=/[a-zA-Z]/;function x(C,S,T){var A,k,D,$,L,F,X,j,Z,ot,dt,ut,nt,rt,wt,Et,zt,gt;(0,c.default)(2,arguments);var Gt=String(S),Ct=(0,f.getDefaultOptions)(),xt=(A=(k=T==null?void 0:T.locale)!==null&&k!==void 0?k:Ct.locale)!==null&&A!==void 0?A:h.default,st=(0,u.default)((D=($=(L=(F=T==null?void 0:T.firstWeekContainsDate)!==null&&F!==void 0?F:T==null||(X=T.locale)===null||X===void 0||(j=X.options)===null||j===void 0?void 0:j.firstWeekContainsDate)!==null&&L!==void 0?L:Ct.firstWeekContainsDate)!==null&&$!==void 0?$:(Z=Ct.locale)===null||Z===void 0||(ot=Z.options)===null||ot===void 0?void 0:ot.firstWeekContainsDate)!==null&&D!==void 0?D:1);if(!(st>=1&&st<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ft=(0,u.default)((dt=(ut=(nt=(rt=T==null?void 0:T.weekStartsOn)!==null&&rt!==void 0?rt:T==null||(wt=T.locale)===null||wt===void 0||(Et=wt.options)===null||Et===void 0?void 0:Et.weekStartsOn)!==null&&nt!==void 0?nt:Ct.weekStartsOn)!==null&&ut!==void 0?ut:(zt=Ct.locale)===null||zt===void 0||(gt=zt.options)===null||gt===void 0?void 0:gt.weekStartsOn)!==null&&dt!==void 0?dt:0);if(!(ft>=0&&ft<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!xt.localize)throw new RangeError("locale must contain localize property");if(!xt.formatLong)throw new RangeError("locale must contain formatLong property");var qt=(0,a.default)(C);if(!(0,t.default)(qt))throw new RangeError("Invalid time value");var ce=(0,s.default)(qt),Ye=(0,n.default)(qt,ce),ne={firstWeekContainsDate:st,weekStartsOn:ft,locale:xt,_originalDate:qt},xe=Gt.match(p).map(function(Ot){var N=Ot[0];if(N==="p"||N==="P"){var at=o.default[N];return at(Ot,xt.formatLong)}return Ot}).join("").match(d).map(function(Ot){if(Ot==="''")return"'";var N=Ot[0];if(N==="'")return m(Ot);var at=i.default[N];if(at)return!(T!=null&&T.useAdditionalWeekYearTokens)&&(0,l.isProtectedWeekYearToken)(Ot)&&(0,l.throwProtectedError)(Ot,S,String(C)),!(T!=null&&T.useAdditionalDayOfYearTokens)&&(0,l.isProtectedDayOfYearToken)(Ot)&&(0,l.throwProtectedError)(Ot,S,String(C)),at(Ye,Ot,xt.localize,ne);if(N.match(w))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return Ot}).join("");return xe}function m(C){var S=C.match(g);return S?S[1].replace(y,"'"):C}r.exports=e.default})(th,th.exports);var mk=th.exports;const xk=Kl(mk);function Sg(r,e,t){var n=Ck(r,t.timeZone,t.locale);return n.formatToParts?wk(n,e):bk(n,e)}function wk(r,e){for(var t=r.formatToParts(e),n=t.length-1;n>=0;--n)if(t[n].type==="timeZoneName")return t[n].value}function bk(r,e){var t=r.format(e).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(t);return n?n[0].substr(1):""}function Ck(r,e,t){if(t&&!t.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(t?[t.code,"en-US"]:void 0,{timeZone:e,timeZoneName:r})}function Sk(r,e){var t=Ok(e);return t.formatToParts?Tk(t,r):Pk(t,r)}var Mk={year:0,month:1,day:2,hour:3,minute:4,second:5};function Tk(r,e){try{for(var t=r.formatToParts(e),n=[],a=0;a<t.length;a++){var i=Mk[t[a].type];i>=0&&(n[i]=parseInt(t[a].value,10))}return n}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function Pk(r,e){var t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var Qu={};function Ok(r){if(!Qu[r]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),t=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Qu[r]=t?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:r,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Qu[r]}function J0(r,e,t,n,a,i,o){var s=new Date(0);return s.setUTCFullYear(r,e,t),s.setUTCHours(n,a,i,o),s}var Mg=36e5,kk=6e4,Zu={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function Nv(r,e,t){var n,a;if(!r||(n=Zu.timezoneZ.exec(r),n))return 0;var i;if(n=Zu.timezoneHH.exec(r),n)return i=parseInt(n[1],10),Tg(i)?-(i*Mg):NaN;if(n=Zu.timezoneHHMM.exec(r),n){i=parseInt(n[1],10);var o=parseInt(n[2],10);return Tg(i,o)?(a=Math.abs(i)*Mg+o*kk,i>0?-a:a):NaN}if(_k(r)){e=new Date(e||Date.now());var s=t?e:Ak(e),l=Ih(s,r),u=t?l:Dk(e,l,r);return-u}return NaN}function Ak(r){return J0(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())}function Ih(r,e){var t=Sk(r,e),n=J0(t[0],t[1]-1,t[2],t[3]%24,t[4],t[5],0).getTime(),a=r.getTime(),i=a%1e3;return a-=i>=0?i:1e3+i,n-a}function Dk(r,e,t){var n=r.getTime(),a=n-e,i=Ih(new Date(a),t);if(e===i)return e;a-=i-e;var o=Ih(new Date(a),t);return i===o?i:Math.max(i,o)}function Tg(r,e){return-23<=r&&r<=23&&(e==null||0<=e&&e<=59)}var Pg={};function _k(r){if(Pg[r])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:r}),Pg[r]=!0,!0}catch{return!1}}var Ek=60*1e3,Ik={X:function(r,e,t,n){var a=Ku(n.timeZone,n._originalDate||r);if(a===0)return"Z";switch(e){case"X":return Og(a);case"XXXX":case"XX":return xa(a);case"XXXXX":case"XXX":default:return xa(a,":")}},x:function(r,e,t,n){var a=Ku(n.timeZone,n._originalDate||r);switch(e){case"x":return Og(a);case"xxxx":case"xx":return xa(a);case"xxxxx":case"xxx":default:return xa(a,":")}},O:function(r,e,t,n){var a=Ku(n.timeZone,n._originalDate||r);switch(e){case"O":case"OO":case"OOO":return"GMT"+Rk(a,":");case"OOOO":default:return"GMT"+xa(a,":")}},z:function(r,e,t,n){var a=n._originalDate||r;switch(e){case"z":case"zz":case"zzz":return Sg("short",a,n);case"zzzz":default:return Sg("long",a,n)}}};function Ku(r,e){var t=r?Nv(r,e,!0)/Ek:e.getTimezoneOffset();if(Number.isNaN(t))throw new RangeError("Invalid time zone specified: "+r);return t}function Al(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}function xa(r,e){var t=e||"",n=r>0?"-":"+",a=Math.abs(r),i=Al(Math.floor(a/60),2),o=Al(Math.floor(a%60),2);return n+i+t+o}function Og(r,e){if(r%60===0){var t=r>0?"-":"+";return t+Al(Math.abs(r)/60,2)}return xa(r,e)}function Rk(r,e){var t=r>0?"-":"+",n=Math.abs(r),a=Math.floor(n/60),i=n%60;if(i===0)return t+String(a);var o=e||"";return t+String(a)+o+Al(i,2)}const Lk=Ik;var Bk=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Ju=36e5,kg=6e4,Fk=2,Re={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Bk};function tx(r,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(r===null)return new Date(NaN);var t=e||{},n=t.additionalDigits==null?Fk:zO(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]")return new Date(r.getTime());if(typeof r=="number"||Object.prototype.toString.call(r)==="[object Number]")return new Date(r);if(!(typeof r=="string"||Object.prototype.toString.call(r)==="[object String]"))return new Date(NaN);var a=$k(r),i=Yk(a.date,n),o=i.year,s=i.restDateString,l=Nk(s,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,f;if(a.time&&(c=Vk(a.time),isNaN(c)))return new Date(NaN);if(a.timeZone||t.timeZone){if(f=Nv(a.timeZone||t.timeZone,new Date(u+c)),isNaN(f))return new Date(NaN)}else f=Cg(new Date(u+c)),f=Cg(new Date(u+c+f));return new Date(u+c+f)}else return new Date(NaN)}function $k(r){var e={},t=Re.dateTimePattern.exec(r),n;if(t?(e.date=t[1],n=t[3]):(t=Re.datePattern.exec(r),t?(e.date=t[1],n=t[2]):(e.date=null,n=r)),n){var a=Re.timeZone.exec(n);a?(e.time=n.replace(a[1],""),e.timeZone=a[1].trim()):e.time=n}return e}function Yk(r,e){var t=Re.YYY[e],n=Re.YYYYY[e],a;if(a=Re.YYYY.exec(r)||n.exec(r),a){var i=a[1];return{year:parseInt(i,10),restDateString:r.slice(i.length)}}if(a=Re.YY.exec(r)||t.exec(r),a){var o=a[1];return{year:parseInt(o,10)*100,restDateString:r.slice(o.length)}}return{year:null}}function Nk(r,e){if(e===null)return null;var t,n,a,i;if(r.length===0)return n=new Date(0),n.setUTCFullYear(e),n;if(t=Re.MM.exec(r),t)return n=new Date(0),a=parseInt(t[1],10)-1,Dg(e,a)?(n.setUTCFullYear(e,a),n):new Date(NaN);if(t=Re.DDD.exec(r),t){n=new Date(0);var o=parseInt(t[1],10);return Gk(e,o)?(n.setUTCFullYear(e,0,o),n):new Date(NaN)}if(t=Re.MMDD.exec(r),t){n=new Date(0),a=parseInt(t[1],10)-1;var s=parseInt(t[2],10);return Dg(e,a,s)?(n.setUTCFullYear(e,a,s),n):new Date(NaN)}if(t=Re.Www.exec(r),t)return i=parseInt(t[1],10)-1,_g(e,i)?Ag(e,i):new Date(NaN);if(t=Re.WwwD.exec(r),t){i=parseInt(t[1],10)-1;var l=parseInt(t[2],10)-1;return _g(e,i,l)?Ag(e,i,l):new Date(NaN)}return null}function Vk(r){var e,t,n;if(e=Re.HH.exec(r),e)return t=parseFloat(e[1].replace(",",".")),tc(t)?t%24*Ju:NaN;if(e=Re.HHMM.exec(r),e)return t=parseInt(e[1],10),n=parseFloat(e[2].replace(",",".")),tc(t,n)?t%24*Ju+n*kg:NaN;if(e=Re.HHMMSS.exec(r),e){t=parseInt(e[1],10),n=parseInt(e[2],10);var a=parseFloat(e[3].replace(",","."));return tc(t,n,a)?t%24*Ju+n*kg+a*1e3:NaN}return null}function Ag(r,e,t){e=e||0,t=t||0;var n=new Date(0);n.setUTCFullYear(r,0,4);var a=n.getUTCDay()||7,i=e*7+t+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var Hk=[31,28,31,30,31,30,31,31,30,31,30,31],zk=[31,29,31,30,31,30,31,31,30,31,30,31];function ex(r){return r%400===0||r%4===0&&r%100!==0}function Dg(r,e,t){if(e<0||e>11)return!1;if(t!=null){if(t<1)return!1;var n=ex(r);if(n&&t>zk[e]||!n&&t>Hk[e])return!1}return!0}function Gk(r,e){if(e<1)return!1;var t=ex(r);return!(t&&e>366||!t&&e>365)}function _g(r,e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function tc(r,e,t){return!(r!=null&&(r<0||r>=25)||e!=null&&(e<0||e>=60)||t!=null&&(t<0||t>=60))}var Wk=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Xk(r,e,t){var n=String(e),a=t||{},i=n.match(Wk);if(i){var o=tx(r,a);n=i.reduce(function(s,l){if(l[0]==="'")return s;var u=s.indexOf(l),c=s[u-1]==="'",f=s.replace(l,"'"+Lk[l[0]](o,l,null,a)+"'");return c?f.substring(0,u-1)+f.substring(u+1):f},n)}return xk(r,n,a)}function Uk(r,e,t){var n=tx(r,t),a=Nv(e,n,!0),i=new Date(n.getTime()-a),o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}function qk(r,e,t,n){var a=NO(n);return a.timeZone=e,Xk(Uk(r,e),t,a)}const bi={amHours:["00","01","02","03","04","05","06","07","08","09","10","11"],pmHours:["12","01","02","03","04","05","06","07","08","09","10","11"],hours:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],minutes:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],seconds:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],period:["AM","PM"]};function ec(r){return`00${r}`.slice(-2)}function Ci(r,e,t){return Array.isArray(e)?(t==="am"?e.filter(n=>n<12):t==="pm"?e.filter(n=>n>=12).map(n=>n===12?12:n-12):e).map(n=>ec(n)):typeof e=="number"?t==="am"?r.filter(n=>{const a=Number(n);return a<12&&a%e===0}):t==="pm"?r.filter(n=>{const a=Number(n);return a>=12&&a%e===0}).map(n=>{const a=Number(n);return ec(a===12?12:a-12)}):r.filter(n=>Number(n)%e===0):t==="am"?r.filter(n=>Number(n)<12):t==="pm"?r.map(n=>Number(n)).filter(n=>Number(n)>=12).map(n=>ec(n===12?12:n-12)):r}function xo(r,e,t){return t?typeof t=="number"?r%t===0:t.includes(r):!0}function jk(r,e,t){const n=Ci(bi[e],t).map(Number);let a,i;for(let o=0;o<n.length;++o){const s=n[o];if(s===r)return s;if(s>r){i=s;break}a=s}return a===void 0?(i||QC("time-picker","Please set 'hours' or 'minutes' or 'seconds' props"),i):i===void 0||i-r>r-a?a:i}function Qk(r){return vn(r)<12?"am":"pm"}const rx=p0("n-time-picker"),wo=me({name:"TimePickerPanelCol",props:{clsPrefix:{type:String,required:!0},data:{type:Array,required:!0},activeValue:{type:Number,default:null},onItemClick:Function},render(){const{activeValue:r,onItemClick:e,clsPrefix:t}=this;return this.data.map(n=>{const{label:a,disabled:i,value:o}=n,s=r===o;return P("div",{key:a,"data-active":s?"":null,class:[`${t}-time-picker-col__item`,s&&`${t}-time-picker-col__item--active`,i&&`${t}-time-picker-col__item--disabled`],onClick:e&&!i?()=>e(o):void 0},a)})}}),Zk={actions:{type:Array,default:()=>["now","confirm"]},showHour:{type:Boolean,default:!0},showMinute:{type:Boolean,default:!0},showSecond:{type:Boolean,default:!0},showPeriod:{type:Boolean,default:!0},isHourInvalid:Boolean,isMinuteInvalid:Boolean,isSecondInvalid:Boolean,isAmPmInvalid:Boolean,isValueInvalid:Boolean,hourValue:{type:Number,default:null},minuteValue:{type:Number,default:null},secondValue:{type:Number,default:null},amPmValue:{type:String,default:null},isHourDisabled:Function,isMinuteDisabled:Function,isSecondDisabled:Function,onHourClick:{type:Function,required:!0},onMinuteClick:{type:Function,required:!0},onSecondClick:{type:Function,required:!0},onAmPmClick:{type:Function,required:!0},onNowClick:Function,nowText:String,confirmText:String,transitionDisabled:Boolean,onConfirmClick:Function,onFocusin:Function,onFocusout:Function,onFocusDetectorFocus:Function,onKeydown:Function,hours:[Number,Array],minutes:[Number,Array],seconds:[Number,Array],use12Hours:Boolean},Kk=me({name:"TimePickerPanel",props:Zk,setup(r){const{mergedThemeRef:e,mergedClsPrefixRef:t}=Jl(rx),n=H(()=>{const{isHourDisabled:s,hours:l,use12Hours:u,amPmValue:c}=r;if(u){const f=c??Qk(Date.now());return Ci(bi.hours,l,f).map(h=>{const v=Number(h),d=f==="pm"&&v!==12?v+12:v;return{label:h,value:d,disabled:s?s(d):!1}})}else return Ci(bi.hours,l).map(f=>({label:f,value:Number(f),disabled:s?s(Number(f)):!1}))}),a=H(()=>{const{isMinuteDisabled:s,minutes:l}=r;return Ci(bi.minutes,l).map(u=>({label:u,value:Number(u),disabled:s?s(Number(u),r.hourValue):!1}))}),i=H(()=>{const{isSecondDisabled:s,seconds:l}=r;return Ci(bi.seconds,l).map(u=>({label:u,value:Number(u),disabled:s?s(Number(u),r.minuteValue,r.hourValue):!1}))}),o=H(()=>{const{isHourDisabled:s}=r;let l=!0,u=!0;for(let c=0;c<12;++c)if(!(s!=null&&s(c))){l=!1;break}for(let c=12;c<24;++c)if(!(s!=null&&s(c))){u=!1;break}return[{label:"AM",value:"am",disabled:l},{label:"PM",value:"pm",disabled:u}]});return{mergedTheme:e,mergedClsPrefix:t,hours:n,minutes:a,seconds:i,amPm:o,hourScrollRef:lt(null),minuteScrollRef:lt(null),secondScrollRef:lt(null),amPmScrollRef:lt(null)}},render(){var r,e,t;const{mergedClsPrefix:n,mergedTheme:a}=this;return P("div",{tabindex:0,class:`${n}-time-picker-panel`,onFocusin:this.onFocusin,onFocusout:this.onFocusout,onKeydown:this.onKeydown},P("div",{class:`${n}-time-picker-cols`},this.showHour?P("div",{class:[`${n}-time-picker-col`,this.isHourInvalid&&`${n}-time-picker-col--invalid`,this.transitionDisabled&&`${n}-time-picker-col--transition-disabled`]},P(Ir,{ref:"hourScrollRef",theme:a.peers.Scrollbar,themeOverrides:a.peerOverrides.Scrollbar},{default:()=>[P(wo,{clsPrefix:n,data:this.hours,activeValue:this.hourValue,onItemClick:this.onHourClick}),P("div",{class:`${n}-time-picker-col__padding`})]})):null,this.showMinute?P("div",{class:[`${n}-time-picker-col`,this.transitionDisabled&&`${n}-time-picker-col--transition-disabled`,this.isMinuteInvalid&&`${n}-time-picker-col--invalid`]},P(Ir,{ref:"minuteScrollRef",theme:a.peers.Scrollbar,themeOverrides:a.peerOverrides.Scrollbar},{default:()=>[P(wo,{clsPrefix:n,data:this.minutes,activeValue:this.minuteValue,onItemClick:this.onMinuteClick}),P("div",{class:`${n}-time-picker-col__padding`})]})):null,this.showSecond?P("div",{class:[`${n}-time-picker-col`,this.isSecondInvalid&&`${n}-time-picker-col--invalid`,this.transitionDisabled&&`${n}-time-picker-col--transition-disabled`]},P(Ir,{ref:"secondScrollRef",theme:a.peers.Scrollbar,themeOverrides:a.peerOverrides.Scrollbar},{default:()=>[P(wo,{clsPrefix:n,data:this.seconds,activeValue:this.secondValue,onItemClick:this.onSecondClick}),P("div",{class:`${n}-time-picker-col__padding`})]})):null,this.use12Hours?P("div",{class:[`${n}-time-picker-col`,this.isAmPmInvalid&&`${n}-time-picker-col--invalid`,this.transitionDisabled&&`${n}-time-picker-col--transition-disabled`]},P(Ir,{ref:"amPmScrollRef",theme:a.peers.Scrollbar,themeOverrides:a.peerOverrides.Scrollbar},{default:()=>[P(wo,{clsPrefix:n,data:this.amPm,activeValue:this.amPmValue,onItemClick:this.onAmPmClick}),P("div",{class:`${n}-time-picker-col__padding`})]})):null),!((r=this.actions)===null||r===void 0)&&r.length?P("div",{class:`${n}-time-picker-actions`},!((e=this.actions)===null||e===void 0)&&e.includes("now")?P(Be,{size:"tiny",theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,onClick:this.onNowClick},{default:()=>this.nowText}):null,!((t=this.actions)===null||t===void 0)&&t.includes("confirm")?P(Be,{size:"tiny",type:"primary",class:`${n}-time-picker-actions__confirm`,theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,disabled:this.isValueInvalid,onClick:this.onConfirmClick},{default:()=>this.confirmText}):null):null,P(na,{onFocus:this.onFocusDetectorFocus}))}}),Jk=Tt([$t("time-picker",`
 z-index: auto;
 position: relative;
 `,[$t("time-picker-icon",`
 color: var(--n-icon-color-override);
 transition: color .3s var(--n-bezier);
 `),Lt("disabled",[$t("time-picker-icon",`
 color: var(--n-icon-color-disabled-override);
 `)])]),$t("time-picker-panel",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 font-size: var(--n-item-font-size);
 border-radius: var(--n-border-radius);
 margin: 4px 0;
 min-width: 104px;
 overflow: hidden;
 background-color: var(--n-panel-color);
 box-shadow: var(--n-panel-box-shadow);
 `,[g0(),$t("time-picker-actions",`
 padding: var(--n-panel-action-padding);
 align-items: center;
 display: flex;
 justify-content: space-evenly;
 `),$t("time-picker-cols",`
 height: calc(var(--n-item-height) * 6);
 display: flex;
 position: relative;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-panel-divider-color);
 `),$t("time-picker-col",`
 flex-grow: 1;
 min-width: var(--n-item-width);
 height: calc(var(--n-item-height) * 6);
 flex-direction: column;
 transition: box-shadow .3s var(--n-bezier);
 `,[Lt("transition-disabled",[fe("item","transition: none;",[Tt("&::before","transition: none;")])]),fe("padding",`
 height: calc(var(--n-item-height) * 5);
 `),Tt("&:first-child","min-width: calc(var(--n-item-width) + 4px);",[fe("item",[Tt("&::before","left: 4px;")])]),fe("item",`
 cursor: pointer;
 height: var(--n-item-height);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 background: #0000;
 text-decoration-color: #0000;
 color: var(--n-item-text-color);
 z-index: 0;
 box-sizing: border-box;
 padding-top: 4px;
 position: relative;
 `,[Tt("&::before",`
 content: "";
 transition: background-color .3s var(--n-bezier);
 z-index: -1;
 position: absolute;
 left: 0;
 right: 4px;
 top: 4px;
 bottom: 0;
 border-radius: var(--n-item-border-radius);
 `),wi("disabled",[Tt("&:hover::before",`
 background-color: var(--n-item-color-hover);
 `)]),Lt("active",`
 color: var(--n-item-text-color-active);
 `,[Tt("&::before",`
 background-color: var(--n-item-color-hover);
 `)]),Lt("disabled",`
 opacity: var(--n-item-opacity-disabled);
 cursor: not-allowed;
 `)]),Lt("invalid",[fe("item",[Lt("active",`
 text-decoration: line-through;
 text-decoration-color: var(--n-item-text-color-active);
 `)])])])])]);function rc(r,e){return r===void 0?!0:Array.isArray(r)?r.every(t=>t>=0&&t<=e):r>=0&&r<=e}const tA=Object.assign(Object.assign({},tu.props),{to:Ia.propTo,bordered:{type:Boolean,default:void 0},actions:Array,defaultValue:{type:Number,default:null},defaultFormattedValue:String,placeholder:String,placement:{type:String,default:"bottom-start"},value:Number,format:{type:String,default:"HH:mm:ss"},valueFormat:String,formattedValue:String,isHourDisabled:Function,size:String,isMinuteDisabled:Function,isSecondDisabled:Function,inputReadonly:Boolean,clearable:Boolean,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onUpdateFormattedValue:[Function,Array],"onUpdate:formattedValue":[Function,Array],onBlur:[Function,Array],onConfirm:[Function,Array],onClear:Function,onFocus:[Function,Array],timeZone:String,showIcon:{type:Boolean,default:!0},disabled:{type:Boolean,default:void 0},show:{type:Boolean,default:void 0},hours:{type:[Number,Array],validator:r=>rc(r,23)},minutes:{type:[Number,Array],validator:r=>rc(r,59)},seconds:{type:[Number,Array],validator:r=>rc(r,59)},use12Hours:Boolean,stateful:{type:Boolean,default:!0},onChange:[Function,Array]}),Rh=me({name:"TimePicker",props:tA,setup(r){const{mergedBorderedRef:e,mergedClsPrefixRef:t,namespaceRef:n,inlineThemeDisabled:a}=y0(r),{localeRef:i,dateLocaleRef:o}=Tv("TimePicker"),s=m0(r),{mergedSizeRef:l,mergedDisabledRef:u,mergedStatusRef:c}=s,f=tu("TimePicker","-time-picker",Jk,U0,r,t),h=k0(),v=lt(null),d=lt(null),p=H(()=>({locale:o.value.locale}));function g(I){return I===null?null:Xe(I,r.valueFormat||r.format,new Date,p.value).getTime()}const{defaultValue:y,defaultFormattedValue:w}=r,x=lt(w!==void 0?g(w):y),m=H(()=>{const{formattedValue:I}=r;if(I!==void 0)return g(I);const{value:z}=r;return z!==void 0?z:x.value}),C=H(()=>{const{timeZone:I}=r;return I?(z,K,mt)=>qk(z,I,K,mt):(z,K,mt)=>Xt(z,K,mt)}),S=lt("");br(()=>r.timeZone,()=>{const I=m.value;S.value=I===null?"":C.value(I,r.format,p.value)},{immediate:!0});const T=lt(!1),A=sn(r,"show"),k=Rc(A,T),D=lt(m.value),$=lt(!1),L=H(()=>i.value.now),F=H(()=>r.placeholder!==void 0?r.placeholder:i.value.placeholder),X=H(()=>i.value.negativeText),j=H(()=>i.value.positiveText),Z=H(()=>/H|h|K|k/.test(r.format)),ot=H(()=>r.format.includes("m")),dt=H(()=>r.format.includes("s")),ut=H(()=>{const{isHourDisabled:I}=r;return gt.value===null?!1:xo(gt.value,"hours",r.hours)?I?I(gt.value):!1:!0}),nt=H(()=>{const{value:I}=Gt,{value:z}=gt;if(I===null||z===null)return!1;if(!xo(I,"minutes",r.minutes))return!0;const{isMinuteDisabled:K}=r;return K?K(I,z):!1}),rt=H(()=>{const{value:I}=Gt,{value:z}=gt,{value:K}=Ct;if(K===null||I===null||z===null)return!1;if(!xo(K,"seconds",r.seconds))return!0;const{isSecondDisabled:mt}=r;return mt?mt(K,I,z):!1}),wt=H(()=>ut.value||nt.value||rt.value),Et=H(()=>r.format.length+4),zt=H(()=>{const{value:I}=m;return I===null?null:vn(I)<12?"am":"pm"}),gt=H(()=>{const{value:I}=m;return I===null?null:Number(C.value(I,"HH",p.value))}),Gt=H(()=>{const{value:I}=m;return I===null?null:Number(C.value(I,"mm",p.value))}),Ct=H(()=>{const{value:I}=m;return I===null?null:Number(C.value(I,"ss",p.value))});function xt(I,z){const{onUpdateFormattedValue:K,"onUpdate:formattedValue":mt}=r;K&&pe(K,I,z),mt&&pe(mt,I,z)}function st(I){return I===null?null:C.value(I,r.valueFormat||r.format)}function ft(I){const{onUpdateValue:z,"onUpdate:value":K,onChange:mt}=r,{nTriggerFormChange:Ke,nTriggerFormInput:Je}=s,jt=st(I);z&&pe(z,I,jt),K&&pe(K,I,jt),mt&&pe(mt,I,jt),xt(jt,I),x.value=I,Ke(),Je()}function qt(I){const{onFocus:z}=r,{nTriggerFormFocus:K}=s;z&&pe(z,I),K()}function ce(I){const{onBlur:z}=r,{nTriggerFormBlur:K}=s;z&&pe(z,I),K()}function Ye(){const{onConfirm:I}=r;I&&pe(I,m.value,st(m.value))}function ne(I){var z;I.stopPropagation(),ft(null),pr(null),(z=r.onClear)===null||z===void 0||z.call(r)}function xe(){Ze({returnFocus:!0})}function Ot(I){I.key==="Escape"&&k.value&&zs(I)}function N(I){var z;switch(I.key){case"Escape":k.value&&(zs(I),Ze({returnFocus:!0}));break;case"Tab":h.shift&&I.target===((z=d.value)===null||z===void 0?void 0:z.$el)&&(I.preventDefault(),Ze({returnFocus:!0}));break}}function at(){$.value=!0,Jo(()=>{$.value=!1})}function ae(I){u.value||A0(I,"clear")||k.value||In()}function ti(I){typeof I!="string"&&(m.value===null?ft(U(Bn(yO(new Date),I))):ft(U(Bn(m.value,I))))}function ua(I){typeof I!="string"&&(m.value===null?ft(U(Uu(T1(new Date),I))):ft(U(Uu(m.value,I))))}function Tr(I){typeof I!="string"&&(m.value===null?ft(U(qu(Bv(new Date),I))):ft(U(qu(m.value,I))))}function ei(I){const{value:z}=m;if(z===null){const K=new Date,mt=vn(K);I==="pm"&&mt<12?ft(U(Bn(K,mt+12))):I==="am"&&mt>=12&&ft(U(Bn(K,mt-12))),ft(U(K))}else{const K=vn(z);I==="pm"&&K<12?ft(U(Bn(z,K+12))):I==="am"&&K>=12&&ft(U(Bn(z,K-12)))}}function pr(I){I===void 0&&(I=m.value),I===null?S.value="":S.value=C.value(I,r.format,p.value)}function ca(I){En(I)||qt(I)}function Ee(I){var z;if(!En(I))if(k.value){const K=(z=d.value)===null||z===void 0?void 0:z.$el;K!=null&&K.contains(I.relatedTarget)||(pr(),ce(I),Ze({returnFocus:!1}))}else pr(),ce(I)}function ri(){u.value||k.value||In()}function ni(){u.value||(pr(),Ze({returnFocus:!1}))}function fa(){if(!d.value)return;const{hourScrollRef:I,minuteScrollRef:z,secondScrollRef:K,amPmScrollRef:mt}=d.value;[I,z,K,mt].forEach(Ke=>{var Je;if(!Ke)return;const jt=(Je=Ke.contentRef)===null||Je===void 0?void 0:Je.querySelector("[data-active]");jt&&Ke.scrollTo({top:jt.offsetTop})})}function _n(I){T.value=I;const{onUpdateShow:z,"onUpdate:show":K}=r;z&&pe(z,I),K&&pe(K,I)}function En(I){var z,K,mt;return!!(!((K=(z=v.value)===null||z===void 0?void 0:z.wrapperElRef)===null||K===void 0)&&K.contains(I.relatedTarget)||!((mt=d.value)===null||mt===void 0)&&mt.$el.contains(I.relatedTarget))}function In(){D.value=m.value,_n(!0),Jo(fa)}function Pr(I){var z,K;k.value&&!(!((K=(z=v.value)===null||z===void 0?void 0:z.wrapperElRef)===null||K===void 0)&&K.contains(Mv(I)))&&Ze({returnFocus:!1})}function Ze({returnFocus:I}){var z;k.value&&(_n(!1),I&&((z=v.value)===null||z===void 0||z.focus()))}function Rn(I){if(I===""){ft(null);return}const z=Xe(I,r.format,new Date,p.value);if(S.value=I,cr(z)){const{value:K}=m;if(K!==null){const mt=Oe(K,{hours:vn(z),minutes:Us(z),seconds:qs(z)});ft(U(mt))}else ft(U(z))}}function ai(){ft(D.value),_n(!1)}function Ln(){const I=new Date,z={hours:vn,minutes:Us,seconds:qs},[K,mt,Ke]=["hours","minutes","seconds"].map(jt=>!r[jt]||xo(z[jt](I),jt,r[jt])?z[jt](I):jk(z[jt](I),jt,r[jt])),Je=qu(Uu(Bn(m.value?m.value:U(I),K),mt),Ke);ft(U(Je))}function Or(){pr(),Ye(),Ze({returnFocus:!0})}function ha(I){En(I)||(pr(),ce(I),Ze({returnFocus:!1}))}br(m,I=>{pr(I),at(),Jo(fa)}),br(k,()=>{wt.value&&ft(D.value)}),x0(rx,{mergedThemeRef:f,mergedClsPrefixRef:t});const gr={focus:()=>{var I;(I=v.value)===null||I===void 0||I.focus()},blur:()=>{var I;(I=v.value)===null||I===void 0||I.blur()}},R=H(()=>{const{common:{cubicBezierEaseInOut:I},self:{iconColor:z,iconColorDisabled:K}}=f.value;return{"--n-icon-color-override":z,"--n-icon-color-disabled-override":K,"--n-bezier":I}}),Q=a?Hs("time-picker-trigger",void 0,R,r):void 0,pt=H(()=>{const{self:{panelColor:I,itemTextColor:z,itemTextColorActive:K,itemColorHover:mt,panelDividerColor:Ke,panelBoxShadow:Je,itemOpacityDisabled:jt,borderRadius:ii,itemFontSize:oi,itemWidth:si,itemHeight:li,panelActionPadding:or,itemBorderRadius:ui},common:{cubicBezierEaseInOut:ci}}=f.value;return{"--n-bezier":ci,"--n-border-radius":ii,"--n-item-color-hover":mt,"--n-item-font-size":oi,"--n-item-height":li,"--n-item-opacity-disabled":jt,"--n-item-text-color":z,"--n-item-text-color-active":K,"--n-item-width":si,"--n-panel-action-padding":or,"--n-panel-box-shadow":Je,"--n-panel-color":I,"--n-panel-divider-color":Ke,"--n-item-border-radius":ui}}),yt=a?Hs("time-picker",void 0,pt,r):void 0;return{focus:gr.focus,blur:gr.blur,mergedStatus:c,mergedBordered:e,mergedClsPrefix:t,namespace:n,uncontrolledValue:x,mergedValue:m,isMounted:w0(),inputInstRef:v,panelInstRef:d,adjustedTo:Ia(r),mergedShow:k,localizedNow:L,localizedPlaceholder:F,localizedNegativeText:X,localizedPositiveText:j,hourInFormat:Z,minuteInFormat:ot,secondInFormat:dt,mergedAttrSize:Et,displayTimeString:S,mergedSize:l,mergedDisabled:u,isValueInvalid:wt,isHourInvalid:ut,isMinuteInvalid:nt,isSecondInvalid:rt,transitionDisabled:$,hourValue:gt,minuteValue:Gt,secondValue:Ct,amPmValue:zt,handleInputKeydown:Ot,handleTimeInputFocus:ca,handleTimeInputBlur:Ee,handleNowClick:Ln,handleConfirmClick:Or,handleTimeInputUpdateValue:Rn,handleMenuFocusOut:ha,handleCancelClick:ai,handleClickOutside:Pr,handleTimeInputActivate:ri,handleTimeInputDeactivate:ni,handleHourClick:ti,handleMinuteClick:ua,handleSecondClick:Tr,handleAmPmClick:ei,handleTimeInputClear:ne,handleFocusDetectorFocus:xe,handleMenuKeydown:N,handleTriggerClick:ae,mergedTheme:f,triggerCssVars:a?void 0:R,triggerThemeClass:Q==null?void 0:Q.themeClass,triggerOnRender:Q==null?void 0:Q.onRender,cssVars:a?void 0:pt,themeClass:yt==null?void 0:yt.themeClass,onRender:yt==null?void 0:yt.onRender}},render(){const{mergedClsPrefix:r,$slots:e,triggerOnRender:t}=this;return t==null||t(),P("div",{class:[`${r}-time-picker`,this.triggerThemeClass],style:this.triggerCssVars},P(Pv,null,{default:()=>[P(Ov,null,{default:()=>P(Ea,{ref:"inputInstRef",status:this.mergedStatus,value:this.displayTimeString,bordered:this.mergedBordered,passivelyActivated:!0,attrSize:this.mergedAttrSize,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,stateful:this.stateful,size:this.mergedSize,placeholder:this.localizedPlaceholder,clearable:this.clearable,disabled:this.mergedDisabled,textDecoration:this.isValueInvalid?"line-through":void 0,onFocus:this.handleTimeInputFocus,onBlur:this.handleTimeInputBlur,onActivate:this.handleTimeInputActivate,onDeactivate:this.handleTimeInputDeactivate,onUpdateValue:this.handleTimeInputUpdateValue,onClear:this.handleTimeInputClear,internalDeactivateOnEnter:!0,internalForceFocus:this.mergedShow,readonly:this.inputReadonly||this.mergedDisabled,onClick:this.handleTriggerClick,onKeydown:this.handleInputKeydown},this.showIcon?{[this.clearable?"clear-icon-placeholder":"suffix"]:()=>P(Ko,{clsPrefix:r,class:`${r}-time-picker-icon`},{default:()=>e.icon?e.icon():P(xO,null)})}:null)}),P(kv,{teleportDisabled:this.adjustedTo===Ia.tdkey,show:this.mergedShow,to:this.adjustedTo,containerClass:this.namespace,placement:this.placement},{default:()=>P(bv,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>{var n;return this.mergedShow?((n=this.onRender)===null||n===void 0||n.call(this),Cv(P(Kk,{ref:"panelInstRef",actions:this.actions,class:this.themeClass,style:this.cssVars,seconds:this.seconds,minutes:this.minutes,hours:this.hours,transitionDisabled:this.transitionDisabled,hourValue:this.hourValue,showHour:this.hourInFormat,isHourInvalid:this.isHourInvalid,isHourDisabled:this.isHourDisabled,minuteValue:this.minuteValue,showMinute:this.minuteInFormat,isMinuteInvalid:this.isMinuteInvalid,isMinuteDisabled:this.isMinuteDisabled,secondValue:this.secondValue,amPmValue:this.amPmValue,showSecond:this.secondInFormat,isSecondInvalid:this.isSecondInvalid,isSecondDisabled:this.isSecondDisabled,isValueInvalid:this.isValueInvalid,nowText:this.localizedNow,confirmText:this.localizedPositiveText,use12Hours:this.use12Hours,onFocusout:this.handleMenuFocusOut,onKeydown:this.handleMenuKeydown,onHourClick:this.handleHourClick,onMinuteClick:this.handleMinuteClick,onSecondClick:this.handleSecondClick,onAmPmClick:this.handleAmPmClick,onNowClick:this.handleNowClick,onConfirmClick:this.handleConfirmClick,onFocusDetectorFocus:this.handleFocusDetectorFocus}),[[Sv,this.handleClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),eA="HH:mm:ss",nx={active:Boolean,dateFormat:String,timeFormat:{type:String,value:eA},value:{type:[Array,Number],default:null},shortcuts:Object,defaultTime:[Number,String,Array],onClear:Function,onConfirm:Function,onClose:Function,onTabOut:Function,onUpdateValue:{type:Function,required:!0},themeClass:String,onRender:Function,panel:Boolean};function ax(r){const{dateLocaleRef:e,timePickerSizeRef:t,timePickerPropsRef:n,localeRef:a,mergedClsPrefixRef:i,mergedThemeRef:o}=Jl(au),s=H(()=>({locale:e.value.locale})),l=lt(null),u=k0();function c(){const{onClear:L}=r;L&&L()}function f(){const{onConfirm:L,value:F}=r;L&&L(F)}function h(L,F){const{onUpdateValue:X}=r;X(L,F)}function v(L=!1){const{onClose:F}=r;F&&F(L)}function d(){const{onTabOut:L}=r;L&&L()}function p(){h(null,!0),v(!0),c()}function g(){d()}function y(){(r.active||r.panel)&&Jo(()=>{const{value:L}=l;if(!L)return;const F=L.querySelectorAll("[data-n-date]");F.forEach(X=>{X.classList.add("transition-disabled")}),L.offsetWidth,F.forEach(X=>{X.classList.remove("transition-disabled")})})}function w(L){L.key==="Tab"&&L.target===l.value&&u.shift&&(L.preventDefault(),d())}function x(L){const{value:F}=l;u.tab&&L.target===F&&(F!=null&&F.contains(L.relatedTarget))&&d()}let m=null,C=!1;function S(){m=r.value,C=!0}function T(){C=!1}function A(){C&&(h(m,!1),C=!1)}function k(L){return typeof L=="function"?L():L}const D=lt(!1);function $(){D.value=!D.value}return{mergedTheme:o,mergedClsPrefix:i,dateFnsOptions:s,timePickerSize:t,timePickerProps:n,selfRef:l,locale:a,doConfirm:f,doClose:v,doUpdateValue:h,doTabOut:d,handleClearClick:p,handleFocusDetectorFocus:g,disableTransitionOneTick:y,handlePanelKeyDown:w,handlePanelFocus:x,cachePendingValue:S,clearPendingValue:T,restorePendingValue:A,getShortcutValue:k,handleShortcutMouseleave:A,showMonthYearPanel:D,handleOpenQuickSelectMonthPanel:$}}const Vv=Object.assign(Object.assign({},nx),{actions:{type:Array,default:()=>["now","clear","confirm"]}});function Hv(r,e){const t=ax(r),{isValueInvalidRef:n,isDateDisabledRef:a,isDateInvalidRef:i,isTimeInvalidRef:o,isDateTimeInvalidRef:s,isHourDisabledRef:l,isMinuteDisabledRef:u,isSecondDisabledRef:c,localeRef:f,firstDayOfWeekRef:h,datePickerSlots:v}=Jl(au),d={isValueInvalid:n,isDateDisabled:a,isDateInvalid:i,isTimeInvalid:o,isDateTimeInvalid:s,isHourDisabled:l,isMinuteDisabled:u,isSecondDisabled:c},p=H(()=>r.dateFormat||f.value.dateFormat),g=lt(r.value===null||Array.isArray(r.value)?"":Xt(r.value,p.value)),y=lt(r.value===null||Array.isArray(r.value)?Date.now():r.value),w=lt(null),x=lt(null),m=lt(null),C=lt(Date.now()),S=H(()=>{var N;return qf(y.value,r.value,C.value,(N=h.value)!==null&&N!==void 0?N:f.value.firstDayOfWeek)}),T=H(()=>{const{value:N}=r;return jf(y.value,Array.isArray(N)?null:N,C.value)}),A=H(()=>{const{value:N}=r;return Zf(Array.isArray(N)?null:N,C.value)}),k=H(()=>{const{value:N}=r;return Qf(y.value,Array.isArray(N)?null:N,C.value)}),D=H(()=>S.value.slice(0,7).map(N=>{const{ts:at}=N;return Xt(at,f.value.dayFormat,t.dateFnsOptions.value)})),$=H(()=>Xt(y.value,f.value.monthFormat,t.dateFnsOptions.value)),L=H(()=>Xt(y.value,f.value.yearFormat,t.dateFnsOptions.value));br(y,(N,at)=>{(e==="date"||e==="datetime")&&(nu(N,at)||t.disableTransitionOneTick())}),br(H(()=>r.value),N=>{N!==null&&!Array.isArray(N)?(g.value=Xt(N,p.value,t.dateFnsOptions.value),y.value=N):g.value=""});function F(N){return U(e==="datetime"?Bv(N):e==="month"?Gr(N):e==="year"?Dv(N):e==="quarter"?Bi(N):Ws(N))}function X(N){const{isDateDisabled:{value:at}}=d;return at?at(N):!1}function j(N){const at=Xe(N,p.value,new Date,t.dateFnsOptions.value);if(cr(at)){if(r.value===null)t.doUpdateValue(U(F(Date.now())),r.panel);else if(!Array.isArray(r.value)){const ae=Oe(r.value,{year:Zt(at),month:Wt(at),date:mr(at)});t.doUpdateValue(U(F(U(ae))),r.panel)}}else g.value=N}function Z(){const N=Xe(g.value,p.value,new Date,t.dateFnsOptions.value);if(cr(N)){if(r.value===null)t.doUpdateValue(U(F(Date.now())),!1);else if(!Array.isArray(r.value)){const at=Oe(r.value,{year:Zt(N),month:Wt(N),date:mr(N)});t.doUpdateValue(U(F(U(at))),!1)}}else wt()}function ot(){t.doUpdateValue(null,!0),g.value="",t.doClose(!0),t.handleClearClick()}function dt(){t.doUpdateValue(U(F(Date.now())),!0);const N=Date.now();y.value=N,t.doClose(!0),r.panel&&(e==="month"||e==="quarter"||e==="year")&&(t.disableTransitionOneTick(),xe(N))}function ut(N){if(X(N.ts))return;let at;if(r.value!==null&&!Array.isArray(r.value)?at=r.value:at=Date.now(),e==="datetime"&&r.defaultTime!==null&&!Array.isArray(r.defaultTime)){const ae=Fs(r.defaultTime);ae&&(at=U(Oe(at,ae)))}switch(at=U(N.type==="quarter"&&N.dateObject.quarter?mO(wg(at,N.dateObject.year),N.dateObject.quarter):Oe(at,N.dateObject)),t.doUpdateValue(F(at),r.panel||e==="date"||e==="year"),e){case"date":t.doClose();break;case"year":r.panel&&t.disableTransitionOneTick(),t.doClose();break;case"month":t.disableTransitionOneTick(),xe(at);break;case"quarter":t.disableTransitionOneTick(),xe(at);break}}function nt(N,at){let ae;r.value!==null&&!Array.isArray(r.value)?ae=r.value:ae=Date.now(),ae=U(N.type==="month"?Fv(ae,N.dateObject.month):wg(ae,N.dateObject.year)),at(ae),xe(ae)}function rt(N){y.value=N}function wt(N){if(r.value===null||Array.isArray(r.value)){g.value="";return}N===void 0&&(N=r.value),g.value=Xt(N,p.value,t.dateFnsOptions.value)}function Et(){d.isDateInvalid.value||d.isTimeInvalid.value||(t.doConfirm(),zt())}function zt(){r.active&&t.doClose()}function gt(){y.value=U(Bc(y.value,1))}function Gt(){y.value=U(Bc(y.value,-1))}function Ct(){y.value=U(Pe(y.value,1))}function xt(){y.value=U(Pe(y.value,-1))}function st(){const{value:N}=w;return N==null?void 0:N.listElRef}function ft(){const{value:N}=w;return N==null?void 0:N.itemsElRef}function qt(N){var at;(at=x.value)===null||at===void 0||at.sync()}function ce(N){N!==null&&t.doUpdateValue(N,r.panel)}function Ye(N){t.cachePendingValue();const at=t.getShortcutValue(N);typeof at=="number"&&t.doUpdateValue(at,!1)}function ne(N){const at=t.getShortcutValue(N);typeof at=="number"&&(t.doUpdateValue(at,r.panel),t.clearPendingValue(),Et())}function xe(N){const{value:at}=r;if(m.value){const ae=Wt(N===void 0?at===null?Date.now():at:N);m.value.scrollTo({top:ae*Jn})}if(w.value){const ae=Zt(N===void 0?at===null?Date.now():at:N)-kl;w.value.scrollTo({top:ae*Jn})}}const Ot={monthScrollbarRef:m,yearScrollbarRef:x,yearVlRef:w};return Object.assign(Object.assign(Object.assign(Object.assign({dateArray:S,monthArray:T,yearArray:A,quarterArray:k,calendarYear:L,calendarMonth:$,weekdays:D,mergedIsDateDisabled:X,nextYear:gt,prevYear:Gt,nextMonth:Ct,prevMonth:xt,handleNowClick:dt,handleConfirmClick:Et,handleSingleShortcutMouseenter:Ye,handleSingleShortcutClick:ne},d),t),Ot),{handleDateClick:ut,handleDateInputBlur:Z,handleDateInput:j,handleTimePickerChange:ce,clearSelectedDateTime:ot,virtualListContainer:st,virtualListContent:ft,handleVirtualListScroll:qt,timePickerSize:t.timePickerSize,dateInputValue:g,datePickerSlots:v,handleQuickMonthClick:nt,justifyColumnsScrollState:xe,calendarValue:y,onUpdateCalendarValue:rt})}const ix=me({name:"MonthPanel",props:Object.assign(Object.assign({},Vv),{type:{type:String,required:!0},useAsQuickJump:Boolean}),setup(r){const e=Hv(r,r.type),t=i=>{switch(i.type){case"year":return i.dateObject.year;case"month":return i.dateObject.month+1;case"quarter":return`Q${i.dateObject.quarter}`}},{useAsQuickJump:n}=r,a=(i,o,s)=>{const{mergedIsDateDisabled:l,handleDateClick:u,handleQuickMonthClick:c}=e;return P("div",{"data-n-date":!0,key:o,class:[`${s}-date-panel-month-calendar__picker-col-item`,{[`${s}-date-panel-month-calendar__picker-col-item--current`]:i.isCurrent,[`${s}-date-panel-month-calendar__picker-col-item--selected`]:i.selected,[`${s}-date-panel-month-calendar__picker-col-item--disabled`]:!n&&l(i.ts)}],onClick:()=>{n?c(i,f=>r.onUpdateValue(f,!1)):u(i)}},t(i))};return Zl(()=>{e.justifyColumnsScrollState()}),Object.assign(Object.assign({},e),{renderItem:a})},render(){const{mergedClsPrefix:r,mergedTheme:e,shortcuts:t,actions:n,renderItem:a,type:i,onRender:o}=this;return o==null||o(),P("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--month`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onFocus:this.handlePanelFocus,onKeydown:this.handlePanelKeyDown},P("div",{class:`${r}-date-panel-month-calendar`},P(Ir,{ref:"yearScrollbarRef",class:`${r}-date-panel-month-calendar__picker-col`,theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar,container:this.virtualListContainer,content:this.virtualListContent,horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>P(Lc,{ref:"yearVlRef",items:this.yearArray,itemSize:Jn,showScrollbar:!1,keyField:"ts",onScroll:this.handleVirtualListScroll,paddingBottom:4},{default:({item:s,index:l})=>a(s,l,r)})}),i==="month"||i==="quarter"?P("div",{class:`${r}-date-panel-month-calendar__picker-col`},P(Ir,{ref:"monthScrollbarRef",theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar},{default:()=>[(i==="month"?this.monthArray:this.quarterArray).map((s,l)=>a(s,l,r)),P("div",{class:`${r}-date-panel-${i}-calendar__padding`})]})):null),this.datePickerSlots.footer?P("div",{class:`${r}-date-panel-footer`},{default:this.datePickerSlots.footer}):null,n!=null&&n.length||t?P("div",{class:`${r}-date-panel-actions`},P("div",{class:`${r}-date-panel-actions__prefix`},t&&Object.keys(t).map(s=>{const l=t[s];return Array.isArray(l)?null:P(xn,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(l)},onClick:()=>{this.handleSingleShortcutClick(l)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>s})})),P("div",{class:`${r}-date-panel-actions__suffix`},n!=null&&n.includes("clear")?P(Be,{theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear}):null,n!=null&&n.includes("now")?P(Be,{theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now}):null,n!=null&&n.includes("confirm")?P(Be,{theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isDateInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm}):null)):null,P(na,{onFocus:this.handleFocusDetectorFocus}))}}),Ya=me({props:{mergedClsPrefix:{type:String,required:!0},value:Number,monthBeforeYear:{type:Boolean,required:!0},calendarMonth:{type:String,required:!0},calendarYear:{type:String,required:!0},onUpdateValue:{type:Function,required:!0}},setup(){const r=lt(null),e=lt(null),t=lt(!1);function n(i){var o;t.value&&!(!((o=r.value)===null||o===void 0)&&o.contains(Mv(i)))&&(t.value=!1)}function a(){t.value=!t.value}return{show:t,triggerRef:r,monthPanelRef:e,handleHeaderClick:a,handleClickOutside:n}},render(){const{handleClickOutside:r,mergedClsPrefix:e}=this;return P("div",{class:`${e}-date-panel-month__month-year`,ref:"triggerRef"},P(Pv,null,{default:()=>[P(Ov,null,{default:()=>P("div",{class:[`${e}-date-panel-month__text`,this.show&&`${e}-date-panel-month__text--active`],onClick:this.handleHeaderClick},this.monthBeforeYear?[this.calendarMonth," ",this.calendarYear]:[this.calendarYear," ",this.calendarMonth])}),P(kv,{show:this.show,teleportDisabled:!0},{default:()=>P(bv,{name:"fade-in-scale-up-transition",appear:!0},{default:()=>this.show?Cv(P(ix,{ref:"monthPanelRef",onUpdateValue:this.onUpdateValue,actions:[],type:"month",key:"month",useAsQuickJump:!0,value:this.value}),[[Sv,r,void 0,{capture:!0}]]):null})})]}))}}),rA=me({name:"DateTimePanel",props:Vv,setup(r){return Hv(r,"datetime")},render(){var r,e,t,n;const{mergedClsPrefix:a,mergedTheme:i,shortcuts:o,timePickerProps:s,onRender:l,$slots:u}=this;return l==null||l(),P("div",{ref:"selfRef",tabindex:0,class:[`${a}-date-panel`,`${a}-date-panel--datetime`,!this.panel&&`${a}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},P("div",{class:`${a}-date-panel-header`},P(Ea,{value:this.dateInputValue,theme:i.peers.Input,themeOverrides:i.peerOverrides.Input,stateful:!1,size:this.timePickerSize,class:`${a}-date-panel-date-input`,textDecoration:this.isDateInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleDateInputBlur,onUpdateValue:this.handleDateInput}),P(Rh,Object.assign({size:this.timePickerSize,placeholder:this.locale.selectTime,format:this.timeFormat},Array.isArray(s)?void 0:s,{showIcon:!1,to:!1,theme:i.peers.TimePicker,themeOverrides:i.peerOverrides.TimePicker,value:Array.isArray(this.value)?null:this.value,isHourDisabled:this.isHourDisabled,isMinuteDisabled:this.isMinuteDisabled,isSecondDisabled:this.isSecondDisabled,onUpdateValue:this.handleTimePickerChange,stateful:!1}))),P("div",{class:`${a}-date-panel-calendar`},P("div",{class:`${a}-date-panel-month`},P("div",{class:`${a}-date-panel-month__fast-prev`,onClick:this.prevYear},Nt(u["prev-year"],()=>[P(Ra,null)])),P("div",{class:`${a}-date-panel-month__prev`,onClick:this.prevMonth},Nt(u["prev-month"],()=>[P(La,null)])),P(Ya,{monthBeforeYear:this.locale.monthBeforeYear,value:this.calendarValue,onUpdateValue:this.onUpdateCalendarValue,mergedClsPrefix:a,calendarMonth:this.calendarMonth,calendarYear:this.calendarYear}),P("div",{class:`${a}-date-panel-month__next`,onClick:this.nextMonth},Nt(u["next-month"],()=>[P(Ba,null)])),P("div",{class:`${a}-date-panel-month__fast-next`,onClick:this.nextYear},Nt(u["next-year"],()=>[P(Fa,null)]))),P("div",{class:`${a}-date-panel-weekdays`},this.weekdays.map(c=>P("div",{key:c,class:`${a}-date-panel-weekdays__day`},c))),P("div",{class:`${a}-date-panel-dates`},this.dateArray.map((c,f)=>P("div",{"data-n-date":!0,key:f,class:[`${a}-date-panel-date`,{[`${a}-date-panel-date--current`]:c.isCurrentDate,[`${a}-date-panel-date--selected`]:c.selected,[`${a}-date-panel-date--excluded`]:!c.inCurrentMonth,[`${a}-date-panel-date--disabled`]:this.mergedIsDateDisabled(c.ts)}],onClick:()=>this.handleDateClick(c)},P("div",{class:`${a}-date-panel-date__trigger`}),c.dateObject.date,c.isCurrentDate?P("div",{class:`${a}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?P("div",{class:`${a}-date-panel-footer`},this.datePickerSlots.footer()):null,!((r=this.actions)===null||r===void 0)&&r.length||o?P("div",{class:`${a}-date-panel-actions`},P("div",{class:`${a}-date-panel-actions__prefix`},o&&Object.keys(o).map(c=>{const f=o[c];return Array.isArray(f)?null:P(xn,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(f)},onClick:()=>{this.handleSingleShortcutClick(f)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>c})})),P("div",{class:`${a}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?P(Be,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.clearSelectedDateTime},{default:()=>this.locale.clear}):null,!((t=this.actions)===null||t===void 0)&&t.includes("now")?P(Be,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now}):null,!((n=this.actions)===null||n===void 0)&&n.includes("confirm")?P(Be,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isDateInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm}):null)):null,P(na,{onFocus:this.handleFocusDetectorFocus}))}}),zv=Object.assign(Object.assign({},nx),{defaultCalendarStartTime:Number,defaultCalendarEndTime:Number,bindCalendarMonths:Boolean,actions:{type:Array,default:()=>["clear","confirm"]}});function Gv(r,e){var t,n;const{isDateDisabledRef:a,isStartHourDisabledRef:i,isEndHourDisabledRef:o,isStartMinuteDisabledRef:s,isEndMinuteDisabledRef:l,isStartSecondDisabledRef:u,isEndSecondDisabledRef:c,isStartDateInvalidRef:f,isEndDateInvalidRef:h,isStartTimeInvalidRef:v,isEndTimeInvalidRef:d,isStartValueInvalidRef:p,isEndValueInvalidRef:g,isRangeInvalidRef:y,localeRef:w,rangesRef:x,closeOnSelectRef:m,updateValueOnCloseRef:C,firstDayOfWeekRef:S,datePickerSlots:T}=Jl(au),A={isDateDisabled:a,isStartHourDisabled:i,isEndHourDisabled:o,isStartMinuteDisabled:s,isEndMinuteDisabled:l,isStartSecondDisabled:u,isEndSecondDisabled:c,isStartDateInvalid:f,isEndDateInvalid:h,isStartTimeInvalid:v,isEndTimeInvalid:d,isStartValueInvalid:p,isEndValueInvalid:g,isRangeInvalid:y},k=ax(r),D=lt(null),$=lt(null),L=lt(null),F=lt(null),X=lt(null),j=lt(null),Z=lt(null),ot=lt(null),{value:dt}=r,ut=(t=r.defaultCalendarStartTime)!==null&&t!==void 0?t:Array.isArray(dt)&&typeof dt[0]=="number"?dt[0]:Date.now(),nt=lt(ut),rt=lt((n=r.defaultCalendarEndTime)!==null&&n!==void 0?n:Array.isArray(dt)&&typeof dt[1]=="number"?dt[1]:U(Pe(ut,1)));Ee(!0);const wt=lt(Date.now()),Et=lt(!1),zt=lt(0),gt=H(()=>r.dateFormat||w.value.dateFormat),Gt=lt(Array.isArray(dt)?Xt(dt[0],gt.value,k.dateFnsOptions.value):""),Ct=lt(Array.isArray(dt)?Xt(dt[1],gt.value,k.dateFnsOptions.value):""),xt=H(()=>Et.value?"end":"start"),st=H(()=>{var E;return qf(nt.value,r.value,wt.value,(E=S.value)!==null&&E!==void 0?E:w.value.firstDayOfWeek)}),ft=H(()=>{var E;return qf(rt.value,r.value,wt.value,(E=S.value)!==null&&E!==void 0?E:w.value.firstDayOfWeek)}),qt=H(()=>st.value.slice(0,7).map(E=>{const{ts:W}=E;return Xt(W,w.value.dayFormat,k.dateFnsOptions.value)})),ce=H(()=>Xt(nt.value,w.value.monthFormat,k.dateFnsOptions.value)),Ye=H(()=>Xt(rt.value,w.value.monthFormat,k.dateFnsOptions.value)),ne=H(()=>Xt(nt.value,w.value.yearFormat,k.dateFnsOptions.value)),xe=H(()=>Xt(rt.value,w.value.yearFormat,k.dateFnsOptions.value)),Ot=H(()=>{const{value:E}=r;return Array.isArray(E)?E[0]:null}),N=H(()=>{const{value:E}=r;return Array.isArray(E)?E[1]:null}),at=H(()=>{const{shortcuts:E}=r;return E||x.value}),ae=H(()=>Zf(da(r.value,"start"),wt.value)),ti=H(()=>Zf(da(r.value,"end"),wt.value)),ua=H(()=>{const E=da(r.value,"start");return Qf(E??Date.now(),E,wt.value)}),Tr=H(()=>{const E=da(r.value,"end");return Qf(E??Date.now(),E,wt.value)}),ei=H(()=>{const E=da(r.value,"start");return jf(E??Date.now(),E,wt.value)}),pr=H(()=>{const E=da(r.value,"end");return jf(E??Date.now(),E,wt.value)});br(H(()=>r.value),E=>{if(E!==null&&Array.isArray(E)){const[W,tt]=E;Gt.value=Xt(W,gt.value,k.dateFnsOptions.value),Ct.value=Xt(tt,gt.value,k.dateFnsOptions.value),Et.value||Or(E)}else Gt.value="",Ct.value=""});function ca(E,W){(e==="daterange"||e==="datetimerange")&&(Zt(E)!==Zt(W)||Wt(E)!==Wt(W))&&k.disableTransitionOneTick()}br(nt,ca),br(rt,ca);function Ee(E){const W=Gr(nt.value),tt=Gr(rt.value);(r.bindCalendarMonths||W>=tt)&&(E?rt.value=U(Pe(W,1)):nt.value=U(Pe(tt,-1)))}function ri(){nt.value=U(Pe(nt.value,12)),Ee(!0)}function ni(){nt.value=U(Pe(nt.value,-12)),Ee(!0)}function fa(){nt.value=U(Pe(nt.value,1)),Ee(!0)}function _n(){nt.value=U(Pe(nt.value,-1)),Ee(!0)}function En(){rt.value=U(Pe(rt.value,12)),Ee(!1)}function In(){rt.value=U(Pe(rt.value,-12)),Ee(!1)}function Pr(){rt.value=U(Pe(rt.value,1)),Ee(!1)}function Ze(){rt.value=U(Pe(rt.value,-1)),Ee(!1)}function Rn(E){nt.value=E,Ee(!0)}function ai(E){rt.value=E,Ee(!1)}function Ln(E){const W=a.value;if(!W)return!1;if(!Array.isArray(r.value)||xt.value==="start")return W(E,"start",null);{const{value:tt}=zt;return E<zt.value?W(E,"start",[tt,tt]):W(E,"end",[tt,tt])}}function Or(E){if(E===null)return;const[W,tt]=E;nt.value=W,Gr(tt)<=Gr(W)?rt.value=U(Gr(Pe(W,1))):rt.value=U(Gr(tt))}function ha(E){if(!Et.value)Et.value=!0,zt.value=E.ts,I(E.ts,E.ts,"done");else{Et.value=!1;const{value:W}=r;r.panel&&Array.isArray(W)?I(W[0],W[1],"done"):m.value&&e==="daterange"&&(C.value?Q():R())}}function gr(E){if(Et.value){if(Ln(E.ts))return;E.ts>=zt.value?I(zt.value,E.ts,"wipPreview"):I(E.ts,zt.value,"wipPreview")}}function R(){y.value||(k.doConfirm(),Q())}function Q(){Et.value=!1,r.active&&k.doClose()}function pt(E){typeof E!="number"&&(E=U(E)),r.value===null?k.doUpdateValue([E,E],r.panel):Array.isArray(r.value)&&k.doUpdateValue([E,Math.max(r.value[1],E)],r.panel)}function yt(E){typeof E!="number"&&(E=U(E)),r.value===null?k.doUpdateValue([E,E],r.panel):Array.isArray(r.value)&&k.doUpdateValue([Math.min(r.value[0],E),E],r.panel)}function I(E,W,tt){if(typeof E!="number"&&(E=U(E)),tt!=="shortcutPreview"){let we,kr;if(e==="datetimerange"){const{defaultTime:Qt}=r;Array.isArray(Qt)?(we=Fs(Qt[0]),kr=Fs(Qt[1])):(we=Fs(Qt),kr=we)}we&&(E=U(Oe(E,we))),kr&&(W=U(Oe(W,kr)))}k.doUpdateValue([E,W],r.panel&&tt==="done")}function z(E){return U(e==="datetimerange"?Bv(E):e==="monthrange"?Gr(E):Ws(E))}function K(E){const W=Xe(E,gt.value,new Date,k.dateFnsOptions.value);if(cr(W))if(r.value){if(Array.isArray(r.value)){const tt=Oe(r.value[0],{year:Zt(W),month:Wt(W),date:mr(W)});pt(z(U(tt)))}}else{const tt=Oe(new Date,{year:Zt(W),month:Wt(W),date:mr(W)});pt(z(U(tt)))}else Gt.value=E}function mt(E){const W=Xe(E,gt.value,new Date,k.dateFnsOptions.value);if(cr(W)){if(r.value===null){const tt=Oe(new Date,{year:Zt(W),month:Wt(W),date:mr(W)});yt(z(U(tt)))}else if(Array.isArray(r.value)){const tt=Oe(r.value[1],{year:Zt(W),month:Wt(W),date:mr(W)});yt(z(U(tt)))}}else Ct.value=E}function Ke(){const E=Xe(Gt.value,gt.value,new Date,k.dateFnsOptions.value),{value:W}=r;if(cr(E)){if(W===null){const tt=Oe(new Date,{year:Zt(E),month:Wt(E),date:mr(E)});pt(z(U(tt)))}else if(Array.isArray(W)){const tt=Oe(W[0],{year:Zt(E),month:Wt(E),date:mr(E)});pt(z(U(tt)))}}else jt()}function Je(){const E=Xe(Ct.value,gt.value,new Date,k.dateFnsOptions.value),{value:W}=r;if(cr(E)){if(W===null){const tt=Oe(new Date,{year:Zt(E),month:Wt(E),date:mr(E)});yt(z(U(tt)))}else if(Array.isArray(W)){const tt=Oe(W[1],{year:Zt(E),month:Wt(E),date:mr(E)});yt(z(U(tt)))}}else jt()}function jt(E){const{value:W}=r;if(W===null||!Array.isArray(W)){Gt.value="",Ct.value="";return}E===void 0&&(E=W),Gt.value=Xt(E[0],gt.value,k.dateFnsOptions.value),Ct.value=Xt(E[1],gt.value,k.dateFnsOptions.value)}function ii(E){E!==null&&pt(E)}function oi(E){E!==null&&yt(E)}function si(E){k.cachePendingValue();const W=k.getShortcutValue(E);Array.isArray(W)&&I(W[0],W[1],"shortcutPreview")}function li(E){const W=k.getShortcutValue(E);Array.isArray(W)&&(I(W[0],W[1],"done"),k.clearPendingValue(),R())}function or(E,W){const tt=E===void 0?r.value:E;if(E===void 0||W==="start"){if(Z.value){const we=Array.isArray(tt)?Wt(tt[0]):Wt(Date.now());Z.value.scrollTo({debounce:!1,index:we,elSize:Jn})}if(X.value){const we=(Array.isArray(tt)?Zt(tt[0]):Zt(Date.now()))-kl;X.value.scrollTo({index:we,debounce:!1})}}if(E===void 0||W==="end"){if(ot.value){const we=Array.isArray(tt)?Wt(tt[1]):Wt(Date.now());ot.value.scrollTo({debounce:!1,index:we,elSize:Jn})}if(j.value){const we=(Array.isArray(tt)?Zt(tt[1]):Zt(Date.now()))-kl;j.value.scrollTo({index:we,debounce:!1})}}}function ui(E,W){const{value:tt}=r,we=!Array.isArray(tt),kr=E.type==="year"&&e!=="yearrange"?we?Oe(E.ts,{month:Wt(e==="quarterrange"?Bi(new Date):new Date)}).valueOf():Oe(E.ts,{month:Wt(e==="quarterrange"?Bi(tt[W==="start"?0:1]):tt[W==="start"?0:1])}).valueOf():E.ts;if(we){const po=z(kr),hi=[po,po];k.doUpdateValue(hi,r.panel),or(hi,"start"),or(hi,"end"),k.disableTransitionOneTick();return}const Qt=[tt[0],tt[1]];let fi=!1;switch(W==="start"?(Qt[0]=z(kr),Qt[0]>Qt[1]&&(Qt[1]=Qt[0],fi=!0)):(Qt[1]=z(kr),Qt[0]>Qt[1]&&(Qt[0]=Qt[1],fi=!0)),k.doUpdateValue(Qt,r.panel),e){case"monthrange":case"quarterrange":k.disableTransitionOneTick(),fi?(or(Qt,"start"),or(Qt,"end")):or(Qt,W);break;case"yearrange":k.disableTransitionOneTick(),or(Qt,"start"),or(Qt,"end")}}function ci(){var E;(E=L.value)===null||E===void 0||E.sync()}function Vu(){var E;(E=F.value)===null||E===void 0||E.sync()}function Hu(E){var W,tt;return E==="start"?(W=X.value)===null||W===void 0?void 0:W.listElRef:(tt=j.value)===null||tt===void 0?void 0:tt.listElRef}function zu(E){var W,tt;return E==="start"?(W=X.value)===null||W===void 0?void 0:W.itemsElRef:(tt=j.value)===null||tt===void 0?void 0:tt.itemsElRef}const Gu={startYearVlRef:X,endYearVlRef:j,startMonthScrollbarRef:Z,endMonthScrollbarRef:ot,startYearScrollbarRef:L,endYearScrollbarRef:F};return Object.assign(Object.assign(Object.assign(Object.assign({startDatesElRef:D,endDatesElRef:$,handleDateClick:ha,handleColItemClick:ui,handleDateMouseEnter:gr,handleConfirmClick:R,startCalendarPrevYear:ni,startCalendarPrevMonth:_n,startCalendarNextYear:ri,startCalendarNextMonth:fa,endCalendarPrevYear:In,endCalendarPrevMonth:Ze,endCalendarNextMonth:Pr,endCalendarNextYear:En,mergedIsDateDisabled:Ln,changeStartEndTime:I,ranges:x,startCalendarMonth:ce,startCalendarYear:ne,endCalendarMonth:Ye,endCalendarYear:xe,weekdays:qt,startDateArray:st,endDateArray:ft,startYearArray:ae,startMonthArray:ei,startQuarterArray:ua,endYearArray:ti,endMonthArray:pr,endQuarterArray:Tr,isSelecting:Et,handleRangeShortcutMouseenter:si,handleRangeShortcutClick:li},k),A),Gu),{startDateDisplayString:Gt,endDateInput:Ct,timePickerSize:k.timePickerSize,startTimeValue:Ot,endTimeValue:N,datePickerSlots:T,shortcuts:at,startCalendarDateTime:nt,endCalendarDateTime:rt,justifyColumnsScrollState:or,handleFocusDetectorFocus:k.handleFocusDetectorFocus,handleStartTimePickerChange:ii,handleEndTimePickerChange:oi,handleStartDateInput:K,handleStartDateInputBlur:Ke,handleEndDateInput:mt,handleEndDateInputBlur:Je,handleStartYearVlScroll:ci,handleEndYearVlScroll:Vu,virtualListContainer:Hu,virtualListContent:zu,onUpdateStartCalendarValue:Rn,onUpdateEndCalendarValue:ai})}const nA=me({name:"DateTimeRangePanel",props:zv,setup(r){return Gv(r,"datetimerange")},render(){var r,e,t;const{mergedClsPrefix:n,mergedTheme:a,shortcuts:i,timePickerProps:o,onRender:s,$slots:l}=this;return s==null||s(),P("div",{ref:"selfRef",tabindex:0,class:[`${n}-date-panel`,`${n}-date-panel--datetimerange`,!this.panel&&`${n}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},P("div",{class:`${n}-date-panel-header`},P(Ea,{value:this.startDateDisplayString,theme:a.peers.Input,themeOverrides:a.peerOverrides.Input,size:this.timePickerSize,stateful:!1,class:`${n}-date-panel-date-input`,textDecoration:this.isStartValueInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleStartDateInputBlur,onUpdateValue:this.handleStartDateInput}),P(Rh,Object.assign({placeholder:this.locale.selectTime,format:this.timeFormat,size:this.timePickerSize},Array.isArray(o)?o[0]:o,{value:this.startTimeValue,to:!1,showIcon:!1,disabled:this.isSelecting,theme:a.peers.TimePicker,themeOverrides:a.peerOverrides.TimePicker,stateful:!1,isHourDisabled:this.isStartHourDisabled,isMinuteDisabled:this.isStartMinuteDisabled,isSecondDisabled:this.isStartSecondDisabled,onUpdateValue:this.handleStartTimePickerChange})),P(Ea,{value:this.endDateInput,theme:a.peers.Input,themeOverrides:a.peerOverrides.Input,stateful:!1,size:this.timePickerSize,class:`${n}-date-panel-date-input`,textDecoration:this.isEndValueInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleEndDateInputBlur,onUpdateValue:this.handleEndDateInput}),P(Rh,Object.assign({placeholder:this.locale.selectTime,format:this.timeFormat,size:this.timePickerSize},Array.isArray(o)?o[1]:o,{disabled:this.isSelecting,showIcon:!1,theme:a.peers.TimePicker,themeOverrides:a.peerOverrides.TimePicker,to:!1,stateful:!1,value:this.endTimeValue,isHourDisabled:this.isEndHourDisabled,isMinuteDisabled:this.isEndMinuteDisabled,isSecondDisabled:this.isEndSecondDisabled,onUpdateValue:this.handleEndTimePickerChange}))),P("div",{ref:"startDatesElRef",class:`${n}-date-panel-calendar ${n}-date-panel-calendar--start`},P("div",{class:`${n}-date-panel-month`},P("div",{class:`${n}-date-panel-month__fast-prev`,onClick:this.startCalendarPrevYear},Nt(l["prev-year"],()=>[P(Ra,null)])),P("div",{class:`${n}-date-panel-month__prev`,onClick:this.startCalendarPrevMonth},Nt(l["prev-month"],()=>[P(La,null)])),P(Ya,{monthBeforeYear:this.locale.monthBeforeYear,value:this.startCalendarDateTime,onUpdateValue:this.onUpdateStartCalendarValue,mergedClsPrefix:n,calendarMonth:this.startCalendarMonth,calendarYear:this.startCalendarYear}),P("div",{class:`${n}-date-panel-month__next`,onClick:this.startCalendarNextMonth},Nt(l["next-month"],()=>[P(Ba,null)])),P("div",{class:`${n}-date-panel-month__fast-next`,onClick:this.startCalendarNextYear},Nt(l["next-year"],()=>[P(Fa,null)]))),P("div",{class:`${n}-date-panel-weekdays`},this.weekdays.map(u=>P("div",{key:u,class:`${n}-date-panel-weekdays__day`},u))),P("div",{class:`${n}-date-panel__divider`}),P("div",{class:`${n}-date-panel-dates`},this.startDateArray.map((u,c)=>{const f=this.mergedIsDateDisabled(u.ts);return P("div",{"data-n-date":!0,key:c,class:[`${n}-date-panel-date`,{[`${n}-date-panel-date--excluded`]:!u.inCurrentMonth,[`${n}-date-panel-date--current`]:u.isCurrentDate,[`${n}-date-panel-date--selected`]:u.selected,[`${n}-date-panel-date--covered`]:u.inSpan,[`${n}-date-panel-date--start`]:u.startOfSpan,[`${n}-date-panel-date--end`]:u.endOfSpan,[`${n}-date-panel-date--disabled`]:f}],onClick:f?void 0:()=>this.handleDateClick(u),onMouseenter:f?void 0:()=>this.handleDateMouseEnter(u)},P("div",{class:`${n}-date-panel-date__trigger`}),u.dateObject.date,u.isCurrentDate?P("div",{class:`${n}-date-panel-date__sup`}):null)}))),P("div",{class:`${n}-date-panel__vertical-divider`}),P("div",{ref:"endDatesElRef",class:`${n}-date-panel-calendar ${n}-date-panel-calendar--end`},P("div",{class:`${n}-date-panel-month`},P("div",{class:`${n}-date-panel-month__fast-prev`,onClick:this.endCalendarPrevYear},Nt(l["prev-year"],()=>[P(Ra,null)])),P("div",{class:`${n}-date-panel-month__prev`,onClick:this.endCalendarPrevMonth},Nt(l["prev-month"],()=>[P(La,null)])),P(Ya,{monthBeforeYear:this.locale.monthBeforeYear,value:this.endCalendarDateTime,onUpdateValue:this.onUpdateEndCalendarValue,mergedClsPrefix:n,calendarMonth:this.endCalendarMonth,calendarYear:this.endCalendarYear}),P("div",{class:`${n}-date-panel-month__next`,onClick:this.endCalendarNextMonth},Nt(l["next-month"],()=>[P(Ba,null)])),P("div",{class:`${n}-date-panel-month__fast-next`,onClick:this.endCalendarNextYear},Nt(l["next-year"],()=>[P(Fa,null)]))),P("div",{class:`${n}-date-panel-weekdays`},this.weekdays.map(u=>P("div",{key:u,class:`${n}-date-panel-weekdays__day`},u))),P("div",{class:`${n}-date-panel__divider`}),P("div",{class:`${n}-date-panel-dates`},this.endDateArray.map((u,c)=>{const f=this.mergedIsDateDisabled(u.ts);return P("div",{"data-n-date":!0,key:c,class:[`${n}-date-panel-date`,{[`${n}-date-panel-date--excluded`]:!u.inCurrentMonth,[`${n}-date-panel-date--current`]:u.isCurrentDate,[`${n}-date-panel-date--selected`]:u.selected,[`${n}-date-panel-date--covered`]:u.inSpan,[`${n}-date-panel-date--start`]:u.startOfSpan,[`${n}-date-panel-date--end`]:u.endOfSpan,[`${n}-date-panel-date--disabled`]:f}],onClick:f?void 0:()=>this.handleDateClick(u),onMouseenter:f?void 0:()=>this.handleDateMouseEnter(u)},P("div",{class:`${n}-date-panel-date__trigger`}),u.dateObject.date,u.isCurrentDate?P("div",{class:`${n}-date-panel-date__sup`}):null)}))),this.datePickerSlots.footer?P("div",{class:`${n}-date-panel-footer`},this.datePickerSlots.footer()):null,!((r=this.actions)===null||r===void 0)&&r.length||i?P("div",{class:`${n}-date-panel-actions`},P("div",{class:`${n}-date-panel-actions__prefix`},i&&Object.keys(i).map(u=>{const c=i[u];return Array.isArray(c)||typeof c=="function"?P(xn,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(c)},onClick:()=>{this.handleRangeShortcutClick(c)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>u}):null})),P("div",{class:`${n}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?P(Be,{theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear}):null,!((t=this.actions)===null||t===void 0)&&t.includes("confirm")?P(Be,{theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid||this.isSelecting,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm}):null)):null,P(na,{onFocus:this.handleFocusDetectorFocus}))}}),aA=me({name:"DatePanel",props:Vv,setup(r){return Hv(r,"date")},render(){var r,e,t;const{mergedClsPrefix:n,mergedTheme:a,shortcuts:i,onRender:o,$slots:s}=this;return o==null||o(),P("div",{ref:"selfRef",tabindex:0,class:[`${n}-date-panel`,`${n}-date-panel--date`,!this.panel&&`${n}-date-panel--shadow`,this.themeClass],onFocus:this.handlePanelFocus,onKeydown:this.handlePanelKeyDown},P("div",{class:`${n}-date-panel-calendar`},P("div",{class:`${n}-date-panel-month`},P("div",{class:`${n}-date-panel-month__fast-prev`,onClick:this.prevYear},Nt(s["prev-year"],()=>[P(Ra,null)])),P("div",{class:`${n}-date-panel-month__prev`,onClick:this.prevMonth},Nt(s["prev-month"],()=>[P(La,null)])),P(Ya,{monthBeforeYear:this.locale.monthBeforeYear,value:this.calendarValue,onUpdateValue:this.onUpdateCalendarValue,mergedClsPrefix:n,calendarMonth:this.calendarMonth,calendarYear:this.calendarYear}),P("div",{class:`${n}-date-panel-month__next`,onClick:this.nextMonth},Nt(s["next-month"],()=>[P(Ba,null)])),P("div",{class:`${n}-date-panel-month__fast-next`,onClick:this.nextYear},Nt(s["next-year"],()=>[P(Fa,null)]))),P("div",{class:`${n}-date-panel-weekdays`},this.weekdays.map(l=>P("div",{key:l,class:`${n}-date-panel-weekdays__day`},l))),P("div",{class:`${n}-date-panel-dates`},this.dateArray.map((l,u)=>P("div",{"data-n-date":!0,key:u,class:[`${n}-date-panel-date`,{[`${n}-date-panel-date--current`]:l.isCurrentDate,[`${n}-date-panel-date--selected`]:l.selected,[`${n}-date-panel-date--excluded`]:!l.inCurrentMonth,[`${n}-date-panel-date--disabled`]:this.mergedIsDateDisabled(l.ts)}],onClick:()=>this.handleDateClick(l)},P("div",{class:`${n}-date-panel-date__trigger`}),l.dateObject.date,l.isCurrentDate?P("div",{class:`${n}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?P("div",{class:`${n}-date-panel-footer`},this.datePickerSlots.footer()):null,!((r=this.actions)===null||r===void 0)&&r.length||i?P("div",{class:`${n}-date-panel-actions`},P("div",{class:`${n}-date-panel-actions__prefix`},i&&Object.keys(i).map(l=>{const u=i[l];return Array.isArray(u)?null:P(xn,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(u)},onClick:()=>{this.handleSingleShortcutClick(u)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>l})})),P("div",{class:`${n}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?P(Be,{theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear}):null,!((t=this.actions)===null||t===void 0)&&t.includes("now")?P(Be,{theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now}):null)):null,P(na,{onFocus:this.handleFocusDetectorFocus}))}}),iA=me({name:"DateRangePanel",props:zv,setup(r){return Gv(r,"daterange")},render(){var r,e,t;const{mergedClsPrefix:n,mergedTheme:a,shortcuts:i,onRender:o,$slots:s}=this;return o==null||o(),P("div",{ref:"selfRef",tabindex:0,class:[`${n}-date-panel`,`${n}-date-panel--daterange`,!this.panel&&`${n}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},P("div",{ref:"startDatesElRef",class:`${n}-date-panel-calendar ${n}-date-panel-calendar--start`},P("div",{class:`${n}-date-panel-month`},P("div",{class:`${n}-date-panel-month__fast-prev`,onClick:this.startCalendarPrevYear},Nt(s["prev-year"],()=>[P(Ra,null)])),P("div",{class:`${n}-date-panel-month__prev`,onClick:this.startCalendarPrevMonth},Nt(s["prev-month"],()=>[P(La,null)])),P(Ya,{monthBeforeYear:this.locale.monthBeforeYear,value:this.startCalendarDateTime,onUpdateValue:this.onUpdateStartCalendarValue,mergedClsPrefix:n,calendarMonth:this.startCalendarMonth,calendarYear:this.startCalendarYear}),P("div",{class:`${n}-date-panel-month__next`,onClick:this.startCalendarNextMonth},Nt(s["next-month"],()=>[P(Ba,null)])),P("div",{class:`${n}-date-panel-month__fast-next`,onClick:this.startCalendarNextYear},Nt(s["next-year"],()=>[P(Fa,null)]))),P("div",{class:`${n}-date-panel-weekdays`},this.weekdays.map(l=>P("div",{key:l,class:`${n}-date-panel-weekdays__day`},l))),P("div",{class:`${n}-date-panel__divider`}),P("div",{class:`${n}-date-panel-dates`},this.startDateArray.map((l,u)=>P("div",{"data-n-date":!0,key:u,class:[`${n}-date-panel-date`,{[`${n}-date-panel-date--excluded`]:!l.inCurrentMonth,[`${n}-date-panel-date--current`]:l.isCurrentDate,[`${n}-date-panel-date--selected`]:l.selected,[`${n}-date-panel-date--covered`]:l.inSpan,[`${n}-date-panel-date--start`]:l.startOfSpan,[`${n}-date-panel-date--end`]:l.endOfSpan,[`${n}-date-panel-date--disabled`]:this.mergedIsDateDisabled(l.ts)}],onClick:()=>this.handleDateClick(l),onMouseenter:()=>this.handleDateMouseEnter(l)},P("div",{class:`${n}-date-panel-date__trigger`}),l.dateObject.date,l.isCurrentDate?P("div",{class:`${n}-date-panel-date__sup`}):null)))),P("div",{class:`${n}-date-panel__vertical-divider`}),P("div",{ref:"endDatesElRef",class:`${n}-date-panel-calendar ${n}-date-panel-calendar--end`},P("div",{class:`${n}-date-panel-month`},P("div",{class:`${n}-date-panel-month__fast-prev`,onClick:this.endCalendarPrevYear},Nt(s["prev-year"],()=>[P(Ra,null)])),P("div",{class:`${n}-date-panel-month__prev`,onClick:this.endCalendarPrevMonth},Nt(s["prev-month"],()=>[P(La,null)])),P(Ya,{monthBeforeYear:this.locale.monthBeforeYear,value:this.endCalendarDateTime,onUpdateValue:this.onUpdateEndCalendarValue,mergedClsPrefix:n,calendarMonth:this.endCalendarMonth,calendarYear:this.endCalendarYear}),P("div",{class:`${n}-date-panel-month__next`,onClick:this.endCalendarNextMonth},Nt(s["next-month"],()=>[P(Ba,null)])),P("div",{class:`${n}-date-panel-month__fast-next`,onClick:this.endCalendarNextYear},Nt(s["next-year"],()=>[P(Fa,null)]))),P("div",{class:`${n}-date-panel-weekdays`},this.weekdays.map(l=>P("div",{key:l,class:`${n}-date-panel-weekdays__day`},l))),P("div",{class:`${n}-date-panel__divider`}),P("div",{class:`${n}-date-panel-dates`},this.endDateArray.map((l,u)=>P("div",{"data-n-date":!0,key:u,class:[`${n}-date-panel-date`,{[`${n}-date-panel-date--excluded`]:!l.inCurrentMonth,[`${n}-date-panel-date--current`]:l.isCurrentDate,[`${n}-date-panel-date--selected`]:l.selected,[`${n}-date-panel-date--covered`]:l.inSpan,[`${n}-date-panel-date--start`]:l.startOfSpan,[`${n}-date-panel-date--end`]:l.endOfSpan,[`${n}-date-panel-date--disabled`]:this.mergedIsDateDisabled(l.ts)}],onClick:()=>this.handleDateClick(l),onMouseenter:()=>this.handleDateMouseEnter(l)},P("div",{class:`${n}-date-panel-date__trigger`}),l.dateObject.date,l.isCurrentDate?P("div",{class:`${n}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?P("div",{class:`${n}-date-panel-footer`},this.datePickerSlots.footer()):null,!((r=this.actions)===null||r===void 0)&&r.length||i?P("div",{class:`${n}-date-panel-actions`},P("div",{class:`${n}-date-panel-actions__prefix`},i&&Object.keys(i).map(l=>{const u=i[l];return Array.isArray(u)||typeof u=="function"?P(xn,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(u)},onClick:()=>{this.handleRangeShortcutClick(u)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>l}):null})),P("div",{class:`${n}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?P(Be,{theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear}):null,!((t=this.actions)===null||t===void 0)&&t.includes("confirm")?P(Be,{theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid||this.isSelecting,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm}):null)):null,P(na,{onFocus:this.handleFocusDetectorFocus}))}}),oA=me({name:"MonthRangePanel",props:Object.assign(Object.assign({},zv),{type:{type:String,required:!0}}),setup(r){const e=Gv(r,r.type),t=(n,a,i,o)=>{const{handleColItemClick:s}=e,l=!1;return P("div",{"data-n-date":!0,key:a,class:[`${i}-date-panel-month-calendar__picker-col-item`,{[`${i}-date-panel-month-calendar__picker-col-item--current`]:n.isCurrent,[`${i}-date-panel-month-calendar__picker-col-item--selected`]:n.selected,[`${i}-date-panel-month-calendar__picker-col-item--disabled`]:l}],onClick:()=>{s(n,o)}},n.type==="month"?n.dateObject.month+1:n.type==="quarter"?`Q${n.dateObject.quarter}`:n.dateObject.year)};return Zl(()=>{e.justifyColumnsScrollState()}),Object.assign(Object.assign({},e),{renderItem:t})},render(){var r,e,t;const{mergedClsPrefix:n,mergedTheme:a,shortcuts:i,type:o,renderItem:s,onRender:l}=this;return l==null||l(),P("div",{ref:"selfRef",tabindex:0,class:[`${n}-date-panel`,`${n}-date-panel--daterange`,!this.panel&&`${n}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},P("div",{ref:"startDatesElRef",class:`${n}-date-panel-calendar ${n}-date-panel-calendar--start`},P("div",{class:`${n}-date-panel-month-calendar`},P(Ir,{ref:"startYearScrollbarRef",class:`${n}-date-panel-month-calendar__picker-col`,theme:a.peers.Scrollbar,themeOverrides:a.peerOverrides.Scrollbar,container:()=>this.virtualListContainer("start"),content:()=>this.virtualListContent("start"),horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>P(Lc,{ref:"startYearVlRef",items:this.startYearArray,itemSize:Jn,showScrollbar:!1,keyField:"ts",onScroll:this.handleStartYearVlScroll,paddingBottom:4},{default:({item:u,index:c})=>s(u,c,n,"start")})}),o==="monthrange"||o==="quarterrange"?P("div",{class:`${n}-date-panel-month-calendar__picker-col`},P(Ir,{ref:"startMonthScrollbarRef",theme:a.peers.Scrollbar,themeOverrides:a.peerOverrides.Scrollbar},{default:()=>[(o==="monthrange"?this.startMonthArray:this.startQuarterArray).map((u,c)=>s(u,c,n,"start")),o==="monthrange"&&P("div",{class:`${n}-date-panel-month-calendar__padding`})]})):null)),P("div",{class:`${n}-date-panel__vertical-divider`}),P("div",{ref:"endDatesElRef",class:`${n}-date-panel-calendar ${n}-date-panel-calendar--end`},P("div",{class:`${n}-date-panel-month-calendar`},P(Ir,{ref:"endYearScrollbarRef",class:`${n}-date-panel-month-calendar__picker-col`,theme:a.peers.Scrollbar,themeOverrides:a.peerOverrides.Scrollbar,container:()=>this.virtualListContainer("end"),content:()=>this.virtualListContent("end"),horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>P(Lc,{ref:"endYearVlRef",items:this.endYearArray,itemSize:Jn,showScrollbar:!1,keyField:"ts",onScroll:this.handleEndYearVlScroll,paddingBottom:4},{default:({item:u,index:c})=>s(u,c,n,"end")})}),o==="monthrange"||o==="quarterrange"?P("div",{class:`${n}-date-panel-month-calendar__picker-col`},P(Ir,{ref:"endMonthScrollbarRef",theme:a.peers.Scrollbar,themeOverrides:a.peerOverrides.Scrollbar},{default:()=>[(o==="monthrange"?this.endMonthArray:this.endQuarterArray).map((u,c)=>s(u,c,n,"end")),o==="monthrange"&&P("div",{class:`${n}-date-panel-month-calendar__padding`})]})):null)),this.datePickerSlots.footer?P("div",{class:`${n}-date-panel-footer`},b0(this.datePickerSlots,"footer")):null,!((r=this.actions)===null||r===void 0)&&r.length||i?P("div",{class:`${n}-date-panel-actions`},P("div",{class:`${n}-date-panel-actions__prefix`},i&&Object.keys(i).map(u=>{const c=i[u];return Array.isArray(c)||typeof c=="function"?P(xn,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(c)},onClick:()=>{this.handleRangeShortcutClick(c)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>u}):null})),P("div",{class:`${n}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?P(xn,{theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear}):null,!((t=this.actions)===null||t===void 0)&&t.includes("confirm")?P(xn,{theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm}):null)):null,P(na,{onFocus:this.handleFocusDetectorFocus}))}}),sA=Tt([$t("date-picker",`
 position: relative;
 z-index: auto;
 `,[$t("date-picker-icon",`
 color: var(--n-icon-color-override);
 transition: color .3s var(--n-bezier);
 `),$t("icon",`
 color: var(--n-icon-color-override);
 transition: color .3s var(--n-bezier);
 `),Lt("disabled",[$t("date-picker-icon",`
 color: var(--n-icon-color-disabled-override);
 `),$t("icon",`
 color: var(--n-icon-color-disabled-override);
 `)])]),$t("date-panel",`
 width: fit-content;
 outline: none;
 margin: 4px 0;
 display: grid;
 grid-template-columns: 0fr;
 border-radius: var(--n-panel-border-radius);
 background-color: var(--n-panel-color);
 color: var(--n-panel-text-color);
 `,[g0(),Lt("shadow",`
 box-shadow: var(--n-panel-box-shadow);
 `),$t("date-panel-calendar",{padding:"var(--n-calendar-left-padding)",display:"grid",gridTemplateColumns:"1fr",gridArea:"left-calendar"},[Lt("end",{padding:"var(--n-calendar-right-padding)",gridArea:"right-calendar"})]),$t("date-panel-month-calendar",{display:"flex",gridArea:"left-calendar"},[fe("picker-col",`
 min-width: var(--n-scroll-item-width);
 height: calc(var(--n-scroll-item-height) * 6);
 user-select: none;
 -webkit-user-select: none;
 `,[Tt("&:first-child",`
 min-width: calc(var(--n-scroll-item-width) + 4px);
 `,[fe("picker-col-item",[Tt("&::before","left: 4px;")])]),fe("padding",`
 height: calc(var(--n-scroll-item-height) * 5)
 `)]),fe("picker-col-item",`
 z-index: 0;
 cursor: pointer;
 height: var(--n-scroll-item-height);
 box-sizing: border-box;
 padding-top: 4px;
 display: flex;
 align-items: center;
 justify-content: center;
 position: relative;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background: #0000;
 color: var(--n-item-text-color);
 `,[Tt("&::before",`
 z-index: -1;
 content: "";
 position: absolute;
 left: 0;
 right: 4px;
 top: 4px;
 bottom: 0;
 border-radius: var(--n-scroll-item-border-radius);
 transition: 
 background-color .3s var(--n-bezier);
 `),wi("disabled",[Tt("&:hover::before",`
 background-color: var(--n-item-color-hover);
 `),Lt("selected",`
 color: var(--n-item-color-active);
 `,[Tt("&::before","background-color: var(--n-item-color-hover);")])]),Lt("disabled",`
 color: var(--n-item-text-color-disabled);
 cursor: not-allowed;
 `,[Lt("selected",[Tt("&::before",`
 background-color: var(--n-item-color-disabled);
 `)])])])]),Lt("date",{gridTemplateAreas:`
 "left-calendar"
 "footer"
 "action"
 `}),Lt("daterange",{gridTemplateAreas:`
 "left-calendar divider right-calendar"
 "footer footer footer"
 "action action action"
 `}),Lt("datetime",{gridTemplateAreas:`
 "header"
 "left-calendar"
 "footer"
 "action"
 `}),Lt("datetimerange",{gridTemplateAreas:`
 "header header header"
 "left-calendar divider right-calendar"
 "footer footer footer"
 "action action action"
 `}),Lt("month",{gridTemplateAreas:`
 "left-calendar"
 "footer"
 "action"
 `}),$t("date-panel-footer",{gridArea:"footer"}),$t("date-panel-actions",{gridArea:"action"}),$t("date-panel-header",{gridArea:"header"}),$t("date-panel-header",`
 box-sizing: border-box;
 width: 100%;
 align-items: center;
 padding: var(--n-panel-header-padding);
 display: flex;
 justify-content: space-between;
 border-bottom: 1px solid var(--n-panel-header-divider-color);
 `,[Tt(">",[Tt("*:not(:last-child)",{marginRight:"10px"}),Tt("*",{flex:1,width:0}),$t("time-picker",{zIndex:1})])]),$t("date-panel-month",`
 box-sizing: border-box;
 display: grid;
 grid-template-columns: var(--n-calendar-title-grid-template-columns);
 align-items: center;
 justify-items: center;
 padding: var(--n-calendar-title-padding);
 height: var(--n-calendar-title-height);
 `,[fe("prev, next, fast-prev, fast-next",`
 line-height: 0;
 cursor: pointer;
 width: var(--n-arrow-size);
 height: var(--n-arrow-size);
 color: var(--n-arrow-color);
 `),fe("month-year",`
 user-select: none;
 -webkit-user-select: none;
 flex-grow: 1;
 position: relative;
 `,[fe("text",`
 font-size: var(--n-calendar-title-font-size);
 line-height: var(--n-calendar-title-font-size);
 font-weight: var(--n-calendar-title-font-weight);
 padding: 6px 8px;
 text-align: center;
 color: var(--n-calendar-title-text-color);
 cursor: pointer;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-panel-border-radius);
 `,[Lt("active",`
 background-color: var(--n-calendar-title-color-hover);
 `),Tt("&:hover",`
 background-color: var(--n-calendar-title-color-hover);
 `)])])]),$t("date-panel-weekdays",`
 display: grid;
 margin: auto;
 grid-template-columns: repeat(7, var(--n-item-cell-width));
 grid-template-rows: repeat(1, var(--n-item-cell-height));
 align-items: center;
 justify-items: center;
 margin-bottom: 4px;
 border-bottom: 1px solid var(--n-calendar-days-divider-color);
 `,[fe("day",`
 user-select: none;
 -webkit-user-select: none;
 line-height: 15px;
 width: var(--n-item-size);
 text-align: center;
 font-size: var(--n-calendar-days-font-size);
 color: var(--n-item-text-color);
 `)]),$t("date-panel-dates",`
 margin: auto;
 display: grid;
 grid-template-columns: repeat(7, var(--n-item-cell-width));
 grid-template-rows: repeat(6, var(--n-item-cell-height));
 align-items: center;
 justify-items: center;
 flex-wrap: wrap;
 `,[$t("date-panel-date",`
 user-select: none;
 -webkit-user-select: none;
 position: relative;
 width: var(--n-item-size);
 height: var(--n-item-size);
 line-height: var(--n-item-size);
 text-align: center;
 font-size: var(--n-item-font-size);
 border-radius: var(--n-item-border-radius);
 z-index: 0;
 cursor: pointer;
 transition:
 background-color .2s var(--n-bezier),
 color .2s var(--n-bezier);
 `,[fe("trigger",`
 position: absolute;
 left: calc(var(--n-item-size) / 2 - var(--n-item-cell-width) / 2);
 top: calc(var(--n-item-size) / 2 - var(--n-item-cell-height) / 2);
 width: var(--n-item-cell-width);
 height: var(--n-item-cell-height);
 `),wi("disabled",[wi("selected",[Tt("&:hover",{backgroundColor:"var(--n-item-color-hover)"})])]),Lt("current",[fe("sup",`
 position: absolute;
 top: 2px;
 right: 2px;
 content: "";
 height: 4px;
 width: 4px;
 border-radius: 2px;
 background-color: var(--n-item-color-active);
 transition:
 background-color .2s var(--n-bezier);
 `)]),Tt("&::after",`
 content: "";
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 transition: background-color .3s var(--n-bezier);
 `),Lt("covered, start, end",[wi("excluded",[Tt("&::before",`
 content: "";
 z-index: -2;
 position: absolute;
 left: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 right: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 top: 0;
 bottom: 0;
 background-color: var(--n-item-color-included);
 `),Tt("&:nth-child(7n + 1)::before",{borderTopLeftRadius:"var(--n-item-border-radius)",borderBottomLeftRadius:"var(--n-item-border-radius)"}),Tt("&:nth-child(7n + 7)::before",{borderTopRightRadius:"var(--n-item-border-radius)",borderBottomRightRadius:"var(--n-item-border-radius)"})])]),Lt("selected",{color:"var(--n-item-text-color-active)"},[Tt("&::after",{backgroundColor:"var(--n-item-color-active)"}),Lt("start",[Tt("&::before",{left:"50%"})]),Lt("end",[Tt("&::before",{right:"50%"})]),fe("sup",{backgroundColor:"var(--n-panel-color)"})]),Lt("excluded",{color:"var(--n-item-text-color-disabled)"},[Lt("selected",[Tt("&::after",{backgroundColor:"var(--n-item-color-disabled)"})])]),Lt("disabled",{cursor:"not-allowed",color:"var(--n-item-text-color-disabled)"},[Lt("covered",[Tt("&::before",{backgroundColor:"var(--n-item-color-disabled)"})]),Lt("selected",[Tt("&::before",{backgroundColor:"var(--n-item-color-disabled)"}),Tt("&::after",{backgroundColor:"var(--n-item-color-disabled)"})])])])]),fe("vertical-divider",`
 grid-area: divider;
 height: 100%;
 width: 1px;
 background-color: var(--n-calendar-divider-color);
 `),$t("date-panel-footer",{borderTop:"1px solid var(--n-panel-action-divider-color)",padding:"var(--n-panel-extra-footer-padding)"}),$t("date-panel-actions",`
 flex: 1;
 padding: var(--n-panel-action-padding);
 display: flex;
 align-items: center;
 justify-content: space-between;
 border-top: 1px solid var(--n-panel-action-divider-color);
 `,[fe("prefix, suffix",`
 display: flex;
 margin-bottom: -8px;
 `),fe("suffix",`
 align-self: flex-end;
 `),fe("prefix",`
 flex-wrap: wrap;
 `),$t("button",`
 margin-bottom: 8px;
 `,[Tt("&:not(:last-child)",`
 margin-right: 8px;
 `)])])]),Tt("[data-n-date].transition-disabled",{transition:"none !important"},[Tt("&::before, &::after",{transition:"none !important"})])]),lA=Object.assign(Object.assign({},tu.props),{to:Ia.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,updateValueOnClose:Boolean,defaultValue:[Number,Array],defaultFormattedValue:[String,Array],defaultTime:[Number,String,Array],disabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom-start"},value:[Number,Array],formattedValue:[String,Array],size:String,type:{type:String,default:"date"},valueFormat:String,separator:String,placeholder:String,startPlaceholder:String,endPlaceholder:String,format:String,dateFormat:String,timeFormat:String,actions:Array,shortcuts:Object,isDateDisabled:Function,isTimeDisabled:Function,show:{type:Boolean,default:void 0},panel:Boolean,ranges:Object,firstDayOfWeek:Number,inputReadonly:Boolean,closeOnSelect:Boolean,status:String,timePickerProps:[Object,Array],onClear:Function,onConfirm:Function,defaultCalendarStartTime:Number,defaultCalendarEndTime:Number,bindCalendarMonths:Boolean,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],"onUpdate:formattedValue":[Function,Array],onUpdateFormattedValue:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onChange:[Function,Array]}),uA=me({name:"DatePicker",props:lA,setup(r,{slots:e}){var t;const{localeRef:n,dateLocaleRef:a}=Tv("DatePicker"),i=m0(r),{mergedSizeRef:o,mergedDisabledRef:s,mergedStatusRef:l}=i,{mergedComponentPropsRef:u,mergedClsPrefixRef:c,mergedBorderedRef:f,namespaceRef:h,inlineThemeDisabled:v}=y0(r),d=lt(null),p=lt(null),g=lt(null),y=lt(!1),w=sn(r,"show"),x=Rc(w,y),m=H(()=>({locale:a.value.locale})),C=H(()=>{const{format:R}=r;if(R)return R;switch(r.type){case"date":case"daterange":return n.value.dateFormat;case"datetime":case"datetimerange":return n.value.dateTimeFormat;case"year":case"yearrange":return n.value.yearTypeFormat;case"month":case"monthrange":return n.value.monthTypeFormat;case"quarter":case"quarterrange":return n.value.quarterFormat}}),S=H(()=>{var R;return(R=r.valueFormat)!==null&&R!==void 0?R:C.value});function T(R){if(R===null)return null;const{value:Q}=S,{value:pt}=m;return Array.isArray(R)?[Xe(R[0],Q,new Date,pt).getTime(),Xe(R[1],Q,new Date,pt).getTime()]:Xe(R,Q,new Date,pt).getTime()}const{defaultFormattedValue:A,defaultValue:k}=r,D=lt((t=A!==void 0?T(A):k)!==null&&t!==void 0?t:null),$=H(()=>{const{formattedValue:R}=r;return R!==void 0?T(R):r.value}),L=Rc($,D),F=lt(null);c0(()=>{F.value=L.value});const X=lt(""),j=lt(""),Z=lt(""),ot=tu("DatePicker","-date-picker",sA,LO,r,c),dt=H(()=>{var R,Q;return((Q=(R=u==null?void 0:u.value)===null||R===void 0?void 0:R.DatePicker)===null||Q===void 0?void 0:Q.timePickerSize)||"small"}),ut=H(()=>["daterange","datetimerange","monthrange","quarterrange","yearrange"].includes(r.type)),nt=H(()=>{const{placeholder:R}=r;if(R===void 0){const{type:Q}=r;switch(Q){case"date":return n.value.datePlaceholder;case"datetime":return n.value.datetimePlaceholder;case"month":return n.value.monthPlaceholder;case"year":return n.value.yearPlaceholder;case"quarter":return n.value.quarterPlaceholder;default:return""}}else return R}),rt=H(()=>r.startPlaceholder===void 0?r.type==="daterange"?n.value.startDatePlaceholder:r.type==="datetimerange"?n.value.startDatetimePlaceholder:r.type==="monthrange"?n.value.startMonthPlaceholder:"":r.startPlaceholder),wt=H(()=>r.endPlaceholder===void 0?r.type==="daterange"?n.value.endDatePlaceholder:r.type==="datetimerange"?n.value.endDatetimePlaceholder:r.type==="monthrange"?n.value.endMonthPlaceholder:"":r.endPlaceholder),Et=H(()=>{const{actions:R,type:Q,clearable:pt}=r;if(R===null)return[];if(R!==void 0)return R;const yt=pt?["clear"]:[];switch(Q){case"date":return yt.push("now"),yt;case"datetime":return yt.push("now","confirm"),yt;case"daterange":return yt.push("confirm"),yt;case"datetimerange":return yt.push("confirm"),yt;case"month":return yt.push("now","confirm"),yt;case"year":return yt.push("now"),yt;case"quarter":return yt.push("now","confirm"),yt;case"monthrange":case"yearrange":case"quarterrange":return yt.push("confirm"),yt;default:{ZC("date-picker","The type is wrong, n-date-picker's type only supports `date`, `datetime`, `daterange` and `datetimerange`.");break}}});function zt(R){if(R===null)return null;if(Array.isArray(R)){const{value:Q}=S,{value:pt}=m;return[Xt(R[0],Q,pt),Xt(R[1],Q,m.value)]}else return Xt(R,S.value,m.value)}function gt(R){F.value=R}function Gt(R,Q){const{"onUpdate:formattedValue":pt,onUpdateFormattedValue:yt}=r;pt&&pe(pt,R,Q),yt&&pe(yt,R,Q)}function Ct(R,Q){const{"onUpdate:value":pt,onUpdateValue:yt,onChange:I}=r,{nTriggerFormChange:z,nTriggerFormInput:K}=i,mt=zt(R);Q.doConfirm&&st(R,mt),yt&&pe(yt,R,mt),pt&&pe(pt,R,mt),I&&pe(I,R,mt),D.value=R,Gt(mt,R),z(),K()}function xt(){const{onClear:R}=r;R==null||R()}function st(R,Q){const{onConfirm:pt}=r;pt&&pt(R,Q)}function ft(R){const{onFocus:Q}=r,{nTriggerFormFocus:pt}=i;Q&&pe(Q,R),pt()}function qt(R){const{onBlur:Q}=r,{nTriggerFormBlur:pt}=i;Q&&pe(Q,R),pt()}function ce(R){const{"onUpdate:show":Q,onUpdateShow:pt}=r;Q&&pe(Q,R),pt&&pe(pt,R),y.value=R}function Ye(R){R.key==="Escape"&&x.value&&(zs(R),Pr({returnFocus:!0}))}function ne(R){R.key==="Escape"&&x.value&&zs(R)}function xe(){var R;ce(!1),(R=g.value)===null||R===void 0||R.deactivate(),xt()}function Ot(){var R;(R=g.value)===null||R===void 0||R.deactivate(),xt()}function N(){Pr({returnFocus:!0})}function at(R){var Q;x.value&&!(!((Q=p.value)===null||Q===void 0)&&Q.contains(Mv(R)))&&Pr({returnFocus:!1})}function ae(R){Pr({returnFocus:!0,disableUpdateOnClose:R})}function ti(R,Q){Q?Ct(R,{doConfirm:!1}):gt(R)}function ua(){const R=F.value;Ct(Array.isArray(R)?[R[0],R[1]]:R,{doConfirm:!0})}function Tr(){const{value:R}=F;ut.value?(Array.isArray(R)||R===null)&&pr(R):Array.isArray(R)||ei(R)}function ei(R){R===null?X.value="":X.value=Xt(R,C.value,m.value)}function pr(R){if(R===null)j.value="",Z.value="";else{const Q=m.value;j.value=Xt(R[0],C.value,Q),Z.value=Xt(R[1],C.value,Q)}}function ca(){x.value||In()}function Ee(R){var Q;!((Q=d.value)===null||Q===void 0)&&Q.$el.contains(R.relatedTarget)||(qt(R),Tr(),Pr({returnFocus:!1}))}function ri(){s.value||(Tr(),Pr({returnFocus:!1}))}function ni(R){if(R===""){Ct(null,{doConfirm:!1}),F.value=null,X.value="";return}const Q=Xe(R,C.value,new Date,m.value);cr(Q)?(Ct(U(Q),{doConfirm:!1}),Tr()):X.value=R}function fa(R){if(R[0]===""&&R[1]===""){Ct(null,{doConfirm:!1}),F.value=null,j.value="",Z.value="";return}const[Q,pt]=R,yt=Xe(Q,C.value,new Date,m.value),I=Xe(pt,C.value,new Date,m.value);cr(yt)&&cr(I)?(Ct([U(yt),U(I)],{doConfirm:!1}),Tr()):[j.value,Z.value]=R}function _n(R){s.value||A0(R,"clear")||x.value||In()}function En(R){s.value||ft(R)}function In(){s.value||x.value||ce(!0)}function Pr({returnFocus:R,disableUpdateOnClose:Q}){var pt;x.value&&(ce(!1),r.type!=="date"&&r.updateValueOnClose&&!Q&&ua(),R&&((pt=g.value)===null||pt===void 0||pt.focus()))}br(F,()=>{Tr()}),Tr(),br(x,R=>{R||(F.value=L.value)});const Ze=BO(r,F),Rn=FO(r,F);x0(au,Object.assign(Object.assign(Object.assign({mergedClsPrefixRef:c,mergedThemeRef:ot,timePickerSizeRef:dt,localeRef:n,dateLocaleRef:a,firstDayOfWeekRef:sn(r,"firstDayOfWeek"),isDateDisabledRef:sn(r,"isDateDisabled"),rangesRef:sn(r,"ranges"),timePickerPropsRef:sn(r,"timePickerProps"),closeOnSelectRef:sn(r,"closeOnSelect"),updateValueOnCloseRef:sn(r,"updateValueOnClose")},Ze),Rn),{datePickerSlots:e}));const ai={focus:()=>{var R;(R=g.value)===null||R===void 0||R.focus()},blur:()=>{var R;(R=g.value)===null||R===void 0||R.blur()}},Ln=H(()=>{const{common:{cubicBezierEaseInOut:R},self:{iconColor:Q,iconColorDisabled:pt}}=ot.value;return{"--n-bezier":R,"--n-icon-color-override":Q,"--n-icon-color-disabled-override":pt}}),Or=v?Hs("date-picker-trigger",void 0,Ln,r):void 0,ha=H(()=>{const{type:R}=r,{common:{cubicBezierEaseInOut:Q},self:{calendarTitleFontSize:pt,calendarDaysFontSize:yt,itemFontSize:I,itemTextColor:z,itemColorDisabled:K,itemColorIncluded:mt,itemColorHover:Ke,itemColorActive:Je,itemBorderRadius:jt,itemTextColorDisabled:ii,itemTextColorActive:oi,panelColor:si,panelTextColor:li,arrowColor:or,calendarTitleTextColor:ui,panelActionDividerColor:ci,panelHeaderDividerColor:Vu,calendarDaysDividerColor:Hu,panelBoxShadow:zu,panelBorderRadius:Gu,calendarTitleFontWeight:E,panelExtraFooterPadding:W,panelActionPadding:tt,itemSize:we,itemCellWidth:kr,itemCellHeight:Qt,scrollItemWidth:fi,scrollItemHeight:po,calendarTitlePadding:hi,calendarTitleHeight:LC,calendarDaysHeight:BC,calendarDaysTextColor:FC,arrowSize:$C,panelHeaderPadding:YC,calendarDividerColor:NC,calendarTitleGridTempateColumns:VC,iconColor:HC,iconColorDisabled:zC,scrollItemBorderRadius:GC,calendarTitleColorHover:WC,[ap("calendarLeftPadding",R)]:XC,[ap("calendarRightPadding",R)]:UC}}=ot.value;return{"--n-bezier":Q,"--n-panel-border-radius":Gu,"--n-panel-color":si,"--n-panel-box-shadow":zu,"--n-panel-text-color":li,"--n-panel-header-padding":YC,"--n-panel-header-divider-color":Vu,"--n-calendar-left-padding":XC,"--n-calendar-right-padding":UC,"--n-calendar-title-color-hover":WC,"--n-calendar-title-height":LC,"--n-calendar-title-padding":hi,"--n-calendar-title-font-size":pt,"--n-calendar-title-font-weight":E,"--n-calendar-title-text-color":ui,"--n-calendar-title-grid-template-columns":VC,"--n-calendar-days-height":BC,"--n-calendar-days-divider-color":Hu,"--n-calendar-days-font-size":yt,"--n-calendar-days-text-color":FC,"--n-calendar-divider-color":NC,"--n-panel-action-padding":tt,"--n-panel-extra-footer-padding":W,"--n-panel-action-divider-color":ci,"--n-item-font-size":I,"--n-item-border-radius":jt,"--n-item-size":we,"--n-item-cell-width":kr,"--n-item-cell-height":Qt,"--n-item-text-color":z,"--n-item-color-included":mt,"--n-item-color-disabled":K,"--n-item-color-hover":Ke,"--n-item-color-active":Je,"--n-item-text-color-disabled":ii,"--n-item-text-color-active":oi,"--n-scroll-item-width":fi,"--n-scroll-item-height":po,"--n-scroll-item-border-radius":GC,"--n-arrow-size":$C,"--n-arrow-color":or,"--n-icon-color":HC,"--n-icon-color-disabled":zC}}),gr=v?Hs("date-picker",H(()=>r.type),ha,r):void 0;return Object.assign(Object.assign({},ai),{mergedStatus:l,mergedClsPrefix:c,mergedBordered:f,namespace:h,uncontrolledValue:D,pendingValue:F,panelInstRef:d,triggerElRef:p,inputInstRef:g,isMounted:w0(),displayTime:X,displayStartTime:j,displayEndTime:Z,mergedShow:x,adjustedTo:Ia(r),isRange:ut,localizedStartPlaceholder:rt,localizedEndPlaceholder:wt,mergedSize:o,mergedDisabled:s,localizedPlacehoder:nt,isValueInvalid:Ze.isValueInvalidRef,isStartValueInvalid:Rn.isStartValueInvalidRef,isEndValueInvalid:Rn.isEndValueInvalidRef,handleInputKeydown:ne,handleClickOutside:at,handleKeydown:Ye,handleClear:xe,handlePanelClear:Ot,handleTriggerClick:_n,handleInputActivate:ca,handleInputDeactivate:ri,handleInputFocus:En,handleInputBlur:Ee,handlePanelTabOut:N,handlePanelClose:ae,handleRangeUpdateValue:fa,handleSingleUpdateValue:ni,handlePanelUpdateValue:ti,handlePanelConfirm:ua,mergedTheme:ot,actions:Et,triggerCssVars:v?void 0:Ln,triggerThemeClass:Or==null?void 0:Or.themeClass,triggerOnRender:Or==null?void 0:Or.onRender,cssVars:v?void 0:ha,themeClass:gr==null?void 0:gr.themeClass,onRender:gr==null?void 0:gr.onRender})},render(){const{clearable:r,triggerOnRender:e,mergedClsPrefix:t,$slots:n}=this,a={onUpdateValue:this.handlePanelUpdateValue,onTabOut:this.handlePanelTabOut,onClose:this.handlePanelClose,onClear:this.handlePanelClear,onKeydown:this.handleKeydown,onConfirm:this.handlePanelConfirm,ref:"panelInstRef",value:this.pendingValue,active:this.mergedShow,actions:this.actions,shortcuts:this.shortcuts,style:this.cssVars,defaultTime:this.defaultTime,themeClass:this.themeClass,panel:this.panel,onRender:this.onRender},i=()=>{const{type:s}=this;return s==="datetime"?P(rA,Object.assign({},a),n):s==="daterange"?P(iA,Object.assign({},a,{defaultCalendarStartTime:this.defaultCalendarStartTime,defaultCalendarEndTime:this.defaultCalendarEndTime,bindCalendarMonths:this.bindCalendarMonths}),n):s==="datetimerange"?P(nA,Object.assign({},a,{defaultCalendarStartTime:this.defaultCalendarStartTime,defaultCalendarEndTime:this.defaultCalendarEndTime,bindCalendarMonths:this.bindCalendarMonths}),n):s==="month"||s==="year"||s==="quarter"?P(ix,Object.assign({},a,{type:s,key:s})):s==="monthrange"||s==="yearrange"||s==="quarterrange"?P(oA,Object.assign({},a,{type:s})):P(aA,Object.assign({},a),n)};if(this.panel)return i();e==null||e();const o={bordered:this.mergedBordered,size:this.mergedSize,passivelyActivated:!0,disabled:this.mergedDisabled,readonly:this.inputReadonly||this.mergedDisabled,clearable:r,onClear:this.handleClear,onClick:this.handleTriggerClick,onKeydown:this.handleInputKeydown,onActivate:this.handleInputActivate,onDeactivate:this.handleInputDeactivate,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur};return P("div",{ref:"triggerElRef",class:[`${t}-date-picker`,this.mergedDisabled&&`${t}-date-picker--disabled`,this.isRange&&`${t}-date-picker--range`,this.triggerThemeClass],style:this.triggerCssVars,onKeydown:this.handleKeydown},P(Pv,null,{default:()=>[P(Ov,null,{default:()=>this.isRange?P(Ea,Object.assign({ref:"inputInstRef",status:this.mergedStatus,value:[this.displayStartTime,this.displayEndTime],placeholder:[this.localizedStartPlaceholder,this.localizedEndPlaceholder],textDecoration:[this.isStartValueInvalid?"line-through":"",this.isEndValueInvalid?"line-through":""],pair:!0,onUpdateValue:this.handleRangeUpdateValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,internalForceFocus:this.mergedShow,internalDeactivateOnEnter:!0},o),{separator:()=>this.separator===void 0?Nt(n.separator,()=>[P(Ko,{clsPrefix:t,class:`${t}-date-picker-icon`},{default:()=>P(wO,null)})]):this.separator,[r?"clear-icon-placeholder":"suffix"]:()=>Nt(n["date-icon"],()=>[P(Ko,{clsPrefix:t,class:`${t}-date-picker-icon`},{default:()=>P(bg,null)})])}):P(Ea,Object.assign({ref:"inputInstRef",status:this.mergedStatus,value:this.displayTime,placeholder:this.localizedPlacehoder,textDecoration:this.isValueInvalid&&!this.isRange?"line-through":"",onUpdateValue:this.handleSingleUpdateValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,internalForceFocus:this.mergedShow,internalDeactivateOnEnter:!0},o),{[r?"clear-icon-placeholder":"suffix"]:()=>P(Ko,{clsPrefix:t,class:`${t}-date-picker-icon`},{default:()=>Nt(n["date-icon"],()=>[P(bg,null)])})})}),P(kv,{show:this.mergedShow,containerClass:this.namespace,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Ia.tdkey,placement:this.placement},{default:()=>P(bv,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?Cv(i(),[[Sv,this.handleClickOutside,void 0,{capture:!0}]]):null})})]}))}}),cA={getDashboard(r){return ip("GET /jobor/dashboard",{params:r})},getScoutResolution(r){return ip("GET /dashboard/scout/resolution",{params:r})}},Eg="YYYY-MM-DD";function Wv(){const r=KC();return H(()=>{var t,n,a;if(Ic((t=r.query)==null?void 0:t.startDate)){const i=un().add(-1,"month").format(Eg),o=un().format(Eg);return{startDate:i,endDate:o}}return{startDate:(n=r.query)==null?void 0:n.startDate,endDate:(a=r.query)==null?void 0:a.endDate}})}const fA={class:"box-shadow",flex:"","justify-end":"","p-2":"","rd-2":"","top-0":"","z-10":"","bg-white":"",sticky:""},hA=me({__name:"FilterRow",setup(r){const e="YYYY-MM-DD",t=r1(),n=Wv(),a=H({get(){if(Ic(n.value))return null;const{startDate:s,endDate:l}=n.value;return[un(s).valueOf(),un(l).valueOf()]},set(s){if(Ic(s))t.replace({query:void 0});else{const[l,u]=s;t.replace({query:{startDate:un(l).format(e),endDate:un(u).format(e)}})}}});function i(s,l){t.replace({query:{startDate:un().subtract(s,l).format(e),endDate:un().format(e)}})}const o=[{label:"近1年",unit:"year",count:1},{label:"近1季度",unit:"month",count:3},{label:"近1月",unit:"month",count:1},{label:"近3周",unit:"week",count:3},{label:"近1周",unit:"week",count:1},{label:"近3天",unit:"day",count:3}];return(s,l)=>(Cn(),_a("div",fA,[Kt(Rt(s1),null,{default:Ie(()=>[Kt(Rt(i1),{size:"small"},{default:Ie(()=>[(Cn(),_a(JC,null,t1(o,u=>Kt(Rt(Be),{key:u.label,onClick:c=>i(u.count,u.unit)},{default:Ie(()=>[C0(Gs(u.label),1)]),_:2},1032,["onClick"])),64))]),_:1}),Kt(Rt(uA),{value:Rt(a),"onUpdate:value":l[0]||(l[0]=u=>e1(a)?a.value=u:null),size:"small",type:"daterange",clearable:""},null,8,["value"])]),_:1})]))}}),vA={"text-base":"","c-gray":""},dA={"text-4xl":"","my-1":""},bo=me({__name:"StatisticViewV2",props:{label:null,value:{default:0},preValue:{default:0},isPercenter:{type:Boolean,default:!1}},setup(r){const e=r,t=H(()=>{if(e.isPercenter)return"%"});return(n,a)=>(Cn(),_a("div",null,[ge("div",vA,Gs(e.label),1),ge("div",dA,[Kt(Rt(kO),{from:0,to:e.value,"show-separator":"",precision:e.isPercenter?2:0},null,8,["to","precision"]),C0(" "+Gs(Rt(t)),1)])]))}}),iu=r=>(n1("data-v-4b4ef9ae"),r=r(),a1(),r),pA={class:"box box-shadow",relative:""},gA={class:"card-panel-icon-wrapper"},yA=iu(()=>ge("svg",{class:"icon","aria-hidden":"true"},[ge("use",{"xlink:href":"#icon-ic-today"})],-1)),mA={class:"box box-shadow",relative:""},xA={class:"card-panel-icon-wrapper"},wA=iu(()=>ge("svg",{class:"icon","aria-hidden":"true"},[ge("use",{"xlink:href":"#icon-app"})],-1)),bA={class:"box box-shadow",relative:""},CA={class:"card-panel-icon-wrapper"},SA=iu(()=>ge("svg",{class:"icon","aria-hidden":"true"},[ge("use",{"xlink:href":"#icon-app_v1"})],-1)),MA={class:"box box-shadow",relative:""},TA={class:"card-panel-icon-wrapper"},PA=iu(()=>ge("svg",{class:"icon","aria-hidden":"true"},[ge("use",{"xlink:href":"#icon-server-icon"})],-1)),OA=me({__name:"JoborStatisticContainer",props:{data:null,loading:{type:Boolean}},setup(r){const e=r,{data:t,loading:n}=S0(e),a="0:4 600:2 1200:1";return(i,o)=>(Cn(),M0(Rt(D0),{show:Rt(n)},{default:Ie(()=>[Kt(Rt(o1),{"x-gap":12,"y-gap":12,cols:4,"item-responsive":""},{default:Ie(()=>[Kt(Rt(go),{span:a},{default:Ie(()=>{var s;return[ge("div",pA,[ge("div",gA,[Kt(Rt(yo),{size:48},{default:Ie(()=>[yA]),_:1})]),Kt(bo,{value:(s=Rt(t))==null?void 0:s.today_task_logs,label:"今日执行任务数","is-num":!1},null,8,["value"])])]}),_:1}),Kt(Rt(go),{span:a},{default:Ie(()=>{var s;return[ge("div",mA,[ge("div",xA,[Kt(Rt(yo),{size:48},{default:Ie(()=>[wA]),_:1})]),Kt(bo,{class:"card-panel-value",value:(s=Rt(t))==null?void 0:s.tasks,label:"开启任务数"},null,8,["value"])])]}),_:1}),Kt(Rt(go),{span:a},{default:Ie(()=>{var s;return[ge("div",bA,[ge("div",CA,[Kt(Rt(yo),{size:48},{default:Ie(()=>[SA]),_:1})]),Kt(bo,{value:(s=Rt(t))==null?void 0:s.workers,label:"在线工作节点数"},null,8,["value"])])]}),_:1}),Kt(Rt(go),{span:a},{default:Ie(()=>{var s;return[ge("div",MA,[ge("div",TA,[Kt(Rt(yo),{size:48},{default:Ie(()=>[PA]),_:1})]),Kt(bo,{value:(s=Rt(t))==null?void 0:s.task_logs,label:"任务执行总记录数","is-num":!1},null,8,["value"])])]}),_:1})]),_:1})]),_:1},8,["show"]))}});const kA=Av(OA,[["__scopeId","data-v-4b4ef9ae"]]),AA={class:"box box-shadow"},DA={"text-xl":"","c-gray-5":"","mb-2":""},_A=me({__name:"ChartBox",props:{title:null},setup(r){const e=r;return(t,n)=>(Cn(),_a("div",AA,[ge("div",DA,Gs(e.title),1),b0(t.$slots,"default",{},void 0,!0)]))}});const EA=Av(_A,[["__scopeId","data-v-9d90c189"]]);var Lh=function(r,e){return Lh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},Lh(r,e)};function _(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Lh(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var b=function(){return b=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},b.apply(this,arguments)};function be(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function Fi(r,e,t,n){function a(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(r,e||[])).next())})}function $i(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,a=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function St(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return i}function Yi(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),a=0,e=0;e<t;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function Dt(r,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))}var nr=function(r){return r!==null&&typeof r!="function"&&isFinite(r.length)},Hn=function(r,e){return nr(r)?r.indexOf(e)>-1:!1},hr=function(r,e){if(!nr(r))return r;for(var t=[],n=0;n<r.length;n++){var a=r[n];e(a,n)&&t.push(a)}return t},IA=function(r,e){return e===void 0&&(e=[]),hr(r,function(t){return!Hn(e,t)})},RA={}.toString,oa=function(r,e){return RA.call(r)==="[object "+e+"]"};const J=function(r){return oa(r,"Function")};var B=function(r){return r==null};const Y=function(r){return Array.isArray?Array.isArray(r):oa(r,"Array")},Vt=function(r){var e=typeof r;return r!==null&&e==="object"||e==="function"};function M(r,e){if(r){var t;if(Y(r))for(var n=0,a=r.length;n<a&&(t=e(r[n],n),t!==!1);n++);else if(Vt(r)){for(var i in r)if(r.hasOwnProperty(i)&&(t=e(r[i],i),t===!1))break}}}var oo=Object.keys?function(r){return Object.keys(r)}:function(r){var e=[];return M(r,function(t,n){J(r)&&n==="prototype"||e.push(n)}),e};function LA(r,e){var t=oo(e),n=t.length;if(B(r))return!n;for(var a=0;a<n;a+=1){var i=t[a];if(e[i]!==r[i]||!(i in r))return!1}return!0}var Bh=function(r){return typeof r=="object"&&r!==null},Lr=function(r){if(!Bh(r)||!oa(r,"Object"))return!1;if(Object.getPrototypeOf(r)===null)return!0;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e};function jr(r,e){if(!Y(r))return null;var t;if(J(e)&&(t=e),Lr(e)&&(t=function(a){return LA(a,e)}),t){for(var n=0;n<r.length;n+=1)if(t(r[n]))return r[n]}return null}var BA=function(r,e){for(var t=null,n=0;n<r.length;n++){var a=r[n],i=a[e];if(!B(i)){Y(i)?t=i[0]:t=i;break}}return t},ar=function(r){if(!Y(r))return[];for(var e=[],t=0;t<r.length;t++)e=e.concat(r[t]);return e};const Cr=function(r){if(Y(r))return r.reduce(function(e,t){return Math.max(e,t)},r[0])},$r=function(r){if(Y(r))return r.reduce(function(e,t){return Math.min(e,t)},r[0])};var FA=function(r){var e=r.filter(function(o){return!isNaN(o)});if(!e.length)return{min:0,max:0};if(Y(r[0])){for(var t=[],n=0;n<r.length;n++)t=t.concat(r[n]);e=t}var a=Cr(e),i=$r(e);return{min:i,max:a}},$A=Array.prototype.splice,YA=function(e,t){if(!nr(e))return[];for(var n=e?t.length:0,a=n-1;n--;){var i=void 0,o=t[n];(n===a||o!==i)&&(i=o,$A.call(e,o,1))}return e},ox=function(r,e,t){if(!Y(r)&&!Lr(r))return r;var n=t;return M(r,function(a,i){n=e(n,a,i)}),n},NA=function(r,e){var t=[];if(!nr(r))return t;for(var n=-1,a=[],i=r.length;++n<i;){var o=r[n];e(o,n,r)&&(t.push(o),a.push(n))}return YA(r,a),t};const ct=function(r){return oa(r,"String")};function sx(r,e){e===void 0&&(e=new Map);var t=[];if(Array.isArray(r))for(var n=0,a=r.length;n<a;n++){var i=r[n];e.has(i)||(t.push(i),e.set(i,!0))}return t}const Zr=function(r,e){for(var t=[],n={},a=0;a<r.length;a++){var i=r[a],o=i[e];if(!B(o)){Y(o)||(o=[o]);for(var s=0;s<o.length;s++){var l=o[s];n[l]||(t.push(l),n[l]=!0)}}}return t};function rr(r){if(nr(r))return r[0]}function Me(r){if(nr(r)){var e=r;return e[e.length-1]}}var VA=function(r,e){for(var t=0;t<r.length;t++)if(!e(r[t],t))return!1;return!0},ou=function(r,e){for(var t=0;t<r.length;t++)if(e(r[t],t))return!0;return!1},HA=Object.prototype.hasOwnProperty;function On(r,e){if(!e||!Y(r))return{};for(var t={},n=J(e)?e:function(s){return s[e]},a,i=0;i<r.length;i++){var o=r[i];a=n(o),HA.call(t,a)?t[a].push(o):t[a]=[o]}return t}function lx(r,e){if(!e)return{0:r};if(!J(e)){var t=Y(e)?e:e.replace(/\s+/g,"").split("*");e=function(n){for(var a="_",i=0,o=t.length;i<o;i++)a+=n[t[i]]&&n[t[i]].toString();return a}}return On(r,e)}const zA=function(r,e){if(!e)return[r];var t=lx(r,e),n=[];for(var a in t)n.push(t[a]);return n};var Ut=function(r,e,t){return r<e?e:r>t?t:r},nc=function(r,e){var t=e.toString(),n=t.indexOf(".");if(n===-1)return Math.round(r);var a=t.substr(n+1).length;return a>20&&(a=20),parseFloat(r.toFixed(a))},Pt=function(r){return oa(r,"Number")},GA=1e-5;function Ce(r,e,t){return t===void 0&&(t=GA),Math.abs(r-e)<t}var Xv=function(r,e){return(r%e+e)%e},WA=Math.PI/180,Uv=function(r){return WA*r};const Na=function(r,e){return r.hasOwnProperty(e)};var qv=Object.values?function(r){return Object.values(r)}:function(r){var e=[];return M(r,function(t,n){J(r)&&n==="prototype"||e.push(t)}),e};const su=function(r){return B(r)?"":r.toString()};var qa=function(r){return su(r).toLowerCase()};function ux(r,e){return!r||!e?r:r.replace(/\\?\{([^{}]+)\}/g,function(t,n){return t.charAt(0)==="\\"?t.slice(1):e[n]===void 0?"":e[n]})}var sa=function(r){var e=su(r);return e.charAt(0).toUpperCase()+e.substring(1)},XA={}.toString,UA=function(r){return XA.call(r).replace(/^\[object /,"").replace(/]$/,"")},Ni=function(r){return oa(r,"Boolean")},cx=function(r){return oa(r,"Date")},qA=function(r){return r===null},jA=Object.prototype,QA=function(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||jA;return r===t},ba=function(r){return r===void 0},fx=function(r){return r instanceof Element||r instanceof HTMLDocument};function ZA(r){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return e(r)}function KA(r){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;e(r)}function ac(r,e){for(var t in e)e.hasOwnProperty(t)&&t!=="constructor"&&e[t]!==void 0&&(r[t]=e[t])}function Jt(r,e,t,n){return e&&ac(r,e),t&&ac(r,t),n&&ac(r,n),r}var er=function(r){if(typeof r!="object"||r===null)return r;var e;if(Y(r)){e=[];for(var t=0,n=r.length;t<n;t++)typeof r[t]=="object"&&r[t]!=null?e[t]=er(r[t]):e[t]=r[t]}else{e={};for(var a in r)typeof r[a]=="object"&&r[a]!=null?e[a]=er(r[a]):e[a]=r[a]}return e};function hx(r,e,t){var n;return function(){var a=this,i=arguments,o=function(){n=null,t||r.apply(a,i)},s=t&&!n;clearTimeout(n),n=setTimeout(o,e),s&&r.apply(a,i)}}const lu=function(r,e){if(!J(r))throw new TypeError("Expected a function");var t=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=e?e.apply(this,n):n[0],o=t.cache;if(o.has(i))return o.get(i);var s=r.apply(this,n);return o.set(i,s),s};return t.cache=new Map,t};var JA=5;function vx(r,e,t,n){t=t||0,n=n||JA;for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];i!==null&&Lr(i)?(Lr(r[a])||(r[a]={}),t<n?vx(r[a],i,t+1,n):r[a]=e[a]):Y(i)?(r[a]=[],r[a]=r[a].concat(i)):i!==void 0&&(r[a]=i)}}var G=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var n=0;n<e.length;n+=1)vx(r,e[n]);return r},dx=function(r,e){if(!nr(r))return-1;var t=Array.prototype.indexOf;if(t)return t.call(r,e);for(var n=-1,a=0;a<r.length;a++)if(r[a]===e){n=a;break}return n},t2=Object.prototype.hasOwnProperty;function Yr(r){if(B(r))return!0;if(nr(r))return!r.length;var e=UA(r);if(e==="Map"||e==="Set")return!r.size;if(QA(r))return!Object.keys(r).length;for(var t in r)if(t2.call(r,t))return!1;return!0}var ve=function(r,e){if(r===e)return!0;if(!r||!e||ct(r)||ct(e))return!1;if(nr(r)||nr(e)){if(r.length!==e.length)return!1;for(var t=!0,n=0;n<r.length&&(t=ve(r[n],e[n]),!!t);n++);return t}if(Bh(r)||Bh(e)){var a=Object.keys(r),i=Object.keys(e);if(a.length!==i.length)return!1;for(var t=!0,n=0;n<a.length&&(t=ve(r[a[n]],e[a[n]]),!!t);n++);return t}return!1},Le=function(r,e){if(!nr(r))return r;for(var t=[],n=0;n<r.length;n++){var a=r[n];t.push(e(a,n))}return t},e2=function(r){return r};const r2=function(r,e){e===void 0&&(e=e2);var t={};return Vt(r)&&!B(r)&&Object.keys(r).forEach(function(n){t[n]=e(r[n],n)}),t},O=function(r,e,t){for(var n=0,a=ct(e)?e.split("."):e;r&&n<a.length;)r=r[a[n++]];return r===void 0||n<a.length?t:r},he=function(r,e,t){var n=r,a=ct(e)?e.split("."):e;return a.forEach(function(i,o){o<a.length-1?(Vt(n[i])||(n[i]=Pt(a[o+1])?[]:{}),n=n[i]):n[i]=t}),r};var n2=Object.prototype.hasOwnProperty;const jv=function(r,e){if(r===null||!Lr(r))return{};var t={};return M(e,function(n){n2.call(r,n)&&(t[n]=r[n])}),t},Qv=function(r,e,t){var n,a,i,o,s=0;t||(t={});var l=function(){s=t.leading===!1?0:Date.now(),n=null,o=r.apply(a,i),n||(a=i=null)},u=function(){var c=Date.now();!s&&t.leading===!1&&(s=c);var f=e-(c-s);return a=this,i=arguments,f<=0||f>e?(n&&(clearTimeout(n),n=null),s=c,o=r.apply(a,i),n||(a=i=null)):!n&&t.trailing!==!1&&(n=setTimeout(l,f)),o};return u.cancel=function(){clearTimeout(n),s=0,n=a=i=null},u},a2=function(r){return nr(r)?Array.prototype.slice.call(r):[]};var Co={};const kn=function(r){return r=r||"g",Co[r]?Co[r]+=1:Co[r]=1,r+Co[r]},pn=function(){};function qe(r){return B(r)?0:nr(r)?r.length:Object.keys(r).length}var So;const Mo=lu(function(r,e){e===void 0&&(e={});var t=e.fontSize,n=e.fontFamily,a=e.fontWeight,i=e.fontStyle,o=e.fontVariant;return So||(So=document.createElement("canvas").getContext("2d")),So.font=[i,o,a,t+"px",n].join(" "),So.measureText(ct(r)?r:"").width},function(r,e){return e===void 0&&(e={}),Yi([r],qv(e)).join("")}),i2=function(r,e,t,n){n===void 0&&(n="...");var a=16,i=Mo(n,t),o=ct(r)?r:su(r),s=e,l=[],u,c;if(Mo(r,t)<=e)return r;for(;u=o.substr(0,a),c=Mo(u,t),!(c+i>s&&c>s);)if(l.push(u),s-=c,o=o.substr(a),!o)return l.join("");for(;u=o.substr(0,1),c=Mo(u,t),!(c+i>s);)if(l.push(u),s-=c,o=o.substr(1),!o)return l.join("");return""+l.join("")+n};var o2=function(){function r(){this.map={}}return r.prototype.has=function(e){return this.map[e]!==void 0},r.prototype.get=function(e,t){var n=this.map[e];return n===void 0?t:n},r.prototype.set=function(e,t){this.map[e]=t},r.prototype.clear=function(){this.map={}},r.prototype.delete=function(e){delete this.map[e]},r.prototype.size=function(){return Object.keys(this.map).length},r}(),te;(function(r){r.FORE="fore",r.MID="mid",r.BG="bg"})(te||(te={}));var V;(function(r){r.TOP="top",r.TOP_LEFT="top-left",r.TOP_RIGHT="top-right",r.RIGHT="right",r.RIGHT_TOP="right-top",r.RIGHT_BOTTOM="right-bottom",r.LEFT="left",r.LEFT_TOP="left-top",r.LEFT_BOTTOM="left-bottom",r.BOTTOM="bottom",r.BOTTOM_LEFT="bottom-left",r.BOTTOM_RIGHT="bottom-right",r.RADIUS="radius",r.CIRCLE="circle",r.NONE="none"})(V||(V={}));var ye;(function(r){r.AXIS="axis",r.GRID="grid",r.LEGEND="legend",r.TOOLTIP="tooltip",r.ANNOTATION="annotation",r.SLIDER="slider",r.SCROLLBAR="scrollbar",r.OTHER="other"})(ye||(ye={}));var Pa={FORE:3,MID:2,BG:1},Yt;(function(r){r.BEFORE_RENDER="beforerender",r.AFTER_RENDER="afterrender",r.BEFORE_PAINT="beforepaint",r.AFTER_PAINT="afterpaint",r.BEFORE_CHANGE_DATA="beforechangedata",r.AFTER_CHANGE_DATA="afterchangedata",r.BEFORE_CLEAR="beforeclear",r.AFTER_CLEAR="afterclear",r.BEFORE_DESTROY="beforedestroy",r.BEFORE_CHANGE_SIZE="beforechangesize",r.AFTER_CHANGE_SIZE="afterchangesize"})(Yt||(Yt={}));var wn;(function(r){r.BEFORE_DRAW_ANIMATE="beforeanimate",r.AFTER_DRAW_ANIMATE="afteranimate",r.BEFORE_RENDER_LABEL="beforerenderlabel",r.AFTER_RENDER_LABEL="afterrenderlabel"})(wn||(wn={}));var Ve;(function(r){r.MOUSE_ENTER="plot:mouseenter",r.MOUSE_DOWN="plot:mousedown",r.MOUSE_MOVE="plot:mousemove",r.MOUSE_UP="plot:mouseup",r.MOUSE_LEAVE="plot:mouseleave",r.TOUCH_START="plot:touchstart",r.TOUCH_MOVE="plot:touchmove",r.TOUCH_END="plot:touchend",r.TOUCH_CANCEL="plot:touchcancel",r.CLICK="plot:click",r.DBLCLICK="plot:dblclick",r.CONTEXTMENU="plot:contextmenu",r.LEAVE="plot:leave",r.ENTER="plot:enter"})(Ve||(Ve={}));var Dl;(function(r){r.ACTIVE="active",r.INACTIVE="inactive",r.SELECTED="selected",r.DEFAULT="default"})(Dl||(Dl={}));var Ca=["color","shape","size"],At="_origin",Ig=1,Rg=1,Lg=.25,px={};function s2(r){var e=px[r];if(!e)throw new Error("G engine '".concat(r,"' is not exist, please register it at first."));return e}function gx(r,e){px[r]=e}function pa(r,e,t){if(r){if(typeof r.addEventListener=="function")return r.addEventListener(e,t,!1),{remove:function(){r.removeEventListener(e,t,!1)}};if(typeof r.attachEvent=="function")return r.attachEvent("on"+e,t),{remove:function(){r.detachEvent("on"+e,t)}}}}var Si,ic,yx,Fh;function l2(){Si=document.createElement("table"),ic=document.createElement("tr"),yx=/^\s*<(\w+|!)[^>]*>/,Fh={tr:document.createElement("tbody"),tbody:Si,thead:Si,tfoot:Si,td:ic,th:ic,"*":document.createElement("div")}}function bn(r){Si||l2();var e=yx.test(r)&&RegExp.$1;(!e||!(e in Fh))&&(e="*");var t=Fh[e];r=typeof r=="string"?r.replace(/(^\s*)|(\s*$)/g,""):r,t.innerHTML=""+r;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function Ue(r,e,t){var n;try{n=window.getComputedStyle?window.getComputedStyle(r,null)[e]:r.style[e]}catch{}finally{n=n===void 0?t:n}return n}function u2(r,e){var t=Ue(r,"height",e);return t==="auto"&&(t=r.offsetHeight),parseFloat(t)}function c2(r,e){var t=u2(r,e),n=parseFloat(Ue(r,"borderTopWidth"))||0,a=parseFloat(Ue(r,"paddingTop"))||0,i=parseFloat(Ue(r,"paddingBottom"))||0,o=parseFloat(Ue(r,"borderBottomWidth"))||0,s=parseFloat(Ue(r,"marginTop"))||0,l=parseFloat(Ue(r,"marginBottom"))||0;return t+n+o+a+i+s+l}function f2(r,e){var t=Ue(r,"width",e);return t==="auto"&&(t=r.offsetWidth),parseFloat(t)}function h2(r,e){var t=f2(r,e),n=parseFloat(Ue(r,"borderLeftWidth"))||0,a=parseFloat(Ue(r,"paddingLeft"))||0,i=parseFloat(Ue(r,"paddingRight"))||0,o=parseFloat(Ue(r,"borderRightWidth"))||0,s=parseFloat(Ue(r,"marginRight"))||0,l=parseFloat(Ue(r,"marginLeft"))||0;return t+n+o+a+i+l+s}function Ae(r,e){if(r)for(var t in e)e.hasOwnProperty(t)&&(r.style[t]=e[t]);return r}function v2(r){var e=getComputedStyle(r);return{width:(r.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(r.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function Bg(r){return typeof r=="number"&&!isNaN(r)}function Fg(r,e,t,n){var a=t,i=n;if(e){var o=v2(r);a=o.width?o.width:a,i=o.height?o.height:i}return{width:Math.max(Bg(a)?a:Ig,Ig),height:Math.max(Bg(i)?i:Rg,Rg)}}function d2(r){var e=r.parentNode;e&&e.removeChild(r)}var p2="*",mx=function(){function r(){this._events={}}return r.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},r.prototype.once=function(e,t){return this.on(e,t,!0)},r.prototype.emit=function(e){for(var t=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=this._events[e]||[],o=this._events[p2]||[],s=function(l){for(var u=l.length,c=0;c<u;c++)if(l[c]){var f=l[c],h=f.callback,v=f.once;v&&(l.splice(c,1),l.length===0&&delete t._events[e],u--,c--),h.apply(t,n)}};s(i),s(o)},r.prototype.off=function(e,t){if(!e)this._events={};else if(!t)delete this._events[e];else{for(var n=this._events[e]||[],a=n.length,i=0;i<a;i++)n[i].callback===t&&(n.splice(i,1),a--,i--);n.length===0&&delete this._events[e]}return this},r.prototype.getEvents=function(){return this._events},r}(),Zv=function(r){_(e,r);function e(t){var n=r.call(this)||this;n.destroyed=!1;var a=t.visible,i=a===void 0?!0:a;return n.visible=i,n}return e.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},e.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(mx),ki=`	
\v\f\r   ᠎             　\u2028\u2029`,g2=new RegExp("([a-z])["+ki+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+ki+"]*,?["+ki+"]*)+)","ig"),y2=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+ki+"]*,?["+ki+"]*","ig"),Sa=function(r){if(!r)return null;if(Y(r))return r;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(r).replace(g2,function(n,a,i){var o=[],s=a.toLowerCase();if(i.replace(y2,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(t.push([a].concat(o.splice(0,2))),s="l",a=a==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([a,o[0]]),s==="r")t.push([a].concat(o));else for(;o.length>=e[s]&&(t.push([a].concat(o.splice(0,e[s]))),!!e[s]););return r}),t},$h=function(r,e){for(var t=[],n=0,a=r.length;a-2*!e>n;n+=2){var i=[{x:+r[n-2],y:+r[n-1]},{x:+r[n],y:+r[n+1]},{x:+r[n+2],y:+r[n+3]},{x:+r[n+4],y:+r[n+5]}];e?n?a-4===n?i[3]={x:+r[0],y:+r[1]}:a-2===n&&(i[2]={x:+r[0],y:+r[1]},i[3]={x:+r[2],y:+r[3]}):i[0]={x:+r[a-2],y:+r[a-1]}:a-4===n?i[3]=i[2]:n||(i[0]={x:+r[n],y:+r[n+1]}),t.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return t},To=function(r,e,t,n,a){var i=[];if(a===null&&n===null&&(n=t),r=+r,e=+e,t=+t,n=+n,a!==null){var o=Math.PI/180,s=r+t*Math.cos(-n*o),l=r+t*Math.cos(-a*o),u=e+t*Math.sin(-n*o),c=e+t*Math.sin(-a*o);i=[["M",s,u],["A",t,t,0,+(a-n>180),0,l,c]]}else i=[["M",r,e],["m",0,-n],["a",t,n,0,1,1,0,2*n],["a",t,n,0,1,1,0,-2*n],["z"]];return i},Yh=function(r){if(r=Sa(r),!r||!r.length)return[["M",0,0]];var e=[],t=0,n=0,a=0,i=0,o=0,s,l;r[0][0]==="M"&&(t=+r[0][1],n=+r[0][2],a=t,i=n,o++,e[0]=["M",t,n]);for(var u=r.length===3&&r[0][0]==="M"&&r[1][0].toUpperCase()==="R"&&r[2][0].toUpperCase()==="Z",c=void 0,f=void 0,h=o,v=r.length;h<v;h++){if(e.push(c=[]),f=r[h],s=f[0],s!==s.toUpperCase())switch(c[0]=s.toUpperCase(),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+f[6]+t,c[7]=+f[7]+n;break;case"V":c[1]=+f[1]+n;break;case"H":c[1]=+f[1]+t;break;case"R":l=[t,n].concat(f.slice(1));for(var d=2,p=l.length;d<p;d++)l[d]=+l[d]+t,l[++d]=+l[d]+n;e.pop(),e=e.concat($h(l,u));break;case"O":e.pop(),l=To(t,n,f[1],f[2]),l.push(l[0]),e=e.concat(l);break;case"U":e.pop(),e=e.concat(To(t,n,f[1],f[2],f[3])),c=["U"].concat(e[e.length-1].slice(-2));break;case"M":a=+f[1]+t,i=+f[2]+n;break;default:for(var d=1,p=f.length;d<p;d++)c[d]=+f[d]+(d%2?t:n)}else if(s==="R")l=[t,n].concat(f.slice(1)),e.pop(),e=e.concat($h(l,u)),c=["R"].concat(f.slice(-2));else if(s==="O")e.pop(),l=To(t,n,f[1],f[2]),l.push(l[0]),e=e.concat(l);else if(s==="U")e.pop(),e=e.concat(To(t,n,f[1],f[2],f[3])),c=["U"].concat(e[e.length-1].slice(-2));else for(var g=0,y=f.length;g<y;g++)c[g]=f[g];if(s=s.toUpperCase(),s!=="O")switch(c[0]){case"Z":t=+a,n=+i;break;case"H":t=c[1];break;case"V":n=c[1];break;case"M":a=c[c.length-2],i=c[c.length-1];break;default:t=c[c.length-2],n=c[c.length-1]}}return e},Po=function(r,e,t,n){return[r,e,t,n,t,n]},$g=function(r,e,t,n,a,i){var o=.3333333333333333,s=2/3;return[o*r+s*t,o*e+s*n,o*a+s*t,o*i+s*n,a,i]},xx=function(r,e,t,n,a,i,o,s,l,u){t===n&&(t+=1);var c=Math.PI*120/180,f=Math.PI/180*(+a||0),h=[],v,d,p,g,y,w=function(Ct,xt,st){var ft=Ct*Math.cos(st)-xt*Math.sin(st),qt=Ct*Math.sin(st)+xt*Math.cos(st);return{x:ft,y:qt}};if(u)d=u[0],p=u[1],g=u[2],y=u[3];else{v=w(r,e,-f),r=v.x,e=v.y,v=w(s,l,-f),s=v.x,l=v.y,r===s&&e===l&&(s+=1,l+=1);var x=(r-s)/2,m=(e-l)/2,C=x*x/(t*t)+m*m/(n*n);C>1&&(C=Math.sqrt(C),t=C*t,n=C*n);var S=t*t,T=n*n,A=(i===o?-1:1)*Math.sqrt(Math.abs((S*T-S*m*m-T*x*x)/(S*m*m+T*x*x)));g=A*t*m/n+(r+s)/2,y=A*-n*x/t+(e+l)/2,d=Math.asin(((e-y)/n).toFixed(9)),p=Math.asin(((l-y)/n).toFixed(9)),d=r<g?Math.PI-d:d,p=s<g?Math.PI-p:p,d<0&&(d=Math.PI*2+d),p<0&&(p=Math.PI*2+p),o&&d>p&&(d=d-Math.PI*2),!o&&p>d&&(p=p-Math.PI*2)}var k=p-d;if(Math.abs(k)>c){var D=p,$=s,L=l;p=d+c*(o&&p>d?1:-1),s=g+t*Math.cos(p),l=y+n*Math.sin(p),h=xx(s,l,t,n,a,0,o,$,L,[p,D,g,y])}k=p-d;var F=Math.cos(d),X=Math.sin(d),j=Math.cos(p),Z=Math.sin(p),ot=Math.tan(k/4),dt=4/3*t*ot,ut=4/3*n*ot,nt=[r,e],rt=[r+dt*X,e-ut*F],wt=[s+dt*Z,l-ut*j],Et=[s,l];if(rt[0]=2*nt[0]-rt[0],rt[1]=2*nt[1]-rt[1],u)return[rt,wt,Et].concat(h);h=[rt,wt,Et].concat(h).join().split(",");for(var zt=[],gt=0,Gt=h.length;gt<Gt;gt++)zt[gt]=gt%2?w(h[gt-1],h[gt],f).y:w(h[gt],h[gt+1],f).x;return zt},Nh=function(r,e){var t=Yh(r),n=e&&Yh(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],s=[],l="",u="",c,f=function(x,m,C){var S,T;if(!x)return["C",m.x,m.y,m.x,m.y,m.x,m.y];switch(!(x[0]in{T:1,Q:1})&&(m.qx=m.qy=null),x[0]){case"M":m.X=x[1],m.Y=x[2];break;case"A":x=["C"].concat(xx.apply(0,[m.x,m.y].concat(x.slice(1))));break;case"S":C==="C"||C==="S"?(S=m.x*2-m.bx,T=m.y*2-m.by):(S=m.x,T=m.y),x=["C",S,T].concat(x.slice(1));break;case"T":C==="Q"||C==="T"?(m.qx=m.x*2-m.qx,m.qy=m.y*2-m.qy):(m.qx=m.x,m.qy=m.y),x=["C"].concat($g(m.x,m.y,m.qx,m.qy,x[1],x[2]));break;case"Q":m.qx=x[1],m.qy=x[2],x=["C"].concat($g(m.x,m.y,x[1],x[2],x[3],x[4]));break;case"L":x=["C"].concat(Po(m.x,m.y,x[1],x[2]));break;case"H":x=["C"].concat(Po(m.x,m.y,x[1],m.y));break;case"V":x=["C"].concat(Po(m.x,m.y,m.x,x[1]));break;case"Z":x=["C"].concat(Po(m.x,m.y,m.X,m.Y));break}return x},h=function(x,m){if(x[m].length>7){x[m].shift();for(var C=x[m];C.length;)o[m]="A",n&&(s[m]="A"),x.splice(m++,0,["C"].concat(C.splice(0,6)));x.splice(m,1),c=Math.max(t.length,n&&n.length||0)}},v=function(x,m,C,S,T){x&&m&&x[T][0]==="M"&&m[T][0]!=="M"&&(m.splice(T,0,["M",S.x,S.y]),C.bx=0,C.by=0,C.x=x[T][1],C.y=x[T][2],c=Math.max(t.length,n&&n.length||0))};c=Math.max(t.length,n&&n.length||0);for(var d=0;d<c;d++){t[d]&&(l=t[d][0]),l!=="C"&&(o[d]=l,d&&(u=o[d-1])),t[d]=f(t[d],a,u),o[d]!=="A"&&l==="C"&&(o[d]="C"),h(t,d),n&&(n[d]&&(l=n[d][0]),l!=="C"&&(s[d]=l,d&&(u=s[d-1])),n[d]=f(n[d],i,u),s[d]!=="A"&&l==="C"&&(s[d]="C"),h(n,d)),v(t,n,a,i,d),v(n,t,i,a,d);var p=t[d],g=n&&n[d],y=p.length,w=n&&g.length;a.x=p[y-2],a.y=p[y-1],a.bx=parseFloat(p[y-4])||a.x,a.by=parseFloat(p[y-3])||a.y,i.bx=n&&(parseFloat(g[w-4])||i.x),i.by=n&&(parseFloat(g[w-3])||i.y),i.x=n&&g[w-2],i.y=n&&g[w-1]}return n?[t,n]:t},m2=/,?([a-z]),?/gi,wx=function(r){return r.join(",").replace(m2,"$1")},Yg=function(r,e,t,n,a){var i=-3*e+9*t-9*n+3*a,o=r*i+6*e-12*t+6*n;return r*o-3*e+3*t},Ng=function(r,e,t,n,a,i,o,s,l){l===null&&(l=1),l=l>1?1:l<0?0:l;for(var u=l/2,c=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],v=0,d=0;d<c;d++){var p=u*f[d]+u,g=Yg(p,r,t,a,o),y=Yg(p,e,n,i,s),w=g*g+y*y;v+=h[d]*Math.sqrt(w)}return u*v},x2=function(r,e,t,n,a,i,o,s){for(var l=[],u=[[],[]],c,f,h,v,d=0;d<2;++d){if(d===0?(f=6*r-12*t+6*a,c=-3*r+9*t-9*a+3*o,h=3*t-3*r):(f=6*e-12*n+6*i,c=-3*e+9*n-9*i+3*s,h=3*n-3*e),Math.abs(c)<1e-12){if(Math.abs(f)<1e-12)continue;v=-h/f,v>0&&v<1&&l.push(v);continue}var p=f*f-4*h*c,g=Math.sqrt(p);if(!(p<0)){var y=(-f+g)/(2*c);y>0&&y<1&&l.push(y);var w=(-f-g)/(2*c);w>0&&w<1&&l.push(w)}}for(var x=l.length,m=x,C;x--;)v=l[x],C=1-v,u[0][x]=C*C*C*r+3*C*C*v*t+3*C*v*v*a+v*v*v*o,u[1][x]=C*C*C*e+3*C*C*v*n+3*C*v*v*i+v*v*v*s;return u[0][m]=r,u[1][m]=e,u[0][m+1]=o,u[1][m+1]=s,u[0].length=u[1].length=m+2,{min:{x:Math.min.apply(0,u[0]),y:Math.min.apply(0,u[1])},max:{x:Math.max.apply(0,u[0]),y:Math.max.apply(0,u[1])}}},w2=function(r,e,t,n,a,i,o,s){if(!(Math.max(r,t)<Math.min(a,o)||Math.min(r,t)>Math.max(a,o)||Math.max(e,n)<Math.min(i,s)||Math.min(e,n)>Math.max(i,s))){var l=(r*n-e*t)*(a-o)-(r-t)*(a*s-i*o),u=(r*n-e*t)*(i-s)-(e-n)*(a*s-i*o),c=(r-t)*(i-s)-(e-n)*(a-o);if(c){var f=l/c,h=u/c,v=+f.toFixed(2),d=+h.toFixed(2);if(!(v<+Math.min(r,t).toFixed(2)||v>+Math.max(r,t).toFixed(2)||v<+Math.min(a,o).toFixed(2)||v>+Math.max(a,o).toFixed(2)||d<+Math.min(e,n).toFixed(2)||d>+Math.max(e,n).toFixed(2)||d<+Math.min(i,s).toFixed(2)||d>+Math.max(i,s).toFixed(2)))return{x:f,y:h}}}},rn=function(r,e,t){return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},bx=function(r,e,t,n,a){if(a)return[["M",+r+ +a,e],["l",t-a*2,0],["a",a,a,0,0,1,a,a],["l",0,n-a*2],["a",a,a,0,0,1,-a,a],["l",a*2-t,0],["a",a,a,0,0,1,-a,-a],["l",0,a*2-n],["a",a,a,0,0,1,a,-a],["z"]];var i=[["M",r,e],["l",t,0],["l",0,n],["l",-t,0],["z"]];return i.parsePathArray=wx,i},Vh=function(r,e,t,n){return r===null&&(r=e=t=n=0),e===null&&(e=r.y,t=r.width,n=r.height,r=r.x),{x:r,y:e,width:t,w:t,height:n,h:n,x2:r+t,y2:e+n,cx:r+t/2,cy:e+n/2,r1:Math.min(t,n)/2,r2:Math.max(t,n)/2,r0:Math.sqrt(t*t+n*n)/2,path:bx(r,e,t,n),vb:[r,e,t,n].join(" ")}},b2=function(r,e){return r=Vh(r),e=Vh(e),rn(e,r.x,r.y)||rn(e,r.x2,r.y)||rn(e,r.x,r.y2)||rn(e,r.x2,r.y2)||rn(r,e.x,e.y)||rn(r,e.x2,e.y)||rn(r,e.x,e.y2)||rn(r,e.x2,e.y2)||(r.x<e.x2&&r.x>e.x||e.x<r.x2&&e.x>r.x)&&(r.y<e.y2&&r.y>e.y||e.y<r.y2&&e.y>r.y)},Vg=function(r,e,t,n,a,i,o,s){Y(r)||(r=[r,e,t,n,a,i,o,s]);var l=x2.apply(null,r);return Vh(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},Hg=function(r,e,t,n,a,i,o,s,l){var u=1-l,c=Math.pow(u,3),f=Math.pow(u,2),h=l*l,v=h*l,d=c*r+f*3*l*t+u*3*l*l*a+v*o,p=c*e+f*3*l*n+u*3*l*l*i+v*s,g=r+2*l*(t-r)+h*(a-2*t+r),y=e+2*l*(n-e)+h*(i-2*n+e),w=t+2*l*(a-t)+h*(o-2*a+t),x=n+2*l*(i-n)+h*(s-2*i+n),m=u*r+l*t,C=u*e+l*n,S=u*a+l*o,T=u*i+l*s,A=90-Math.atan2(g-w,y-x)*180/Math.PI;return{x:d,y:p,m:{x:g,y},n:{x:w,y:x},start:{x:m,y:C},end:{x:S,y:T},alpha:A}},C2=function(r,e,t){var n=Vg(r),a=Vg(e);if(!b2(n,a))return t?0:[];for(var i=Ng.apply(0,r),o=Ng.apply(0,e),s=~~(i/8),l=~~(o/8),u=[],c=[],f={},h=t?0:[],v=0;v<s+1;v++){var d=Hg.apply(0,r.concat(v/s));u.push({x:d.x,y:d.y,t:v/s})}for(var v=0;v<l+1;v++){var d=Hg.apply(0,e.concat(v/l));c.push({x:d.x,y:d.y,t:v/l})}for(var v=0;v<s;v++)for(var p=0;p<l;p++){var g=u[v],y=u[v+1],w=c[p],x=c[p+1],m=Math.abs(y.x-g.x)<.001?"y":"x",C=Math.abs(x.x-w.x)<.001?"y":"x",S=w2(g.x,g.y,y.x,y.y,w.x,w.y,x.x,x.y);if(S){if(f[S.x.toFixed(4)]===S.y.toFixed(4))continue;f[S.x.toFixed(4)]=S.y.toFixed(4);var T=g.t+Math.abs((S[m]-g[m])/(y[m]-g[m]))*(y.t-g.t),A=w.t+Math.abs((S[C]-w[C])/(x[C]-w[C]))*(x.t-w.t);T>=0&&T<=1&&A>=0&&A<=1&&(t?h+=1:h.push({x:S.x,y:S.y,t1:T,t2:A}))}}return h},S2=function(r,e,t){r=Nh(r),e=Nh(e);for(var n,a,i,o,s,l,u,c,f,h,v=t?0:[],d=0,p=r.length;d<p;d++){var g=r[d];if(g[0]==="M")n=s=g[1],a=l=g[2];else{g[0]==="C"?(f=[n,a].concat(g.slice(1)),n=f[6],a=f[7]):(f=[n,a,n,a,s,l,s,l],n=s,a=l);for(var y=0,w=e.length;y<w;y++){var x=e[y];if(x[0]==="M")i=u=x[1],o=c=x[2];else{x[0]==="C"?(h=[i,o].concat(x.slice(1)),i=h[6],o=h[7]):(h=[i,o,i,o,u,c,u,c],i=u,o=c);var m=C2(f,h,t);if(t)v+=m;else{for(var C=0,S=m.length;C<S;C++)m[C].segment1=d,m[C].segment2=y,m[C].bez1=f,m[C].bez2=h;v=v.concat(m)}}}}}return v},M2=function(r,e){return S2(r,e)};function T2(r,e){var t=[],n=[];function a(i,o){if(i.length===1)t.push(i[0]),n.push(i[0]);else{for(var s=[],l=0;l<i.length-1;l++)l===0&&t.push(i[0]),l===i.length-2&&n.push(i[l+1]),s[l]=[(1-o)*i[l][0]+o*i[l+1][0],(1-o)*i[l][1]+o*i[l+1][1]];a(s,o)}}return r.length&&a(r,e),{left:t,right:n.reverse()}}function P2(r,e,t){var n=[[r[1],r[2]]];t=t||2;var a=[];e[0]==="A"?(n.push(e[6]),n.push(e[7])):e[0]==="C"?(n.push([e[1],e[2]]),n.push([e[3],e[4]]),n.push([e[5],e[6]])):e[0]==="S"||e[0]==="Q"?(n.push([e[1],e[2]]),n.push([e[3],e[4]])):n.push([e[1],e[2]]);for(var i=n,o=1/t,s=0;s<t-1;s++){var l=o/(1-o*s),u=T2(i,l);a.push(u.left),i=u.right}a.push(i);var c=a.map(function(f){var h=[];return f.length===4&&(h.push("C"),h=h.concat(f[2])),f.length>=3&&(f.length===3&&h.push("Q"),h=h.concat(f[1])),f.length===2&&h.push("L"),h=h.concat(f[f.length-1]),h});return c}var O2=function(r,e,t){if(t===1)return[[].concat(r)];var n=[];if(e[0]==="L"||e[0]==="C"||e[0]==="Q")n=n.concat(P2(r,e,t));else{var a=[].concat(r);a[0]==="M"&&(a[0]="L");for(var i=0;i<=t-1;i++)n.push(a)}return n},k2=function(r,e){if(r.length===1)return r;var t=r.length-1,n=e.length-1,a=t/n,i=[];if(r.length===1&&r[0][0]==="M"){for(var o=0;o<n-t;o++)r.push(r[0]);return r}for(var o=0;o<n;o++){var s=Math.floor(a*o);i[s]=(i[s]||0)+1}var l=i.reduce(function(u,c,f){return f===t?u.concat(r[t]):u.concat(O2(r[f],r[f+1],c))},[]);return l.unshift(r[0]),(e[n]==="Z"||e[n]==="z")&&l.push("Z"),l},A2=function(r,e){if(r.length!==e.length)return!1;var t=!0;return M(r,function(n,a){if(n!==e[a])return t=!1,!1}),t};function D2(r,e,t){var n=null,a=t;return e<a&&(a=e,n="add"),r<a&&(a=r,n="del"),{type:n,min:a}}var _2=function(r,e){var t=r.length,n=e.length,a,i,o=0;if(t===0||n===0)return null;for(var s=[],l=0;l<=t;l++)s[l]=[],s[l][0]={min:l};for(var u=0;u<=n;u++)s[0][u]={min:u};for(var l=1;l<=t;l++){a=r[l-1];for(var u=1;u<=n;u++){i=e[u-1],A2(a,i)?o=0:o=1;var c=s[l-1][u].min+1,f=s[l][u-1].min+1,h=s[l-1][u-1].min+o;s[l][u]=D2(c,f,h)}}return s},Cx=function(r,e){var t=_2(r,e),n=r.length,a=e.length,i=[],o=1,s=1;if(t[n][a].min!==n){for(var l=1;l<=n;l++){var u=t[l][l].min;s=l;for(var c=o;c<=a;c++)t[l][c].min<u&&(u=t[l][c].min,s=c);o=s,t[l][o].type&&i.push({index:l-1,type:t[l][o].type})}for(var l=i.length-1;l>=0;l--)o=i[l].index,i[l].type==="add"?r.splice(o,0,[].concat(r[o])):r.splice(o,1)}n=r.length;var f=a-n;if(n<a)for(var l=0;l<f;l++)r[n-1][0]==="z"||r[n-1][0]==="Z"?r.splice(n-2,0,r[n-2]):r.push(r[n-1]),n+=1;return r};function oc(r,e,t){for(var n=[].concat(r),a,i=1/(t+1),o=Sx(e)[0],s=1;s<=t;s++)i*=s,a=Math.floor(r.length*i),a===0?n.unshift([o[0]*i+r[a][0]*(1-i),o[1]*i+r[a][1]*(1-i)]):n.splice(a,0,[o[0]*i+r[a][0]*(1-i),o[1]*i+r[a][1]*(1-i)]);return n}function Sx(r){var e=[];switch(r[0]){case"M":e.push([r[1],r[2]]);break;case"L":e.push([r[1],r[2]]);break;case"A":e.push([r[6],r[7]]);break;case"Q":e.push([r[3],r[4]]),e.push([r[1],r[2]]);break;case"T":e.push([r[1],r[2]]);break;case"C":e.push([r[5],r[6]]),e.push([r[1],r[2]]),e.push([r[3],r[4]]);break;case"S":e.push([r[3],r[4]]),e.push([r[1],r[2]]);break;case"H":e.push([r[1],r[1]]);break;case"V":e.push([r[1],r[1]]);break}return e}var Hh=function(r,e){if(r.length<=1)return r;for(var t,n=0;n<e.length;n++)if(r[n][0]!==e[n][0])switch(t=Sx(r[n]),e[n][0]){case"M":r[n]=["M"].concat(t[0]);break;case"L":r[n]=["L"].concat(t[0]);break;case"A":r[n]=[].concat(e[n]),r[n][6]=t[0][0],r[n][7]=t[0][1];break;case"Q":if(t.length<2)if(n>0)t=oc(t,r[n-1],1);else{r[n]=e[n];break}r[n]=["Q"].concat(t.reduce(function(a,i){return a.concat(i)},[]));break;case"T":r[n]=["T"].concat(t[0]);break;case"C":if(t.length<3)if(n>0)t=oc(t,r[n-1],2);else{r[n]=e[n];break}r[n]=["C"].concat(t.reduce(function(a,i){return a.concat(i)},[]));break;case"S":if(t.length<2)if(n>0)t=oc(t,r[n-1],1);else{r[n]=e[n];break}r[n]=["S"].concat(t.reduce(function(a,i){return a.concat(i)},[]));break;default:r[n]=e[n]}return r};const Kv=Object.freeze(Object.defineProperty({__proto__:null,catmullRomToBezier:$h,fillPath:k2,fillPathByDiff:Cx,formatPath:Hh,intersection:M2,parsePathArray:wx,parsePathString:Sa,pathToAbsolute:Yh,pathToCurve:Nh,rectPath:bx},Symbol.toStringTag,{value:"Module"}));var so=function(){function r(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return r.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r.prototype.toString=function(){var e=this.type;return"[Event (type="+e+")]"},r.prototype.save=function(){},r.prototype.restore=function(){},r}();function Mx(r,e){var t=r.indexOf(e);t!==-1&&r.splice(t,1)}var zg=typeof window<"u"&&typeof window.document<"u";function Tx(r,e){if(r.isCanvas())return!0;for(var t=e.getParent(),n=!1;t;){if(t===r){n=!0;break}t=t.getParent()}return n}function Vi(r){return r.cfg.visible&&r.cfg.capture}var uu=function(r){_(e,r);function e(t){var n=r.call(this)||this;n.destroyed=!1;var a=n.getDefaultCfg();return n.cfg=Jt(a,t),n}return e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,n){this.cfg[t]=n},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(mx),Gg=globalThis&&globalThis.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))},E2=function(){function r(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"}return r}(),I2=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}(),R2=function(){function r(e,t,n,a){this.name=e,this.version=t,this.os=n,this.bot=a,this.type="bot-device"}return r}(),L2=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),B2=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),F2=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,$2=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Wg=3,Y2=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",F2]],Xg=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Px(r){return r?Ug(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new B2:typeof navigator<"u"?Ug(navigator.userAgent):H2()}function N2(r){return r!==""&&Y2.reduce(function(e,t){var n=t[0],a=t[1];if(e)return e;var i=a.exec(r);return!!i&&[n,i]},!1)}function Ug(r){var e=N2(r);if(!e)return null;var t=e[0],n=e[1];if(t==="searchbot")return new L2;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<Wg&&(a=Gg(Gg([],a,!0),z2(Wg-a.length),!0)):a=[];var i=a.join("."),o=V2(r),s=$2.exec(r);return s&&s[1]?new R2(t,i,o,s[1]):new E2(t,i,o)}function V2(r){for(var e=0,t=Xg.length;e<t;e++){var n=Xg[e],a=n[0],i=n[1],o=i.exec(r);if(o)return a}return null}function H2(){var r=typeof process<"u"&&process.version;return r?new I2(process.version.slice(1)):null}function z2(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var _l=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,e=arguments.length;e--;)r+=arguments[e]*arguments[e];return Math.sqrt(r)});function G2(r,e){var t=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*o-s*u,h=-c*i+s*l,v=u*i-o*l,d=t*f+n*h+a*v;return d?(d=1/d,r[0]=f*d,r[1]=(-c*n+a*u)*d,r[2]=(s*n-a*o)*d,r[3]=h*d,r[4]=(c*t-a*l)*d,r[5]=(-s*t+a*i)*d,r[6]=v*d,r[7]=(-u*t+n*l)*d,r[8]=(o*t-n*i)*d,r):null}function cu(r,e,t){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=t[0],v=t[1],d=t[2],p=t[3],g=t[4],y=t[5],w=t[6],x=t[7],m=t[8];return r[0]=h*n+v*o+d*u,r[1]=h*a+v*s+d*c,r[2]=h*i+v*l+d*f,r[3]=p*n+g*o+y*u,r[4]=p*a+g*s+y*c,r[5]=p*i+g*l+y*f,r[6]=w*n+x*o+m*u,r[7]=w*a+x*s+m*c,r[8]=w*i+x*l+m*f,r}function W2(r,e){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=e[0],r[7]=e[1],r[8]=1,r}function X2(r,e){var t=Math.sin(e),n=Math.cos(e);return r[0]=n,r[1]=t,r[2]=0,r[3]=-t,r[4]=n,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function U2(r,e){return r[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=e[1],r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function q2(){var r=new _l(3);return _l!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function Hi(r,e,t){var n=e[0],a=e[1],i=e[2];return r[0]=n*t[0]+a*t[3]+i*t[6],r[1]=n*t[1]+a*t[4]+i*t[7],r[2]=n*t[2]+a*t[5]+i*t[8],r}(function(){var r=q2();return function(e,t,n,a,i,o){var s,l;for(t||(t=3),n||(n=0),a?l=Math.min(a*t+n,e.length):l=e.length,s=n;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],r[2]=e[s+2],i(r,r,o),e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2];return e}})();function j2(){var r=new _l(2);return _l!=Float32Array&&(r[0]=0,r[1]=0),r}function gn(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r}function Ox(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r}function Ge(r,e,t){return r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r}function We(r,e,t){return r[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r}function ur(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r}function El(r,e){var t=e[0]-r[0],n=e[1]-r[1];return Math.hypot(t,n)}function Ma(r){var e=r[0],t=r[1];return Math.hypot(e,t)}function kx(r,e){var t=e[0],n=e[1],a=t*t+n*n;return a>0&&(a=1/Math.sqrt(a)),r[0]=e[0]*a,r[1]=e[1]*a,r}function Q2(r,e){return r[0]*e[0]+r[1]*e[1]}function Z2(r,e,t){var n=e[0],a=e[1];return r[0]=t[0]*n+t[3]*a+t[6],r[1]=t[1]*n+t[4]*a+t[7],r}function zh(r,e){var t=r[0],n=r[1],a=e[0],i=e[1],o=Math.sqrt(t*t+n*n)*Math.sqrt(a*a+i*i),s=o&&(t*a+n*i)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function K2(r,e){return r[0]===e[0]&&r[1]===e[1]}var Oa=Ox;(function(){var r=j2();return function(e,t,n,a,i,o){var s,l;for(t||(t=2),n||(n=0),a?l=Math.min(a*t+n,e.length):l=e.length,s=n;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],i(r,r,o),e[s]=r[0],e[s+1]=r[1];return e}})();function wa(r,e,t){var n=[0,0,0,0,0,0,0,0,0];return W2(n,t),cu(r,n,e)}function Jv(r,e,t){var n=[0,0,0,0,0,0,0,0,0];return X2(n,t),cu(r,n,e)}function Ax(r,e,t){var n=[0,0,0,0,0,0,0,0,0];return U2(n,t),cu(r,n,e)}function J2(r,e,t){return cu(r,t,e)}function oe(r,e){for(var t=r?[].concat(r):[1,0,0,0,1,0,0,0,1],n=0,a=e.length;n<a;n++){var i=e[n];switch(i[0]){case"t":wa(t,t,[i[1],i[2]]);break;case"s":Ax(t,t,[i[1],i[2]]);break;case"r":Jv(t,t,i[1]);break;case"m":J2(t,t,i[1]);break}}return t}function tD(r,e){return r[0]*e[1]-e[0]*r[1]}function td(r,e,t){var n=zh(r,e),a=tD(r,e)>=0;return t?a?Math.PI*2-n:n:a?n:Math.PI*2-n}function qg(r,e){var t=[],n=r[0],a=r[1],i=r[2],o=r[3],s=r[4],l=r[5],u=r[6],c=r[7],f=r[8],h=e[0],v=e[1],d=e[2],p=e[3],g=e[4],y=e[5],w=e[6],x=e[7],m=e[8];return t[0]=h*n+v*o+d*u,t[1]=h*a+v*s+d*c,t[2]=h*i+v*l+d*f,t[3]=p*n+g*o+y*u,t[4]=p*a+g*s+y*c,t[5]=p*i+g*l+y*f,t[6]=w*n+x*o+m*u,t[7]=w*a+x*s+m*c,t[8]=w*i+x*l+m*f,t}function Ur(r,e){var t=[],n=e[0],a=e[1];return t[0]=r[0]*n+r[3]*a+r[6],t[1]=r[1]*n+r[4]*a+r[7],t}function fu(r){var e=[],t=r[0],n=r[1],a=r[2],i=r[3],o=r[4],s=r[5],l=r[6],u=r[7],c=r[8],f=c*o-s*u,h=-c*i+s*l,v=u*i-o*l,d=t*f+n*h+a*v;return d?(d=1/d,e[0]=f*d,e[1]=(-c*n+a*u)*d,e[2]=(s*n-a*o)*d,e[3]=h*d,e[4]=(c*t-a*l)*d,e[5]=(-s*t+a*i)*d,e[6]=v*d,e[7]=(-u*t+n*l)*d,e[8]=(o*t-n*i)*d,e):null}var vi=oe,sc="matrix",eD=["zIndex","capture","visible","type"],rD=["repeat"],nD=":",aD="*";function iD(r){for(var e=[],t=0;t<r.length;t++)Y(r[t])?e.push([].concat(r[t])):e.push(r[t]);return e}function oD(r,e){var t={},n=e.attrs;for(var a in r)t[a]=n[a];return t}function sD(r,e){var t={},n=e.attr();return M(r,function(a,i){rD.indexOf(i)===-1&&!ve(n[i],a)&&(t[i]=a)}),t}function lD(r,e){if(e.onFrame)return r;var t=e.startTime,n=e.delay,a=e.duration,i=Object.prototype.hasOwnProperty;return M(r,function(o){t+n<o.startTime+o.delay+o.duration&&a>o.delay&&M(e.toAttrs,function(s,l){i.call(o.toAttrs,l)&&(delete o.toAttrs[l],delete o.fromAttrs[l])})}),r}var Dx=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;n.attrs={};var a=n.getDefaultAttrs();return Jt(a,t.attrs),n.attrs=a,n.initAttrs(a),n.initAnimate(),n}return e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=n[0],o=n[1];if(!i)return this.attrs;if(Vt(i)){for(var s in i)this.setAttr(s,i[s]);return this.afterAttrsChange(i),this}return n.length===2?(this.setAttr(i,o),this.afterAttrsChange((t={},t[i]=o,t)),this):this.attrs[i]},e.prototype.isClipped=function(t,n){var a=this.getClip();return a&&!a.isHit(t,n)},e.prototype.setAttr=function(t,n){var a=this.attrs[t];a!==n&&(this.attrs[t]=n,this.onAttrChange(t,n,a))},e.prototype.onAttrChange=function(t,n,a){t==="matrix"&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var n=this.cfg.applyTo;n&&n.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var n=this.getParent();return n&&n.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var n=t.getChildren();this.get("el");var a=n.indexOf(this);n.splice(a,1),n.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var n=t.getChildren();this.get("el");var a=n.indexOf(this);n.splice(a,1),n.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){t===void 0&&(t=!0);var n=this.getParent();n?(Mx(n.getChildren(),this),n.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(sc,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(sc)},e.prototype.setMatrix=function(t){this.attr(sc,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var n=this.attr("matrix"),a=this.cfg.parentMatrix;a&&n?t=qg(a,n):t=n||a,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var n=this.attr("matrix"),a=null;t&&n?a=qg(t,n):a=n||t,this.set("totalMatrix",a),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var n=this.attr("matrix");return n?Ur(n,t):t},e.prototype.invertFromMatrix=function(t){var n=this.attr("matrix");if(n){var a=fu(n);if(a)return Ur(a,t)}return t},e.prototype.setClip=function(t){var n=this.getCanvas(),a=null;if(t){var i=this.getShapeBase(),o=sa(t.type),s=i[o];s&&(a=new s({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:n}))}return this.set("clipShape",a),this.onCanvasChange("clip"),a},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,n=this.attrs,a={};M(n,function(s,l){Y(n[l])?a[l]=iD(n[l]):a[l]=n[l]});var i=this.constructor,o=new i({attrs:a});return M(eD,function(s){o.set(s,t.get(s))}),o},e.prototype.destroy=function(){var t=this.destroyed;t||(this.attrs={},r.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var a=this.get("timeline");a||(a=this.get("canvas").get("timeline"),this.set("timeline",a));var i=this.get("animations")||[];a.timer||a.initTimer();var o=t[0],s=t[1],l=t[2],u=l===void 0?"easeLinear":l,c=t[3],f=c===void 0?pn:c,h=t[4],v=h===void 0?0:h,d,p,g,y,w;J(o)?(d=o,o={}):Vt(o)&&o.onFrame&&(d=o.onFrame,p=o.repeat),Vt(s)?(w=s,s=w.duration,u=w.easing||"easeLinear",v=w.delay||0,p=w.repeat||p||!1,f=w.callback||pn,g=w.pauseCallback||pn,y=w.resumeCallback||pn):(Pt(f)&&(v=f,f=null),J(u)?(f=u,u="easeLinear"):u=u||"easeLinear");var x=sD(o,this),m={fromAttrs:oD(x,this),toAttrs:x,duration:s,easing:u,repeat:p,callback:f,pauseCallback:g,resumeCallback:y,delay:v,startTime:a.getTime(),id:kn(),onFrame:d,pathFormatted:!1};i.length>0?i=lD(i,m):a.addAnimator(this),i.push(m),this.set("animations",i),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var n=this;t===void 0&&(t=!0);var a=this.get("animations");M(a,function(i){t&&(i.onFrame?n.attr(i.onFrame(1)):n.attr(i.toAttrs)),i.callback&&i.callback()}),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),n=this.get("animations"),a=t.getTime();return M(n,function(i){i._paused=!0,i._pauseTime=a,i.pauseCallback&&i.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:a}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline"),n=t.getTime(),a=this.get("animations"),i=this.get("_pause").pauseTime;return M(a,function(o){o.startTime=o.startTime+(n-i),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",a),this},e.prototype.emitDelegation=function(t,n){var a=this,i=n.propagationPath;this.getEvents();var o;t==="mouseenter"?o=n.fromShape:t==="mouseleave"&&(o=n.toShape);for(var s=function(f){var h=i[f],v=h.get("name");if(v){if((h.isGroup()||h.isCanvas&&h.isCanvas())&&o&&Tx(h,o))return"break";Y(v)?M(v,function(d){a.emitDelegateEvent(h,d,n)}):l.emitDelegateEvent(h,v,n)}},l=this,u=0;u<i.length;u++){var c=s(u);if(c==="break")break}},e.prototype.emitDelegateEvent=function(t,n,a){var i=this.getEvents(),o=n+nD+a.type;(i[o]||i[aD])&&(a.name=o,a.currentTarget=t,a.delegateTarget=this,a.delegateObject=t.get("delegateObject"),this.emit(o,a))},e.prototype.translate=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0);var a=this.getMatrix(),i=vi(a,[["t",t,n]]);return this.setMatrix(i),this},e.prototype.move=function(t,n){var a=this.attr("x")||0,i=this.attr("y")||0;return this.translate(t-a,n-i),this},e.prototype.moveTo=function(t,n){return this.move(t,n)},e.prototype.scale=function(t,n){var a=this.getMatrix(),i=vi(a,[["s",t,n||t]]);return this.setMatrix(i),this},e.prototype.rotate=function(t){var n=this.getMatrix(),a=vi(n,[["r",t]]);return this.setMatrix(a),this},e.prototype.rotateAtStart=function(t){var n=this.attr(),a=n.x,i=n.y,o=this.getMatrix(),s=vi(o,[["t",-a,-i],["r",t],["t",a,i]]);return this.setMatrix(s),this},e.prototype.rotateAtPoint=function(t,n,a){var i=this.getMatrix(),o=vi(i,[["t",-t,-n],["r",a],["t",t,n]]);return this.setMatrix(o),this},e}(uu),jg={},Gh="_INDEX";function _x(r,e){if(r.set("canvas",e),r.isGroup()){var t=r.get("children");t.length&&t.forEach(function(n){_x(n,e)})}}function Ex(r,e){if(r.set("timeline",e),r.isGroup()){var t=r.get("children");t.length&&t.forEach(function(n){Ex(n,e)})}}function uD(r,e,t){t===void 0&&(t=!0),t?e.destroy():(e.set("parent",null),e.set("canvas",null)),Mx(r.getChildren(),e)}function cD(r){return function(e,t){var n=r(e,t);return n===0?e[Gh]-t[Gh]:n}}var Ix=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,n=-1/0,a=1/0,i=-1/0,o=this.getChildren().filter(function(l){return l.get("visible")&&(!l.isGroup()||l.isGroup()&&l.getChildren().length>0)});o.length>0?M(o,function(l){var u=l.getBBox(),c=u.minX,f=u.maxX,h=u.minY,v=u.maxY;c<t&&(t=c),f>n&&(n=f),h<a&&(a=h),v>i&&(i=v)}):(t=0,n=0,a=0,i=0);var s={x:t,y:a,minX:t,minY:a,maxX:n,maxY:i,width:n-t,height:i-a};return s},e.prototype.getCanvasBBox=function(){var t=1/0,n=-1/0,a=1/0,i=-1/0,o=this.getChildren().filter(function(l){return l.get("visible")&&(!l.isGroup()||l.isGroup()&&l.getChildren().length>0)});o.length>0?M(o,function(l){var u=l.getCanvasBBox(),c=u.minX,f=u.maxX,h=u.minY,v=u.maxY;c<t&&(t=c),f>n&&(n=f),h<a&&(a=h),v>i&&(i=v)}):(t=0,n=0,a=0,i=0);var s={x:t,y:a,minX:t,minY:a,maxX:n,maxY:i,width:n-t,height:i-a};return s},e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.children=[],t},e.prototype.onAttrChange=function(t,n,a){if(r.prototype.onAttrChange.call(this,t,n,a),t==="matrix"){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();r.prototype.applyMatrix.call(this,t);var a=this.getTotalMatrix();a!==n&&this._applyChildrenMarix(a)},e.prototype._applyChildrenMarix=function(t){var n=this.getChildren();M(n,function(a){a.applyMatrix(t)})},e.prototype.addShape=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t[0],i=t[1];Vt(a)?i=a:i.type=a;var o=jg[i.type];o||(o=sa(i.type),jg[i.type]=o);var s=this.getShapeBase(),l=new s[o](i);return this.add(l),l},e.prototype.addGroup=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t[0],i=t[1],o;if(J(a))i?o=new a(i):o=new a({parent:this});else{var s=a||{},l=this.getGroupBase();o=new l(s)}return this.add(o),o},e.prototype.getCanvas=function(){var t;return this.isCanvas()?t=this:t=this.get("canvas"),t},e.prototype.getShape=function(t,n,a){if(!Vi(this))return null;var i=this.getChildren(),o;if(this.isCanvas())o=this._findShape(i,t,n,a);else{var s=[t,n,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(i,s[0],s[1],a))}return o},e.prototype._findShape=function(t,n,a,i){for(var o=null,s=t.length-1;s>=0;s--){var l=t[s];if(Vi(l)&&(l.isGroup()?o=l.getShape(n,a,i):l.isHit(n,a)&&(o=l)),o)break}return o},e.prototype.add=function(t){var n=this.getCanvas(),a=this.getChildren(),i=this.get("timeline"),o=t.getParent();o&&uD(o,t,!1),t.set("parent",this),n&&_x(t,n),i&&Ex(t,i),a.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var n=this.getTotalMatrix();n&&t.applyMatrix(n)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t=this.getChildren();M(t,function(n,a){return n[Gh]=a,n}),t.sort(cD(function(n,a){return n.get("zIndex")-a.get("zIndex")})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),n=t.length-1;n>=0;n--)t[n].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),r.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){var n=this.getChildren();return n[t]},e.prototype.getCount=function(){var t=this.getChildren();return t.length},e.prototype.contain=function(t){var n=this.getChildren();return n.indexOf(t)>-1},e.prototype.removeChild=function(t,n){n===void 0&&(n=!0),this.contain(t)&&t.remove(n)},e.prototype.findAll=function(t){var n=[],a=this.getChildren();return M(a,function(i){t(i)&&n.push(i),i.isGroup()&&(n=n.concat(i.findAll(t)))}),n},e.prototype.find=function(t){var n=null,a=this.getChildren();return M(a,function(i){if(t(i)?n=i:i.isGroup()&&(n=i.find(t)),n)return!1}),n},e.prototype.findById=function(t){return this.find(function(n){return n.get("id")===t})},e.prototype.findByClassName=function(t){return this.find(function(n){return n.get("className")===t})},e.prototype.findAllByName=function(t){return this.findAll(function(n){return n.get("name")===t})},e}(Dx),Va=0,Mi=0,di=0,Rx=1e3,Il,Ti,Rl=0,ta=0,hu=0,zi=typeof performance=="object"&&performance.now?performance:Date,Lx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function Bx(){return ta||(Lx(fD),ta=zi.now()+hu)}function fD(){ta=0}function Wh(){this._call=this._time=this._next=null}Wh.prototype=Fx.prototype={constructor:Wh,restart:function(r,e,t){if(typeof r!="function")throw new TypeError("callback is not a function");t=(t==null?Bx():+t)+(e==null?0:+e),!this._next&&Ti!==this&&(Ti?Ti._next=this:Il=this,Ti=this),this._call=r,this._time=t,Xh()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xh())}};function Fx(r,e,t){var n=new Wh;return n.restart(r,e,t),n}function hD(){Bx(),++Va;for(var r=Il,e;r;)(e=ta-r._time)>=0&&r._call.call(null,e),r=r._next;--Va}function Qg(){ta=(Rl=zi.now())+hu,Va=Mi=0;try{hD()}finally{Va=0,dD(),ta=0}}function vD(){var r=zi.now(),e=r-Rl;e>Rx&&(hu-=e,Rl=r)}function dD(){for(var r,e=Il,t,n=1/0;e;)e._call?(n>e._time&&(n=e._time),r=e,e=e._next):(t=e._next,e._next=null,e=r?r._next=t:Il=t);Ti=r,Xh(n)}function Xh(r){if(!Va){Mi&&(Mi=clearTimeout(Mi));var e=r-ta;e>24?(r<1/0&&(Mi=setTimeout(Qg,r-zi.now()-hu)),di&&(di=clearInterval(di))):(di||(Rl=zi.now(),di=setInterval(vD,Rx)),Va=1,Lx(Qg))}}function ed(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function $x(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function lo(){}var Gi=.7,Ll=1/Gi,ka="\\s*([+-]?\\d+)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pD=/^#([0-9a-f]{3,8})$/,gD=new RegExp(`^rgb\\(${ka},${ka},${ka}\\)$`),yD=new RegExp(`^rgb\\(${Br},${Br},${Br}\\)$`),mD=new RegExp(`^rgba\\(${ka},${ka},${ka},${Wi}\\)$`),xD=new RegExp(`^rgba\\(${Br},${Br},${Br},${Wi}\\)$`),wD=new RegExp(`^hsl\\(${Wi},${Br},${Br}\\)$`),bD=new RegExp(`^hsla\\(${Wi},${Br},${Br},${Wi}\\)$`),Zg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ed(lo,Xi,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:Kg,formatHex:Kg,formatHex8:CD,formatHsl:SD,formatRgb:Jg,toString:Jg});function Kg(){return this.rgb().formatHex()}function CD(){return this.rgb().formatHex8()}function SD(){return Yx(this).formatHsl()}function Jg(){return this.rgb().formatRgb()}function Xi(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=pD.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?ty(e):t===3?new je(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Oo(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Oo(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gD.exec(r))?new je(e[1],e[2],e[3],1):(e=yD.exec(r))?new je(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mD.exec(r))?Oo(e[1],e[2],e[3],e[4]):(e=xD.exec(r))?Oo(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=wD.exec(r))?ny(e[1],e[2]/100,e[3]/100,1):(e=bD.exec(r))?ny(e[1],e[2]/100,e[3]/100,e[4]):Zg.hasOwnProperty(r)?ty(Zg[r]):r==="transparent"?new je(NaN,NaN,NaN,0):null}function ty(r){return new je(r>>16&255,r>>8&255,r&255,1)}function Oo(r,e,t,n){return n<=0&&(r=e=t=NaN),new je(r,e,t,n)}function MD(r){return r instanceof lo||(r=Xi(r)),r?(r=r.rgb(),new je(r.r,r.g,r.b,r.opacity)):new je}function Uh(r,e,t,n){return arguments.length===1?MD(r):new je(r,e,t,n??1)}function je(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}ed(je,Uh,$x(lo,{brighter(r){return r=r==null?Ll:Math.pow(Ll,r),new je(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?Gi:Math.pow(Gi,r),new je(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new je(Xn(this.r),Xn(this.g),Xn(this.b),Bl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ey,formatHex:ey,formatHex8:TD,formatRgb:ry,toString:ry}));function ey(){return`#${zn(this.r)}${zn(this.g)}${zn(this.b)}`}function TD(){return`#${zn(this.r)}${zn(this.g)}${zn(this.b)}${zn((isNaN(this.opacity)?1:this.opacity)*255)}`}function ry(){const r=Bl(this.opacity);return`${r===1?"rgb(":"rgba("}${Xn(this.r)}, ${Xn(this.g)}, ${Xn(this.b)}${r===1?")":`, ${r})`}`}function Bl(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function Xn(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function zn(r){return r=Xn(r),(r<16?"0":"")+r.toString(16)}function ny(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new wr(r,e,t,n)}function Yx(r){if(r instanceof wr)return new wr(r.h,r.s,r.l,r.opacity);if(r instanceof lo||(r=Xi(r)),!r)return new wr;if(r instanceof wr)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,a=Math.min(e,t,n),i=Math.max(e,t,n),o=NaN,s=i-a,l=(i+a)/2;return s?(e===i?o=(t-n)/s+(t<n)*6:t===i?o=(n-e)/s+2:o=(e-t)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new wr(o,s,l,r.opacity)}function PD(r,e,t,n){return arguments.length===1?Yx(r):new wr(r,e,t,n??1)}function wr(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}ed(wr,PD,$x(lo,{brighter(r){return r=r==null?Ll:Math.pow(Ll,r),new wr(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?Gi:Math.pow(Gi,r),new wr(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,a=2*t-n;return new je(lc(r>=240?r-240:r+120,a,n),lc(r,a,n),lc(r<120?r+240:r-120,a,n),this.opacity)},clamp(){return new wr(ay(this.h),ko(this.s),ko(this.l),Bl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=Bl(this.opacity);return`${r===1?"hsl(":"hsla("}${ay(this.h)}, ${ko(this.s)*100}%, ${ko(this.l)*100}%${r===1?")":`, ${r})`}`}}));function ay(r){return r=(r||0)%360,r<0?r+360:r}function ko(r){return Math.max(0,Math.min(1,r||0))}function lc(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const rd=r=>()=>r;function OD(r,e){return function(t){return r+t*e}}function kD(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function AD(r){return(r=+r)==1?Nx:function(e,t){return t-e?kD(e,t,r):rd(isNaN(e)?t:e)}}function Nx(r,e){var t=e-r;return t?OD(r,t):rd(isNaN(r)?e:r)}const iy=function r(e){var t=AD(e);function n(a,i){var o=t((a=Uh(a)).r,(i=Uh(i)).r),s=t(a.g,i.g),l=t(a.b,i.b),u=Nx(a.opacity,i.opacity);return function(c){return a.r=o(c),a.g=s(c),a.b=l(c),a.opacity=u(c),a+""}}return n.gamma=r,n}(1);function Vx(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),a;return function(i){for(a=0;a<t;++a)n[a]=r[a]*(1-i)+e[a]*i;return n}}function Hx(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function DD(r,e){return(Hx(e)?Vx:zx)(r,e)}function zx(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,a=new Array(n),i=new Array(t),o;for(o=0;o<n;++o)a[o]=Fl(r[o],e[o]);for(;o<t;++o)i[o]=e[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function _D(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function qh(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function ED(r,e){var t={},n={},a;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in r?t[a]=Fl(r[a],e[a]):n[a]=e[a];return function(i){for(a in t)n[a]=t[a](i);return n}}var jh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uc=new RegExp(jh.source,"g");function ID(r){return function(){return r}}function RD(r){return function(e){return r(e)+""}}function LD(r,e){var t=jh.lastIndex=uc.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(r=r+"",e=e+"";(n=jh.exec(r))&&(a=uc.exec(e));)(i=a.index)>t&&(i=e.slice(t,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:qh(n,a)})),t=uc.lastIndex;return t<e.length&&(i=e.slice(t),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?RD(l[0].x):ID(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Fl(r,e){var t=typeof e,n;return e==null||t==="boolean"?rd(e):(t==="number"?qh:t==="string"?(n=Xi(e))?(e=n,iy):LD:e instanceof Xi?iy:e instanceof Date?_D:Hx(e)?Vx:Array.isArray(e)?zx:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ED:qh)(r,e)}function BD(r){return+r}function FD(r){return r*r}function $D(r){return r*(2-r)}function oy(r){return((r*=2)<=1?r*r:--r*(2-r)+1)/2}function YD(r){return r*r*r}function ND(r){return--r*r*r+1}function sy(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var nd=3,VD=function r(e){e=+e;function t(n){return Math.pow(n,e)}return t.exponent=r,t}(nd),HD=function r(e){e=+e;function t(n){return 1-Math.pow(1-n,e)}return t.exponent=r,t}(nd),ly=function r(e){e=+e;function t(n){return((n*=2)<=1?Math.pow(n,e):2-Math.pow(2-n,e))/2}return t.exponent=r,t}(nd),Gx=Math.PI,Wx=Gx/2;function zD(r){return+r==1?1:1-Math.cos(r*Wx)}function GD(r){return Math.sin(r*Wx)}function uy(r){return(1-Math.cos(Gx*r))/2}function Sn(r){return(Math.pow(2,-10*r)-.0009765625)*1.0009775171065494}function WD(r){return Sn(1-+r)}function XD(r){return 1-Sn(r)}function cy(r){return((r*=2)<=1?Sn(1-r):2-Sn(r-1))/2}function UD(r){return 1-Math.sqrt(1-r*r)}function qD(r){return Math.sqrt(1- --r*r)}function fy(r){return((r*=2)<=1?1-Math.sqrt(1-r*r):Math.sqrt(1-(r-=2)*r)+1)/2}var Qh=4/11,jD=6/11,QD=8/11,ZD=3/4,KD=9/11,JD=10/11,t_=15/16,e_=21/22,r_=63/64,Ao=1/Qh/Qh;function n_(r){return 1-Ui(1-r)}function Ui(r){return(r=+r)<Qh?Ao*r*r:r<QD?Ao*(r-=jD)*r+ZD:r<JD?Ao*(r-=KD)*r+t_:Ao*(r-=e_)*r+r_}function a_(r){return((r*=2)<=1?1-Ui(1-r):Ui(r-1)+1)/2}var ad=1.70158,i_=function r(e){e=+e;function t(n){return(n=+n)*n*(e*(n-1)+n)}return t.overshoot=r,t}(ad),o_=function r(e){e=+e;function t(n){return--n*n*((n+1)*e+n)+1}return t.overshoot=r,t}(ad),hy=function r(e){e=+e;function t(n){return((n*=2)<1?n*n*((e+1)*n-e):(n-=2)*n*((e+1)*n+e)+2)/2}return t.overshoot=r,t}(ad),Ha=2*Math.PI,id=1,od=.3,s_=function r(e,t){var n=Math.asin(1/(e=Math.max(1,e)))*(t/=Ha);function a(i){return e*Sn(- --i)*Math.sin((n-i)/t)}return a.amplitude=function(i){return r(i,t*Ha)},a.period=function(i){return r(e,i)},a}(id,od),vy=function r(e,t){var n=Math.asin(1/(e=Math.max(1,e)))*(t/=Ha);function a(i){return 1-e*Sn(i=+i)*Math.sin((i+n)/t)}return a.amplitude=function(i){return r(i,t*Ha)},a.period=function(i){return r(e,i)},a}(id,od),l_=function r(e,t){var n=Math.asin(1/(e=Math.max(1,e)))*(t/=Ha);function a(i){return((i=i*2-1)<0?e*Sn(-i)*Math.sin((n-i)/t):2-e*Sn(i)*Math.sin((n+i)/t))/2}return a.amplitude=function(i){return r(i,t*Ha)},a.period=function(i){return r(e,i)},a}(id,od);const u_=Object.freeze(Object.defineProperty({__proto__:null,easeBack:hy,easeBackIn:i_,easeBackInOut:hy,easeBackOut:o_,easeBounce:Ui,easeBounceIn:n_,easeBounceInOut:a_,easeBounceOut:Ui,easeCircle:fy,easeCircleIn:UD,easeCircleInOut:fy,easeCircleOut:qD,easeCubic:sy,easeCubicIn:YD,easeCubicInOut:sy,easeCubicOut:ND,easeElastic:vy,easeElasticIn:s_,easeElasticInOut:l_,easeElasticOut:vy,easeExp:cy,easeExpIn:WD,easeExpInOut:cy,easeExpOut:XD,easeLinear:BD,easePoly:ly,easePolyIn:VD,easePolyInOut:ly,easePolyOut:HD,easeQuad:oy,easeQuadIn:FD,easeQuadInOut:oy,easeQuadOut:$D,easeSin:uy,easeSinIn:zD,easeSinInOut:uy,easeSinOut:GD},Symbol.toStringTag,{value:"Module"}));var Xx={};function c_(r){return Xx[r.toLowerCase()]||u_[r]}function Ux(r,e){Xx[r.toLowerCase()]=e}var f_=function(r){return["fill","stroke","fillStyle","strokeStyle"].includes(r)},h_=function(r){return/^[r,R,L,l]{1}[\s]*\(/.test(r)},dy=[1,0,0,0,1,0,0,0,1];function v_(r,e,t){var n={},a=e.fromAttrs,i=e.toAttrs;if(!r.destroyed){var o;for(var s in i)if(!ve(a[s],i[s]))if(s==="path"){var l=i[s],u=a[s];l.length>u.length?(l=Sa(i[s]),u=Sa(a[s]),u=Cx(u,l),u=Hh(u,l),e.fromAttrs.path=u,e.toAttrs.path=l):e.pathFormatted||(l=Sa(i[s]),u=Sa(a[s]),u=Hh(u,l),e.fromAttrs.path=u,e.toAttrs.path=l,e.pathFormatted=!0),n[s]=[];for(var c=0;c<l.length;c++){for(var f=l[c],h=u[c],v=[],d=0;d<f.length;d++)Pt(f[d])&&h&&Pt(h[d])?(o=Fl(h[d],f[d]),v.push(o(t))):v.push(f[d]);n[s].push(v)}}else if(s==="matrix"){var p=DD(a[s]||dy,i[s]||dy),g=p(t);n[s]=g}else f_(s)&&h_(i[s])?n[s]=i[s]:J(i[s])||(o=Fl(a[s],i[s]),n[s]=o(t));r.attr(n)}}function d_(r,e,t){var n=e.startTime,a=e.delay;if(t<n+a||e._paused)return!1;var i,o=e.duration,s=e.easing,l=c_(s);if(t=t-n-e.delay,e.repeat)i=t%o/o,i=l(i);else if(i=t/o,i<1)i=l(i);else return e.onFrame?r.attr(e.onFrame(1)):r.attr(e.toAttrs),!0;if(e.onFrame){var u=e.onFrame(i);r.attr(u)}else v_(r,e,i);return!1}var p_=function(){function r(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return r.prototype.initTimer=function(){var e=this,t=!1,n,a,i;this.timer=Fx(function(o){if(e.current=o,e.animators.length>0){for(var s=e.animators.length-1;s>=0;s--){if(n=e.animators[s],n.destroyed){e.removeAnimator(s);continue}if(!n.isAnimatePaused()){a=n.get("animations");for(var l=a.length-1;l>=0;l--)i=a[l],t=d_(n,i,o),t&&(a.splice(l,1),t=!1,i.callback&&i.callback())}a.length===0&&e.removeAnimator(s)}var u=e.canvas.get("autoDraw");u||e.canvas.draw()}})},r.prototype.addAnimator=function(e){this.animators.push(e)},r.prototype.removeAnimator=function(e){this.animators.splice(e,1)},r.prototype.isAnimating=function(){return!!this.animators.length},r.prototype.stop=function(){this.timer&&this.timer.stop()},r.prototype.stopAllAnimations=function(e){e===void 0&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},r.prototype.getTime=function(){return this.current},r}(),g_=40,py=0,gy=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function yy(r,e,t){t.name=e,t.target=r,t.currentTarget=r,t.delegateTarget=r,r.emit(e,t)}function y_(r,e,t){if(t.bubbles){var n=void 0,a=!1;if(e==="mouseenter"?(n=t.fromShape,a=!0):e==="mouseleave"&&(a=!0,n=t.toShape),r.isCanvas()&&a)return;if(n&&Tx(r,n)){t.bubbles=!1;return}t.name=e,t.currentTarget=r,t.delegateTarget=r,r.emit(e,t)}}var m_=function(){function r(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(n){var a=n.type;t._triggerEvent(a,n)},this._onDocumentMove=function(n){var a=t.canvas,i=a.get("el");if(i!==n.target&&(t.dragging||t.currentShape)){var o=t._getPointInfo(n);t.dragging&&t._emitEvent("drag",n,o,t.draggingShape)}},this._onDocumentMouseUp=function(n){var a=t.canvas,i=a.get("el");if(i!==n.target&&t.dragging){var o=t._getPointInfo(n);t.draggingShape&&t._emitEvent("drop",n,o,null),t._emitEvent("dragend",n,o,t.draggingShape),t._afterDrag(t.draggingShape,o,n)}},this.canvas=e.canvas}return r.prototype.init=function(){this._bindEvents()},r.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");M(gy,function(n){t.addEventListener(n,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},r.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");M(gy,function(n){t.removeEventListener(n,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},r.prototype._getEventObj=function(e,t,n,a,i,o){var s=new so(e,t);return s.fromShape=i,s.toShape=o,s.x=n.x,s.y=n.y,s.clientX=n.clientX,s.clientY=n.clientY,s.propagationPath.push(a),s},r.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},r.prototype._getPointInfo=function(e){var t=this.canvas,n=t.getClientByEvent(e),a=t.getPointByEvent(e);return{x:a.x,y:a.y,clientX:n.x,clientY:n.y}},r.prototype._triggerEvent=function(e,t){var n=this._getPointInfo(t),a=this._getShape(n,t),i=this["_on"+e],o=!1;if(i)i.call(this,n,a,t);else{var s=this.currentShape;e==="mouseenter"||e==="dragenter"||e==="mouseover"?(this._emitEvent(e,t,n,null,null,a),a&&this._emitEvent(e,t,n,a,null,a),e==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):e==="mouseleave"||e==="dragleave"||e==="mouseout"?(o=!0,s&&this._emitEvent(e,t,n,s,s,null),this._emitEvent(e,t,n,null,s,null),e==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(e,t,n,a,null,null)}if(o||(this.currentShape=a),a&&!a.get("destroyed")){var l=this.canvas,u=l.get("el");u.style.cursor=a.attr("cursor")||l.get("cursor")}},r.prototype._onmousedown=function(e,t,n){n.button===py&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,e,t,null,null)},r.prototype._emitMouseoverEvents=function(e,t,n,a){var i=this.canvas.get("el");n!==a&&(n&&(this._emitEvent("mouseout",e,t,n,n,a),this._emitEvent("mouseleave",e,t,n,n,a),(!a||a.get("destroyed"))&&(i.style.cursor=this.canvas.get("cursor"))),a&&(this._emitEvent("mouseover",e,t,a,n,a),this._emitEvent("mouseenter",e,t,a,n,a)))},r.prototype._emitDragoverEvents=function(e,t,n,a,i){a?(a!==n&&(n&&this._emitEvent("dragleave",e,t,n,n,a),this._emitEvent("dragenter",e,t,a,n,a)),i||this._emitEvent("dragover",e,t,a)):n&&this._emitEvent("dragleave",e,t,n,n,a),i&&this._emitEvent("dragover",e,t,a)},r.prototype._afterDrag=function(e,t,n){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var a=this._getShape(t,n);a!==e&&this._emitMouseoverEvents(n,t,e,a),this.currentShape=a},r.prototype._onmouseup=function(e,t,n){if(n.button===py){var a=this.draggingShape;this.dragging?(a&&this._emitEvent("drop",n,e,t),this._emitEvent("dragend",n,e,a),this._afterDrag(a,e,n)):(this._emitEvent("mouseup",n,e,t),t===this.mousedownShape&&this._emitEvent("click",n,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},r.prototype._ondragover=function(e,t,n){n.preventDefault();var a=this.currentShape;this._emitDragoverEvents(n,e,a,t,!0)},r.prototype._onmousemove=function(e,t,n){var a=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,e,i,t,!1),this._emitEvent("drag",n,e,o);else{var s=this.mousedownPoint;if(s){var l=this.mousedownShape,u=n.timeStamp,c=u-this.mousedownTimeStamp,f=s.clientX-e.clientX,h=s.clientY-e.clientY,v=f*f+h*h;c>120||v>g_?l&&l.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,e,o),this.mousedownShape=null,this.mousedownPoint=null):!l&&a.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t))}else this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)}},r.prototype._emitEvent=function(e,t,n,a,i,o){var s=this._getEventObj(e,t,n,a,i,o);if(a){s.shape=a,yy(a,e,s);for(var l=a.getParent();l;)l.emitDelegation(e,s),s.propagationStopped||y_(l,e,s),s.propagationPath.push(l),l=l.getParent()}else{var u=this.canvas;yy(u,e,s)}},r.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},r}(),my="px",xy=Px(),x_=xy&&xy.name==="firefox",vu=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},e.prototype.initContainer=function(){var t=this.get("container");ct(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var n=this.get("container");n.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new m_({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new p_(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,n){var a=this.get("el");zg&&(a.style.width=t+my,a.style.height=n+my)},e.prototype.changeSize=function(t,n){this.setDOMSize(t,n),this.set("width",t),this.set("height",n),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var n=this.get("el");zg&&n&&(n.style.cursor=t)},e.prototype.getPointByEvent=function(t){var n=this.get("supportCSSTransform");if(n){if(x_&&!B(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!B(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var a=this.getClientByEvent(t),i=a.x,o=a.y;return this.getPointByClient(i,o)},e.prototype.getClientByEvent=function(t){var n=t;return t.touches&&(t.type==="touchend"?n=t.changedTouches[0]:n=t.touches[0]),{x:n.clientX,y:n.clientY}},e.prototype.getPointByClient=function(t,n){var a=this.get("el"),i=a.getBoundingClientRect();return{x:t-i.left,y:n-i.top}},e.prototype.getClientByPoint=function(t,n){var a=this.get("el"),i=a.getBoundingClientRect();return{x:t+i.left,y:n+i.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),r.prototype.destroy.call(this))},e}(Ix),du=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var t=r.prototype.clone.call(this),n=this.getChildren(),a=0;a<n.length;a++){var i=n[a];t.add(i.clone())}return t},e}(Ix),pu=function(r){_(e,r);function e(t){return r.call(this,t)||this}return e.prototype._isInBBox=function(t,n){var a=this.getBBox();return a.minX<=t&&a.maxX>=t&&a.minY<=n&&a.maxY>=n},e.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(t){r.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),n=this.getTotalMatrix(),a=t.minX,i=t.minY,o=t.maxX,s=t.maxY;if(n){var l=Ur(n,[t.minX,t.minY]),u=Ur(n,[t.maxX,t.minY]),c=Ur(n,[t.minX,t.maxY]),f=Ur(n,[t.maxX,t.maxY]);a=Math.min(l[0],u[0],c[0],f[0]),o=Math.max(l[0],u[0],c[0],f[0]),i=Math.min(l[1],u[1],c[1],f[1]),s=Math.max(l[1],u[1],c[1],f[1])}var h=this.attrs;if(h.shadowColor){var v=h.shadowBlur,d=v===void 0?0:v,p=h.shadowOffsetX,g=p===void 0?0:p,y=h.shadowOffsetY,w=y===void 0?0:y,x=a-d+g,m=o+d+g,C=i-d+w,S=s+d+w;a=Math.min(a,x),o=Math.max(o,m),i=Math.min(i,C),s=Math.max(s,S)}return{x:a,y:i,minX:a,minY:i,maxX:o,maxY:s,width:o-a,height:s-i}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,n){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,n){var a=this.get("startArrowShape"),i=this.get("endArrowShape"),o=[t,n,1];o=this.invertFromMatrix(o);var s=o[0],l=o[1],u=this._isInBBox(s,l);return this.isOnlyHitBox()?u:!!(u&&!this.isClipped(s,l)&&(this.isInShape(s,l)||a&&a.isHit(s,l)||i&&i.isHit(s,l)))},e}(Dx),qx=new Map;function vr(r,e){qx.set(r,e)}function gu(r){return qx.get(r)}function jx(r){var e=r.attr(),t=e.x,n=e.y,a=e.width,i=e.height;return{x:t,y:n,width:a,height:i}}function Qx(r){var e=r.attr(),t=e.x,n=e.y,a=e.r;return{x:t-a,y:n-a,width:a*2,height:a*2}}function _e(r,e,t,n){var a=r-t,i=e-n;return Math.sqrt(a*a+i*i)}function $s(r,e){return Math.abs(r-e)<.001}function ja(r,e){var t=$r(r),n=$r(e),a=Cr(r),i=Cr(e);return{x:t,y:n,width:a-t,height:i-n}}function yu(r){return(r+Math.PI*2)%(Math.PI*2)}const Se={box:function(r,e,t,n){return ja([r,t],[e,n])},length:function(r,e,t,n){return _e(r,e,t,n)},pointAt:function(r,e,t,n,a){return{x:(1-a)*r+a*t,y:(1-a)*e+a*n}},pointDistance:function(r,e,t,n,a,i){var o=(t-r)*(a-r)+(n-e)*(i-e);if(o<0)return _e(r,e,a,i);var s=(t-r)*(t-r)+(n-e)*(n-e);return o>s?_e(t,n,a,i):this.pointToLine(r,e,t,n,a,i)},pointToLine:function(r,e,t,n,a,i){var o=[t-r,n-e];if(K2(o,[0,0]))return Math.sqrt((a-r)*(a-r)+(i-e)*(i-e));var s=[-o[1],o[0]];kx(s,s);var l=[a-r,i-e];return Math.abs(Q2(l,s))},tangentAngle:function(r,e,t,n){return Math.atan2(n-e,t-r)}};var w_=1e-4;function Zx(r,e,t,n,a,i){var o,s=1/0,l=[t,n],u=20;i&&i>200&&(u=i/10);for(var c=1/u,f=c/10,h=0;h<=u;h++){var v=h*c,d=[a.apply(null,r.concat([v])),a.apply(null,e.concat([v]))],p=_e(l[0],l[1],d[0],d[1]);p<s&&(o=v,s=p)}if(o===0)return{x:r[0],y:e[0]};if(o===1){var g=r.length;return{x:r[g-1],y:e[g-1]}}s=1/0;for(var h=0;h<32&&!(f<w_);h++){var y=o-f,w=o+f,d=[a.apply(null,r.concat([y])),a.apply(null,e.concat([y]))],p=_e(l[0],l[1],d[0],d[1]);if(y>=0&&p<s)o=y,s=p;else{var x=[a.apply(null,r.concat([w])),a.apply(null,e.concat([w]))],m=_e(l[0],l[1],x[0],x[1]);w<=1&&m<s?(o=w,s=m):f*=.5}}return{x:a.apply(null,r.concat([o])),y:a.apply(null,e.concat([o]))}}function b_(r,e){for(var t=0,n=r.length,a=0;a<n;a++){var i=r[a],o=e[a],s=r[(a+1)%n],l=e[(a+1)%n];t+=_e(i,o,s,l)}return t/2}function cn(r,e,t,n){var a=1-n;return a*a*r+2*n*a*e+n*n*t}function wy(r,e,t){var n=r+t-2*e;if($s(n,0))return[.5];var a=(r-e)/n;return a<=1&&a>=0?[a]:[]}function by(r,e,t,n){return 2*(1-n)*(e-r)+2*n*(t-e)}function Kx(r,e,t,n,a,i,o){var s=cn(r,t,a,o),l=cn(e,n,i,o),u=Se.pointAt(r,e,t,n,o),c=Se.pointAt(t,n,a,i,o);return[[r,e,u.x,u.y,s,l],[s,l,c.x,c.y,a,i]]}function Zh(r,e,t,n,a,i,o){if(o===0)return(_e(r,e,t,n)+_e(t,n,a,i)+_e(r,e,a,i))/2;var s=Kx(r,e,t,n,a,i,.5),l=s[0],u=s[1];return l.push(o-1),u.push(o-1),Zh.apply(null,l)+Zh.apply(null,u)}const Jx={box:function(r,e,t,n,a,i){var o=wy(r,t,a)[0],s=wy(e,n,i)[0],l=[r,a],u=[e,i];return o!==void 0&&l.push(cn(r,t,a,o)),s!==void 0&&u.push(cn(e,n,i,s)),ja(l,u)},length:function(r,e,t,n,a,i){return Zh(r,e,t,n,a,i,3)},nearestPoint:function(r,e,t,n,a,i,o,s){return Zx([r,t,a],[e,n,i],o,s,cn)},pointDistance:function(r,e,t,n,a,i,o,s){var l=this.nearestPoint(r,e,t,n,a,i,o,s);return _e(l.x,l.y,o,s)},interpolationAt:cn,pointAt:function(r,e,t,n,a,i,o){return{x:cn(r,t,a,o),y:cn(e,n,i,o)}},divide:function(r,e,t,n,a,i,o){return Kx(r,e,t,n,a,i,o)},tangentAngle:function(r,e,t,n,a,i,o){var s=by(r,t,a,o),l=by(e,n,i,o),u=Math.atan2(l,s);return yu(u)}};function fn(r,e,t,n,a){var i=1-a;return i*i*i*r+3*e*a*i*i+3*t*a*a*i+n*a*a*a}function Cy(r,e,t,n,a){var i=1-a;return 3*(i*i*(e-r)+2*i*a*(t-e)+a*a*(n-t))}function cc(r,e,t,n){var a=-3*r+9*e-9*t+3*n,i=6*r-12*e+6*t,o=3*e-3*r,s=[],l,u,c;if($s(a,0))$s(i,0)||(l=-o/i,l>=0&&l<=1&&s.push(l));else{var f=i*i-4*a*o;$s(f,0)?s.push(-i/(2*a)):f>0&&(c=Math.sqrt(f),l=(-i+c)/(2*a),u=(-i-c)/(2*a),l>=0&&l<=1&&s.push(l),u>=0&&u<=1&&s.push(u))}return s}function tw(r,e,t,n,a,i,o,s,l){var u=fn(r,t,a,o,l),c=fn(e,n,i,s,l),f=Se.pointAt(r,e,t,n,l),h=Se.pointAt(t,n,a,i,l),v=Se.pointAt(a,i,o,s,l),d=Se.pointAt(f.x,f.y,h.x,h.y,l),p=Se.pointAt(h.x,h.y,v.x,v.y,l);return[[r,e,f.x,f.y,d.x,d.y,u,c],[u,c,p.x,p.y,v.x,v.y,o,s]]}function Kh(r,e,t,n,a,i,o,s,l){if(l===0)return b_([r,t,a,o],[e,n,i,s]);var u=tw(r,e,t,n,a,i,o,s,.5),c=u[0],f=u[1];return c.push(l-1),f.push(l-1),Kh.apply(null,c)+Kh.apply(null,f)}const Ai={extrema:cc,box:function(r,e,t,n,a,i,o,s){for(var l=[r,o],u=[e,s],c=cc(r,t,a,o),f=cc(e,n,i,s),h=0;h<c.length;h++)l.push(fn(r,t,a,o,c[h]));for(var h=0;h<f.length;h++)u.push(fn(e,n,i,s,f[h]));return ja(l,u)},length:function(r,e,t,n,a,i,o,s){return Kh(r,e,t,n,a,i,o,s,3)},nearestPoint:function(r,e,t,n,a,i,o,s,l,u,c){return Zx([r,t,a,o],[e,n,i,s],l,u,fn,c)},pointDistance:function(r,e,t,n,a,i,o,s,l,u,c){var f=this.nearestPoint(r,e,t,n,a,i,o,s,l,u,c);return _e(f.x,f.y,l,u)},interpolationAt:fn,pointAt:function(r,e,t,n,a,i,o,s,l){return{x:fn(r,t,a,o,l),y:fn(e,n,i,s,l)}},divide:function(r,e,t,n,a,i,o,s,l){return tw(r,e,t,n,a,i,o,s,l)},tangentAngle:function(r,e,t,n,a,i,o,s,l){var u=Cy(r,t,a,o,l),c=Cy(e,n,i,s,l);return yu(Math.atan2(c,u))}};function Sy(r,e){var t=Math.abs(r);return e>0?t:t*-1}const C_={box:function(r,e,t,n){return{x:r-t,y:e-n,width:t*2,height:n*2}},length:function(r,e,t,n){return Math.PI*(3*(t+n)-Math.sqrt((3*t+n)*(t+3*n)))},nearestPoint:function(r,e,t,n,a,i){var o=t,s=n;if(o===0||s===0)return{x:r,y:e};for(var l=a-r,u=i-e,c=Math.abs(l),f=Math.abs(u),h=o*o,v=s*s,d=Math.PI/4,p,g,y=0;y<4;y++){p=o*Math.cos(d),g=s*Math.sin(d);var w=(h-v)*Math.pow(Math.cos(d),3)/o,x=(v-h)*Math.pow(Math.sin(d),3)/s,m=p-w,C=g-x,S=c-w,T=f-x,A=Math.hypot(C,m),k=Math.hypot(T,S),D=A*Math.asin((m*T-C*S)/(A*k)),$=D/Math.sqrt(h+v-p*p-g*g);d+=$,d=Math.min(Math.PI/2,Math.max(0,d))}return{x:r+Sy(p,l),y:e+Sy(g,u)}},pointDistance:function(r,e,t,n,a,i){var o=this.nearestPoint(r,e,t,n,a,i);return _e(o.x,o.y,a,i)},pointAt:function(r,e,t,n,a){var i=2*Math.PI*a;return{x:r+t*Math.cos(i),y:e+n*Math.sin(i)}},tangentAngle:function(r,e,t,n,a){var i=2*Math.PI*a,o=Math.atan2(n*Math.cos(i),-t*Math.sin(i));return yu(o)}};function S_(r,e,t,n,a,i,o,s){return-1*t*Math.cos(a)*Math.sin(s)-n*Math.sin(a)*Math.cos(s)}function M_(r,e,t,n,a,i,o,s){return-1*t*Math.sin(a)*Math.sin(s)+n*Math.cos(a)*Math.cos(s)}function T_(r,e,t){return Math.atan(-e/r*Math.tan(t))}function P_(r,e,t){return Math.atan(e/(r*Math.tan(t)))}function My(r,e,t,n,a,i){return t*Math.cos(a)*Math.cos(i)-n*Math.sin(a)*Math.sin(i)+r}function Ty(r,e,t,n,a,i){return t*Math.sin(a)*Math.cos(i)+n*Math.cos(a)*Math.sin(i)+e}function O_(r,e,t,n){var a=Math.atan2(n*r,t*e);return(a+Math.PI*2)%(Math.PI*2)}function Py(r,e,t){return{x:r*Math.cos(t),y:e*Math.sin(t)}}function Oy(r,e,t){var n=Math.cos(t),a=Math.sin(t);return[r*n-e*a,r*a+e*n]}const k_={box:function(r,e,t,n,a,i,o){for(var s=T_(t,n,a),l=1/0,u=-1/0,c=[i,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var h=s+f;i<o?i<h&&h<o&&c.push(h):o<h&&h<i&&c.push(h)}for(var f=0;f<c.length;f++){var v=My(r,e,t,n,a,c[f]);v<l&&(l=v),v>u&&(u=v)}for(var d=P_(t,n,a),p=1/0,g=-1/0,y=[i,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var w=d+f;i<o?i<w&&w<o&&y.push(w):o<w&&w<i&&y.push(w)}for(var f=0;f<y.length;f++){var x=Ty(r,e,t,n,a,y[f]);x<p&&(p=x),x>g&&(g=x)}return{x:l,y:p,width:u-l,height:g-p}},length:function(r,e,t,n,a,i,o){},nearestPoint:function(r,e,t,n,a,i,o,s,l){var u=Oy(s-r,l-e,-a),c=u[0],f=u[1],h=C_.nearestPoint(0,0,t,n,c,f),v=O_(t,n,h.x,h.y);v<i?h=Py(t,n,i):v>o&&(h=Py(t,n,o));var d=Oy(h.x,h.y,a);return{x:d[0]+r,y:d[1]+e}},pointDistance:function(r,e,t,n,a,i,o,s,l){var u=this.nearestPoint(r,e,t,n,s,l);return _e(u.x,u.y,s,l)},pointAt:function(r,e,t,n,a,i,o,s){var l=(o-i)*s+i;return{x:My(r,e,t,n,a,l),y:Ty(r,e,t,n,a,l)}},tangentAngle:function(r,e,t,n,a,i,o,s){var l=(o-i)*s+i,u=S_(r,e,t,n,a,i,o,l),c=M_(r,e,t,n,a,i,o,l);return yu(Math.atan2(c,u))}};function ew(r){for(var e=0,t=[],n=0;n<r.length-1;n++){var a=r[n],i=r[n+1],o=_e(a[0],a[1],i[0],i[1]),s={from:a,to:i,length:o};t.push(s),e+=o}return{segments:t,totalLength:e}}function A_(r){if(r.length<2)return 0;for(var e=0,t=0;t<r.length-1;t++){var n=r[t],a=r[t+1];e+=_e(n[0],n[1],a[0],a[1])}return e}function D_(r,e){if(e>1||e<0||r.length<2)return null;var t=ew(r),n=t.segments,a=t.totalLength;if(a===0)return{x:r[0][0],y:r[0][1]};for(var i=0,o=null,s=0;s<n.length;s++){var l=n[s],u=l.from,c=l.to,f=l.length/a;if(e>=i&&e<=i+f){var h=(e-i)/f;o=Se.pointAt(u[0],u[1],c[0],c[1],h);break}i+=f}return o}function __(r,e){if(e>1||e<0||r.length<2)return 0;for(var t=ew(r),n=t.segments,a=t.totalLength,i=0,o=0,s=0;s<n.length;s++){var l=n[s],u=l.from,c=l.to,f=l.length/a;if(e>=i&&e<=i+f){o=Math.atan2(c[1]-u[1],c[0]-u[0]);break}i+=f}return o}function E_(r,e,t){for(var n=1/0,a=0;a<r.length-1;a++){var i=r[a],o=r[a+1],s=Se.pointDistance(i[0],i[1],o[0],o[1],e,t);s<n&&(n=s)}return n}const rw={box:function(r){for(var e=[],t=[],n=0;n<r.length;n++){var a=r[n];e.push(a[0]),t.push(a[1])}return ja(e,t)},length:function(r){return A_(r)},pointAt:function(r,e){return D_(r,e)},pointDistance:function(r,e,t){return E_(r,e,t)},tangentAngle:function(r,e){return __(r,e)}};function ky(r,e){return!r||!e?r||e:{minX:Math.min(r.minX,e.minX),minY:Math.min(r.minY,e.minY),maxX:Math.max(r.maxX,e.maxX),maxY:Math.max(r.maxY,e.maxY)}}function sd(r,e){var t=r.get("startArrowShape"),n=r.get("endArrowShape"),a=null,i=null;return t&&(a=t.getCanvasBBox(),e=ky(e,a)),n&&(i=n.getCanvasBBox(),e=ky(e,i)),e}function I_(r){for(var e=r.attr(),t=e.points,n=[],a=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),a.push(o[1])}var s=ja(n,a),l=s.x,u=s.y,c=s.width,f=s.height,h={minX:l,minY:u,maxX:l+c,maxY:u+f};return h=sd(r,h),{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}function R_(r){for(var e=r.attr(),t=e.points,n=[],a=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),a.push(o[1])}return ja(n,a)}var fc=null;function mu(){if(!fc){var r=document.createElement("canvas");r.width=1,r.height=1,fc=r.getContext("2d")}return fc}function xu(r,e,t){var n=1;if(ct(r)&&(n=r.split(`
`).length),n>1){var a=L_(e,t);return e*n+a*(n-1)}return e}function L_(r,e){return e?e-r:r*.14}function B_(r,e){var t=mu(),n=0;if(B(r)||r==="")return n;if(t.save(),t.font=e,ct(r)&&r.includes(`
`)){var a=r.split(`
`);M(a,function(i){var o=t.measureText(i).width;n<o&&(n=o)})}else n=t.measureText(r).width;return t.restore(),n}function wu(r){var e=r.fontSize,t=r.fontFamily,n=r.fontWeight,a=r.fontStyle,i=r.fontVariant;return[a,i,n,e+"px",t].join(" ").trim()}function F_(r){var e=r.attr(),t=e.x,n=e.y,a=e.text,i=e.fontSize,o=e.lineHeight,s=e.font;s||(s=wu(e));var l=B_(a,s),u;if(!l)u={x:t,y:n,width:0,height:0};else{var c=e.textAlign,f=e.textBaseline,h=xu(a,i,o),v={x:t,y:n-h};c&&(c==="end"||c==="right"?v.x-=l:c==="center"&&(v.x-=l/2)),f&&(f==="top"?v.y+=h:f==="middle"&&(v.y+=h/2)),u={x:v.x,y:v.y,width:l,height:h}}return u}var $_=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,Y_=/[^\s\,]+/ig;function N_(r){var e=r||[];if(Y(e))return e;if(ct(e))return e=e.match($_),M(e,function(t,n){if(t=t.match(Y_),t[0].length>1){var a=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=a}M(t,function(i,o){isNaN(i)||(t[o]=+i)}),e[n]=t}),e}function V_(r,e,t,n){var a=[],i=!!n,o,s,l,u,c,f,h;if(i){l=n[0],u=n[1];for(var v=0,d=r.length;v<d;v+=1){var p=r[v];l=Ge([0,0],l,p),u=We([0,0],u,p)}}for(var v=0,g=r.length;v<g;v+=1){var p=r[v];if(v===0&&!t)h=p;else if(v===g-1&&!t)f=p,a.push(h),a.push(f);else{var y=[v?v-1:g-1,v-1][t?0:1];o=r[y],s=r[t?(v+1)%g:v+1];var w=[0,0];w=Oa(w,s,o),w=ur(w,w,e);var x=El(p,o),m=El(p,s),C=x+m;C!==0&&(x/=C,m/=C);var S=ur([0,0],w,-x),T=ur([0,0],w,m);f=gn([0,0],p,S),c=gn([0,0],p,T),c=Ge([0,0],c,We([0,0],s,p)),c=We([0,0],c,Ge([0,0],s,p)),S=Oa([0,0],c,p),S=ur([0,0],S,-x/m),f=gn([0,0],p,S),f=Ge([0,0],f,We([0,0],o,p)),f=We([0,0],f,Ge([0,0],o,p)),T=Oa([0,0],p,f),T=ur([0,0],T,m/x),c=gn([0,0],p,T),i&&(f=We([0,0],f,l),f=Ge([0,0],f,u),c=We([0,0],c,l),c=Ge([0,0],c,u)),a.push(h),a.push(f),h=c}}return t&&a.push(a.shift()),a}function H_(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=[[0,0],[1,1]]);for(var n=!!e,a=[],i=0,o=r.length;i<o;i+=2)a.push([r[i],r[i+1]]);for(var s=V_(a,.4,n,t),l=a.length,u=[],c,f,h,i=0;i<l-1;i+=1)c=s[i*2],f=s[i*2+1],h=a[i+1],u.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]]);return n&&(c=s[l],f=s[l+1],h=a[0],u.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]])),u}var Di=`	
\v\f\r   ᠎             　\u2028\u2029`,z_=new RegExp("([a-z])["+Di+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Di+"]*,?["+Di+"]*)+)","ig"),G_=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Di+"]*,?["+Di+"]*","ig");function nw(r){if(!r)return null;if(Y(r))return r;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(r).replace(z_,function(n,a,i){var o=[],s=a.toLowerCase();if(i.replace(G_,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(t.push([a].concat(o.splice(0,2))),s="l",a=a==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([a,o[0]]),s==="r")t.push([a].concat(o));else for(;o.length>=e[s]&&(t.push([a].concat(o.splice(0,e[s]))),!!e[s]););return""}),t}var W_=/[a-z]/;function Ay(r,e){return[e[0]+(e[0]-r[0]),e[1]+(e[1]-r[1])]}function aw(r){var e=nw(r);if(!e||!e.length)return[["M",0,0]];for(var t=!1,n=0;n<e.length;n++){var a=e[n][0];if(W_.test(a)||["V","H","T","S"].indexOf(a)>=0){t=!0;break}}if(!t)return e;var i=[],o=0,s=0,l=0,u=0,c=0,f=e[0];(f[0]==="M"||f[0]==="m")&&(o=+f[1],s=+f[2],l=o,u=s,c++,i[0]=["M",o,s]);for(var n=c,h=e.length;n<h;n++){var v=e[n],d=i[n-1],p=[],a=v[0],g=a.toUpperCase();if(a!==g)switch(p[0]=g,g){case"A":p[1]=v[1],p[2]=v[2],p[3]=v[3],p[4]=v[4],p[5]=v[5],p[6]=+v[6]+o,p[7]=+v[7]+s;break;case"V":p[1]=+v[1]+s;break;case"H":p[1]=+v[1]+o;break;case"M":l=+v[1]+o,u=+v[2]+s,p[1]=l,p[2]=u;break;default:for(var y=1,w=v.length;y<w;y++)p[y]=+v[y]+(y%2?o:s)}else p=e[n];switch(g){case"Z":o=+l,s=+u;break;case"H":o=p[1],p=["L",o,s];break;case"V":s=p[1],p=["L",o,s];break;case"T":o=p[1],s=p[2];var x=Ay([d[1],d[2]],[d[3],d[4]]);p=["Q",x[0],x[1],o,s];break;case"S":o=p[p.length-2],s=p[p.length-1];var m=d.length,C=Ay([d[m-4],d[m-3]],[d[m-2],d[m-1]]);p=["C",C[0],C[1],p[1],p[2],o,s];break;case"M":l=p[p.length-2],u=p[p.length-1];break;default:o=p[p.length-2],s=p[p.length-1]}i.push(p)}return i}function Do(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Jh(r,e){return Do(r)*Do(e)?(r[0]*e[0]+r[1]*e[1])/(Do(r)*Do(e)):1}function Dy(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(Jh(r,e))}function tv(r,e){return r[0]===e[0]&&r[1]===e[1]}function X_(r,e){var t=e[1],n=e[2],a=Xv(Uv(e[3]),Math.PI*2),i=e[4],o=e[5],s=r[0],l=r[1],u=e[6],c=e[7],f=Math.cos(a)*(s-u)/2+Math.sin(a)*(l-c)/2,h=-1*Math.sin(a)*(s-u)/2+Math.cos(a)*(l-c)/2,v=f*f/(t*t)+h*h/(n*n);v>1&&(t*=Math.sqrt(v),n*=Math.sqrt(v));var d=t*t*(h*h)+n*n*(f*f),p=d?Math.sqrt((t*t*(n*n)-d)/d):1;i===o&&(p*=-1),isNaN(p)&&(p=0);var g=n?p*t*h/n:0,y=t?p*-n*f/t:0,w=(s+u)/2+Math.cos(a)*g-Math.sin(a)*y,x=(l+c)/2+Math.sin(a)*g+Math.cos(a)*y,m=[(f-g)/t,(h-y)/n],C=[(-1*f-g)/t,(-1*h-y)/n],S=Dy([1,0],m),T=Dy(m,C);return Jh(m,C)<=-1&&(T=Math.PI),Jh(m,C)>=1&&(T=0),o===0&&T>0&&(T=T-2*Math.PI),o===1&&T<0&&(T=T+2*Math.PI),{cx:w,cy:x,rx:tv(r,[u,c])?0:t,ry:tv(r,[u,c])?0:n,startAngle:S,endAngle:S+T,xRotation:a,arcFlag:i,sweepFlag:o}}function _y(r,e){return[e[0]+(e[0]-r[0]),e[1]+(e[1]-r[1])]}function iw(r){r=N_(r);for(var e=[],t=null,n=null,a=null,i=0,o=r.length,s=0;s<o;s++){var l=r[s];n=r[s+1];var u=l[0],c={command:u,prePoint:t,params:l,startTangent:null,endTangent:null};switch(u){case"M":a=[l[1],l[2]],i=s;break;case"A":var f=X_(t,l);c.arcParams=f;break}if(u==="Z")t=a,n=r[i+1];else{var h=l.length;t=[l[h-2],l[h-1]]}n&&n[0]==="Z"&&(n=r[i],e[i]&&(e[i].prePoint=t)),c.currentPoint=t,e[i]&&tv(t,e[i].currentPoint)&&(e[i].prePoint=c.prePoint);var v=n?[n[n.length-2],n[n.length-1]]:null;c.nextPoint=v;var d=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[d[0]-t[0],d[1]-t[1]],c.endTangent=[t[0]-d[0],t[1]-d[1]];else if(u==="Q"){var p=[l[1],l[2]];c.startTangent=[d[0]-p[0],d[1]-p[1]],c.endTangent=[t[0]-p[0],t[1]-p[1]]}else if(u==="T"){var g=e[s-1],p=_y(g.currentPoint,d);g.command==="Q"?(c.command="Q",c.startTangent=[d[0]-p[0],d[1]-p[1]],c.endTangent=[t[0]-p[0],t[1]-p[1]]):(c.command="TL",c.startTangent=[d[0]-t[0],d[1]-t[1]],c.endTangent=[t[0]-d[0],t[1]-d[1]])}else if(u==="C"){var y=[l[1],l[2]],w=[l[3],l[4]];c.startTangent=[d[0]-y[0],d[1]-y[1]],c.endTangent=[t[0]-w[0],t[1]-w[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[y[0]-w[0],y[1]-w[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[w[0]-y[0],w[1]-y[1]])}else if(u==="S"){var g=e[s-1],y=_y(g.currentPoint,d),w=[l[1],l[2]];g.command==="C"?(c.command="C",c.startTangent=[d[0]-y[0],d[1]-y[1]],c.endTangent=[t[0]-w[0],t[1]-w[1]]):(c.command="SQ",c.startTangent=[d[0]-w[0],d[1]-w[1]],c.endTangent=[t[0]-w[0],t[1]-w[1]])}else if(u==="A"){var x=.001,m=c.arcParams||{},C=m.cx,S=C===void 0?0:C,T=m.cy,A=T===void 0?0:T,k=m.rx,D=k===void 0?0:k,$=m.ry,L=$===void 0?0:$,F=m.sweepFlag,X=F===void 0?0:F,j=m.startAngle,Z=j===void 0?0:j,ot=m.endAngle,dt=ot===void 0?0:ot;X===0&&(x*=-1);var ut=D*Math.cos(Z-x)+S,nt=L*Math.sin(Z-x)+A;c.startTangent=[ut-a[0],nt-a[1]];var rt=D*Math.cos(Z+dt+x)+S,wt=L*Math.sin(Z+dt-x)+A;c.endTangent=[d[0]-rt,d[1]-wt]}e.push(c)}return e}var Ey=function(r,e,t){return r>=e&&r<=t};function U_(r,e,t,n){var a=.001,i={x:t.x-r.x,y:t.y-r.y},o={x:e.x-r.x,y:e.y-r.y},s={x:n.x-t.x,y:n.y-t.y},l=o.x*s.y-o.y*s.x,u=l*l,c=o.x*o.x+o.y*o.y,f=s.x*s.x+s.y*s.y,h=null;if(u>a*c*f){var v=(i.x*s.y-i.y*s.x)/l,d=(i.x*o.y-i.y*o.x)/l;Ey(v,0,1)&&Ey(d,0,1)&&(h={x:r.x+v*o.x,y:r.y+v*o.y})}return h}var q_=1e-6;function hc(r){return Math.abs(r)<q_?0:r<0?-1:1}function j_(r,e,t){return(t[0]-r[0])*(e[1]-r[1])===(e[0]-r[0])*(t[1]-r[1])&&Math.min(r[0],e[0])<=t[0]&&t[0]<=Math.max(r[0],e[0])&&Math.min(r[1],e[1])<=t[1]&&t[1]<=Math.max(r[1],e[1])}function Iy(r,e,t){var n=!1,a=r.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=r[i],s=r[(i+1)%a];if(j_(o,s,[e,t]))return!0;hc(o[1]-t)>0!=hc(s[1]-t)>0&&hc(e-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function Ry(r){for(var e=[],t=r.length,n=0;n<t-1;n++){var a=r[n],i=r[n+1];e.push({from:{x:a[0],y:a[1]},to:{x:i[0],y:i[1]}})}if(e.length>1){var o=r[0],s=r[t-1];e.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return e}function Q_(r,e){var t=!1;return M(r,function(n){if(U_(n.from,n.to,e.from,e.to))return t=!0,!1}),t}function Ly(r){var e=r.map(function(n){return n[0]}),t=r.map(function(n){return n[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function Z_(r,e){return!(e.minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)}function K_(r,e){if(r.length<2||e.length<2)return!1;var t=Ly(r),n=Ly(e);if(!Z_(t,n))return!1;var a=!1;if(M(e,function(l){if(Iy(r,l[0],l[1]))return a=!0,!1}),a||(M(r,function(l){if(Iy(e,l[0],l[1]))return a=!0,!1}),a))return!0;var i=Ry(r),o=Ry(e),s=!1;return M(o,function(l){if(Q_(i,l))return s=!0,!1}),s}function J_(r,e){for(var t=[],n=[],a=[],i=0;i<r.length;i++){var o=r[i],s=o.currentPoint,l=o.params,u=o.prePoint,c=void 0;switch(o.command){case"Q":c=Jx.box(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=Ai.box(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=o.arcParams;c=k_.box(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:t.push(s[0]),n.push(s[1]);break}c&&(o.box=c,t.push(c.x,c.x+c.width),n.push(c.y,c.y+c.height)),e&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&a.push(o)}t=t.filter(function(y){return!Number.isNaN(y)&&y!==1/0&&y!==-1/0}),n=n.filter(function(y){return!Number.isNaN(y)&&y!==1/0&&y!==-1/0});var h=$r(t),v=$r(n),d=Cr(t),p=Cr(n);if(a.length===0)return{x:h,y:v,width:d-h,height:p-v};for(var i=0;i<a.length;i++){var o=a[i],s=o.currentPoint,g=void 0;s[0]===h?(g=_o(o,e),h=h-g.xExtra):s[0]===d&&(g=_o(o,e),d=d+g.xExtra),s[1]===v?(g=_o(o,e),v=v-g.yExtra):s[1]===p&&(g=_o(o,e),p=p+g.yExtra)}return{x:h,y:v,width:d-h,height:p-v}}function _o(r,e){var t=r.prePoint,n=r.currentPoint,a=r.nextPoint,i=Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2),o=Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2),s=Math.pow(t[0]-a[0],2)+Math.pow(t[1]-a[1],2),l=Math.acos((i+o-s)/(2*Math.sqrt(i)*Math.sqrt(o)));if(!l||Math.sin(l)===0||Ce(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(a[1]-n[1],a[0]-n[0])),c=Math.abs(Math.atan2(a[0]-n[0],a[1]-n[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var f={xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(c-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0};return f}function tE(r){var e=r.attr(),t=e.path,n=e.stroke,a=n?e.lineWidth:0,i=r.get("segments")||iw(t),o=J_(i,a),s=o.x,l=o.y,u=o.width,c=o.height,f={minX:s,minY:l,maxX:s+u,maxY:l+c};return f=sd(r,f),{x:f.minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}}function eE(r){var e=r.attr(),t=e.x1,n=e.y1,a=e.x2,i=e.y2,o=Math.min(t,a),s=Math.max(t,a),l=Math.min(n,i),u=Math.max(n,i),c={minX:o,maxX:s,minY:l,maxY:u};return c=sd(r,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function rE(r){var e=r.attr(),t=e.x,n=e.y,a=e.rx,i=e.ry;return{x:t-a,y:n-i,width:a*2,height:i*2}}vr("rect",jx);vr("image",jx);vr("circle",Qx);vr("marker",Qx);vr("polyline",I_);vr("polygon",R_);vr("text",F_);vr("path",tE);vr("line",eE);vr("ellipse",rE);var By=0,nE=1/2,aE=1/2,iE=.05,bu=function(){function r(e){var t=e.xField,n=e.yField,a=e.adjustNames,i=a===void 0?["x","y"]:a,o=e.dimValuesMap;this.adjustNames=i,this.xField=t,this.yField=n,this.dimValuesMap=o}return r.prototype.isAdjust=function(e){return this.adjustNames.indexOf(e)>=0},r.prototype.getAdjustRange=function(e,t,n){var a=this.yField,i=n.indexOf(t),o=n.length,s,l;return!a&&this.isAdjust("y")?(s=0,l=1):o>1?(s=n[i===0?0:i-1],l=n[i===o-1?o-1:i+1],i!==0?s+=(t-s)/2:s-=(l-t)/2,i!==o-1?l-=(l-t)/2:l+=(t-n[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},r.prototype.adjustData=function(e,t){var n=this,a=this.getDimValues(t);M(e,function(i,o){M(a,function(s,l){n.adjustDim(l,s,i,o)})})},r.prototype.groupData=function(e,t){return M(e,function(n){n[t]===void 0&&(n[t]=By)}),On(e,t)},r.prototype.adjustDim=function(e,t,n,a){},r.prototype.getDimValues=function(e){var t=this,n=t.xField,a=t.yField,i=Jt({},this.dimValuesMap),o=[];if(n&&this.isAdjust("x")&&o.push(n),a&&this.isAdjust("y")&&o.push(a),o.forEach(function(l){i&&i[l]||(i[l]=Zr(e,l).sort(function(u,c){return u-c}))}),!a&&this.isAdjust("y")){var s="y";i[s]=[By,1]}return i},r}(),ow={},sw=function(r){return ow[r.toLowerCase()]},Cu=function(r,e){if(sw(r))throw new Error("Adjust type '"+r+"' existed.");ow[r.toLowerCase()]=e};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ev=function(r,e){return ev=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a])},ev(r,e)};function Su(r,e){ev(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Rr=function(){return Rr=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Rr.apply(this,arguments)},oE=function(r){Su(e,r);function e(t){var n=r.call(this,t)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var a=t.marginRatio,i=a===void 0?nE:a,o=t.dodgeRatio,s=o===void 0?aE:o,l=t.dodgeBy,u=t.intervalPadding,c=t.dodgePadding,f=t.xDimensionLength,h=t.groupNum,v=t.defaultSize,d=t.maxColumnWidth,p=t.minColumnWidth,g=t.columnWidthRatio,y=t.customOffset;return n.marginRatio=i,n.dodgeRatio=s,n.dodgeBy=l,n.intervalPadding=u,n.dodgePadding=c,n.xDimensionLegenth=f,n.groupNum=h,n.defaultSize=v,n.maxColumnWidth=d,n.minColumnWidth=p,n.columnWidthRatio=g,n.customOffset=y,n}return e.prototype.process=function(t){var n=er(t),a=ar(n),i=this.dodgeBy,o=i?zA(a,i):n;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=a,this.adjustData(o,a),this.adjustDataArray=[],this.mergeData=[],n},e.prototype.adjustDim=function(t,n,a,i){var o=this,s=this.customOffset,l=this.getDistribution(t),u=this.groupData(a,t);return M(u,function(c,f){var h;n.length===1?h={pre:n[0]-1,next:n[0]+1}:h=o.getAdjustRange(t,parseFloat(f),n),M(c,function(v){var d=v[t],p=l[d],g=p.indexOf(i);if(B(s))v[t]=o.getDodgeOffset(h,g,p.length);else{var y=h.pre,w=h.next;v[t]=J(s)?s(v,h):(y+w)/2+s}})}),[]},e.prototype.getDodgeOffset=function(t,n,a){var i=this,o=i.dodgeRatio,s=i.marginRatio,l=i.intervalPadding,u=i.dodgePadding,c=t.pre,f=t.next,h=f-c,v;if(!B(l)&&B(u)&&l>=0){var d=this.getIntervalOnlyOffset(a,n);v=c+d}else if(!B(u)&&B(l)&&u>=0){var d=this.getDodgeOnlyOffset(a,n);v=c+d}else if(!B(l)&&!B(u)&&l>=0&&u>=0){var d=this.getIntervalAndDodgeOffset(a,n);v=c+d}else{var p=h*o/a,g=s*p,d=1/2*(h-a*p-(a-1)*g)+((n+1)*p+n*g)-1/2*p-1/2*h;v=(c+f)/2+d}return v},e.prototype.getIntervalOnlyOffset=function(t,n){var a=this,i=a.defaultSize,o=a.intervalPadding,s=a.xDimensionLegenth,l=a.groupNum,u=a.dodgeRatio,c=a.maxColumnWidth,f=a.minColumnWidth,h=a.columnWidthRatio,v=o/s,d=(1-(l-1)*v)/l*u/(t-1),p=((1-v*(l-1))/l-d*(t-1))/t;if(p=B(h)?p:1/l/t*h,!B(c)){var g=c/s;p=Math.min(p,g)}if(!B(f)){var y=f/s;p=Math.max(p,y)}p=i?i/s:p,d=((1-(l-1)*v)/l-t*p)/(t-1);var w=((1/2+n)*p+n*d+1/2*v)*l-v/2;return w},e.prototype.getDodgeOnlyOffset=function(t,n){var a=this,i=a.defaultSize,o=a.dodgePadding,s=a.xDimensionLegenth,l=a.groupNum,u=a.marginRatio,c=a.maxColumnWidth,f=a.minColumnWidth,h=a.columnWidthRatio,v=o/s,d=1*u/(l-1),p=((1-d*(l-1))/l-v*(t-1))/t;if(p=h?1/l/t*h:p,!B(c)){var g=c/s;p=Math.min(p,g)}if(!B(f)){var y=f/s;p=Math.max(p,y)}p=i?i/s:p,d=(1-(p*t+v*(t-1))*l)/(l-1);var w=((1/2+n)*p+n*v+1/2*d)*l-d/2;return w},e.prototype.getIntervalAndDodgeOffset=function(t,n){var a=this,i=a.intervalPadding,o=a.dodgePadding,s=a.xDimensionLegenth,l=a.groupNum,u=i/s,c=o/s,f=((1-u*(l-1))/l-c*(t-1))/t,h=((1/2+n)*f+n*c+1/2*u)*l-u/2;return h},e.prototype.getDistribution=function(t){var n=this.adjustDataArray,a=this.cacheMap,i=a[t];return i||(i={},M(n,function(o,s){var l=Zr(o,t);l.length||l.push(0),M(l,function(u){i[u]||(i[u]=[]),i[u].push(s)})}),a[t]=i),i},e}(bu);function sE(r,e){return(e-r)*Math.random()+r}var lE=function(r){Su(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.process=function(t){var n=er(t),a=ar(n);return this.adjustData(n,a),n},e.prototype.adjustDim=function(t,n,a){var i=this,o=this.groupData(a,t);return M(o,function(s,l){return i.adjustGroup(s,t,parseFloat(l),n)})},e.prototype.getAdjustOffset=function(t){var n=t.pre,a=t.next,i=(a-n)*iE;return sE(n+i,a-i)},e.prototype.adjustGroup=function(t,n,a,i){var o=this,s=this.getAdjustRange(n,a,i);return M(t,function(l){l[n]=o.getAdjustOffset(s)}),t},e}(bu),vc=o2,uE=function(r){Su(e,r);function e(t){var n=r.call(this,t)||this,a=t.adjustNames,i=a===void 0?["y"]:a,o=t.height,s=o===void 0?NaN:o,l=t.size,u=l===void 0?10:l,c=t.reverseOrder,f=c===void 0?!1:c;return n.adjustNames=i,n.height=s,n.size=u,n.reverseOrder=f,n}return e.prototype.process=function(t){var n=this,a=n.yField,i=n.reverseOrder,o=a?this.processStack(t):this.processOneDimStack(t);return i?this.reverse(o):o},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var n=this,a=n.xField,i=n.yField,o=n.reverseOrder,s=o?this.reverse(t):t,l=new vc,u=new vc;return s.map(function(c){return c.map(function(f){var h,v=O(f,a,0),d=O(f,[i]),p=v.toString();if(d=Y(d)?d[1]:d,!B(d)){var g=d>=0?l:u;g.has(p)||g.set(p,0);var y=g.get(p),w=d+y;return g.set(p,w),Rr(Rr({},f),(h={},h[i]=[y,w],h))}return f})})},e.prototype.processOneDimStack=function(t){var n=this,a=this,i=a.xField,o=a.height,s=a.reverseOrder,l="y",u=s?this.reverse(t):t,c=new vc;return u.map(function(f){return f.map(function(h){var v,d=n.size,p=h[i],g=d*2/o;c.has(p)||c.set(p,g/2);var y=c.get(p);return c.set(p,y+g),Rr(Rr({},h),(v={},v[l]=y,v))})})},e}(bu),cE=function(r){Su(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.process=function(t){var n=ar(t),a=this,i=a.xField,o=a.yField,s=this.getXValuesMaxMap(n),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return Le(t,function(u){return Le(u,function(c){var f,h,v=c[o],d=c[i];if(Y(v)){var p=(l-s[d])/2;return Rr(Rr({},c),(f={},f[o]=Le(v,function(y){return p+y}),f))}var g=(l-v)/2;return Rr(Rr({},c),(h={},h[o]=[g,v+g],h))})})},e.prototype.getXValuesMaxMap=function(t){var n=this,a=this,i=a.xField,o=a.yField,s=On(t,function(l){return l[i]});return r2(s,function(l){return n.getDimMaxValue(l,o)})},e.prototype.getDimMaxValue=function(t,n){var a=Le(t,function(o){return O(o,n,[])}),i=ar(a);return Math.max.apply(Math,i)},e}(bu);Cu("Dodge",oE);Cu("Jitter",lE);Cu("Stack",uE);Cu("Symmetric",cE);var Fy=function(r,e){return ct(e)?e:r.invert(r.scale(e))},uo=function(){function r(e){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(e)}return r.prototype.mapping=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t.map(function(i,o){return e._toOriginParam(i,e.scales[o])});return this.callback.apply(this,a)},r.prototype.getLinearValue=function(e){var t=this.values.length-1,n=Math.floor(t*e),a=t*e-n,i=this.values[n],o=n===t?i:this.values[n+1];return i+(o-i)*a},r.prototype.getNames=function(){for(var e=this.scales,t=this.names,n=Math.min(e.length,t.length),a=[],i=0;i<n;i+=1)a.push(t[i]);return a},r.prototype.getFields=function(){return this.scales.map(function(e){return e.field})},r.prototype.getScale=function(e){return this.scales[this.names.indexOf(e)]},r.prototype.defaultCallback=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length===0?this.values:t.map(function(a,i){var o=e.scales[i];return o.type==="identity"?o.values[0]:e._getAttributeValue(o,a)})},r.prototype._parseCfg=function(e){var t=this,n=e.type,a=n===void 0?"base":n,i=e.names,o=i===void 0?[]:i,s=e.scales,l=s===void 0?[]:s,u=e.values,c=u===void 0?[]:u,f=e.callback;this.type=a,this.scales=l,this.values=c,this.names=o,this.callback=function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];if(f){var d=f.apply(void 0,h);if(!B(d))return[d]}return t.defaultCallback.apply(t,h)}},r.prototype._getAttributeValue=function(e,t){if(e.isCategory&&!this.linear){var n=e.translate(t);return this.values[n%this.values.length]}var a=e.scale(t);return this.getLinearValue(a)},r.prototype._toOriginParam=function(e,t){return t.isLinear?e:Y(e)?e.map(function(n){return Fy(t,n)}):Fy(t,e)},r}(),fE=/rgba?\(([\s.,0-9]+)\)/,hE=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,vE=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,dE=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,pE=function(r){return/^[r,R,L,l]{1}[\s]*\(/.test(r)},gE=function(){var r=document.createElement("i");return r.title="Web Colour Picker",r.style.display="none",document.body.appendChild(r),r},dc=function(r,e,t,n){return r[n]+(e[n]-r[n])*t};function lw(r){return"#"+pc(r[0])+pc(r[1])+pc(r[2])}var uw=function(r){return[parseInt(r.substr(1,2),16),parseInt(r.substr(3,2),16),parseInt(r.substr(5,2),16)]},pc=function(r){var e=Math.round(r).toString(16);return e.length===1?"0"+e:e},yE=function(r,e){var t=isNaN(Number(e))||e<0?0:e>1?1:Number(e),n=r.length-1,a=Math.floor(n*t),i=n*t-a,o=r[a],s=a===n?o:r[a+1];return lw([dc(o,s,i,0),dc(o,s,i,1),dc(o,s,i,2)])},Eo,cw=function(r){if(r[0]==="#"&&r.length===7)return r;Eo||(Eo=gE()),Eo.style.color=r;var e=document.defaultView.getComputedStyle(Eo,"").getPropertyValue("color"),t=fE.exec(e),n=t[1].split(/\s*,\s*/).map(function(a){return Number(a)});return e=lw(n),e},mE=function(r){var e=ct(r)?r.split("-"):r,t=Le(e,function(n){return uw(n.indexOf("#")===-1?cw(n):n)});return function(n){return yE(t,n)}},xE=function(r){if(pE(r)){var e,t=void 0;if(r[0]==="l"){var n=hE.exec(r),a=+n[1]+90;t=n[2],e="linear-gradient("+a+"deg, "}else if(r[0]==="r"){e="radial-gradient(";var n=vE.exec(r);t=n[4]}var i=t.match(dE);return M(i,function(o,s){var l=o.split(":");e+=l[1]+" "+l[0]*100+"%",s!==i.length-1&&(e+=", ")}),e+=")",e}return r};const qi={rgb2arr:uw,gradient:mE,toRGB:lu(cw),toCSSGradient:xE};var wE=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;return n.type="color",n.names=["color"],ct(n.values)&&(n.linear=!0),n.gradient=qi.gradient(n.values),n}return e.prototype.getLinearValue=function(t){return this.gradient(t)},e}(uo),bE=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;return n.type="opacity",n.names=["opacity"],n}return e}(uo),CE=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;return n.names=["x","y"],n.type="position",n}return e.prototype.mapping=function(t,n){var a=this.scales,i=a[0],o=a[1];return B(t)||B(n)?[]:[Y(t)?t.map(function(s){return i.scale(s)}):i.scale(t),Y(n)?n.map(function(s){return o.scale(s)}):o.scale(n)]},e}(uo),SE=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;return n.type="shape",n.names=["shape"],n}return e.prototype.getLinearValue=function(t){var n=Math.round((this.values.length-1)*t);return this.values[n]},e}(uo),ME=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;return n.type="size",n.names=["size"],n}return e}(uo),fw={};function TE(r){return fw[r]}function Vr(r,e){fw[r]=e}var ld=function(){function r(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return r.prototype.translate=function(e){return e},r.prototype.change=function(e){Jt(this.__cfg__,e),this.init()},r.prototype.clone=function(){return this.constructor(this.__cfg__)},r.prototype.getTicks=function(){var e=this;return Le(this.ticks,function(t,n){return Vt(t)?t:{text:e.getText(t,n),tickValue:t,value:e.scale(t)}})},r.prototype.getText=function(e,t){var n=this.formatter,a=n?n(e,t):e;return B(a)||!J(a.toString)?"":a.toString()},r.prototype.getConfig=function(e){return this.__cfg__[e]},r.prototype.init=function(){Jt(this,this.__cfg__),this.setDomain(),Yr(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},r.prototype.initCfg=function(){},r.prototype.setDomain=function(){},r.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if(ct(e)){var n=TE(e);if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else J(e)&&(t=e(this));return t},r.prototype.rangeMin=function(){return this.range[0]},r.prototype.rangeMax=function(){return this.range[1]},r.prototype.calcPercent=function(e,t,n){return Pt(e)?(e-t)/(n-t):NaN},r.prototype.calcValue=function(e,t,n){return t+e*(n-t)},r}(),Mu=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var n=this.translateIndexMap.get(t);return n===void 0&&(n=Pt(t)?t:NaN),n},e.prototype.scale=function(t){var n=this.translate(t),a=this.calcPercent(n,this.min,this.max);return this.calcValue(a,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var n=this.max-this.min,a=this.calcPercent(t,this.rangeMin(),this.rangeMax()),i=Math.round(n*a)+this.min;return i<this.min||i>this.max?NaN:this.values[i]},e.prototype.getText=function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=t;return Pt(t)&&!this.values.includes(t)&&(i=this.values[i]),r.prototype.getText.apply(this,Yi([i],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(B(this.getConfig("min"))&&(this.min=0),B(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(ld),hw=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,ln="\\d\\d?",nn="\\d\\d",PE="\\d{3}",OE="\\d{4}",_i="[^\\s]+",vw=/\[([^]*?)\]/gm;function dw(r,e){for(var t=[],n=0,a=r.length;n<a;n++)t.push(r[n].substr(0,e));return t}var $y=function(r){return function(e,t){var n=t[r].map(function(i){return i.toLowerCase()}),a=n.indexOf(e.toLowerCase());return a>-1?a:null}};function Mn(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var n=0,a=e;n<a.length;n++){var i=a[n];for(var o in i)r[o]=i[o]}return r}var pw=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],gw=["January","February","March","April","May","June","July","August","September","October","November","December"],kE=dw(gw,3),AE=dw(pw,3),ud={dayNamesShort:AE,dayNames:pw,monthNamesShort:kE,monthNames:gw,amPm:["am","pm"],DoFn:function(r){return r+["th","st","nd","rd"][r%10>3?0:(r-r%10!==10?1:0)*r%10]}},$l=Mn({},ud),yw=function(r){return $l=Mn($l,r)},Yy=function(r){return r.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Ne=function(r,e){for(e===void 0&&(e=2),r=String(r);r.length<e;)r="0"+r;return r},DE={D:function(r){return String(r.getDate())},DD:function(r){return Ne(r.getDate())},Do:function(r,e){return e.DoFn(r.getDate())},d:function(r){return String(r.getDay())},dd:function(r){return Ne(r.getDay())},ddd:function(r,e){return e.dayNamesShort[r.getDay()]},dddd:function(r,e){return e.dayNames[r.getDay()]},M:function(r){return String(r.getMonth()+1)},MM:function(r){return Ne(r.getMonth()+1)},MMM:function(r,e){return e.monthNamesShort[r.getMonth()]},MMMM:function(r,e){return e.monthNames[r.getMonth()]},YY:function(r){return Ne(String(r.getFullYear()),4).substr(2)},YYYY:function(r){return Ne(r.getFullYear(),4)},h:function(r){return String(r.getHours()%12||12)},hh:function(r){return Ne(r.getHours()%12||12)},H:function(r){return String(r.getHours())},HH:function(r){return Ne(r.getHours())},m:function(r){return String(r.getMinutes())},mm:function(r){return Ne(r.getMinutes())},s:function(r){return String(r.getSeconds())},ss:function(r){return Ne(r.getSeconds())},S:function(r){return String(Math.round(r.getMilliseconds()/100))},SS:function(r){return Ne(Math.round(r.getMilliseconds()/10),2)},SSS:function(r){return Ne(r.getMilliseconds(),3)},a:function(r,e){return r.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(r,e){return r.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(r){var e=r.getTimezoneOffset();return(e>0?"-":"+")+Ne(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(r){var e=r.getTimezoneOffset();return(e>0?"-":"+")+Ne(Math.floor(Math.abs(e)/60),2)+":"+Ne(Math.abs(e)%60,2)}},Ny=function(r){return+r-1},Vy=[null,ln],Hy=[null,_i],zy=["isPm",_i,function(r,e){var t=r.toLowerCase();return t===e.amPm[0]?0:t===e.amPm[1]?1:null}],Gy=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(r){var e=(r+"").match(/([+-]|\d\d)/gi);if(e){var t=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?t:-t}return 0}],_E={D:["day",ln],DD:["day",nn],Do:["day",ln+_i,function(r){return parseInt(r,10)}],M:["month",ln,Ny],MM:["month",nn,Ny],YY:["year",nn,function(r){var e=new Date,t=+(""+e.getFullYear()).substr(0,2);return+(""+(+r>68?t-1:t)+r)}],h:["hour",ln,void 0,"isPm"],hh:["hour",nn,void 0,"isPm"],H:["hour",ln],HH:["hour",nn],m:["minute",ln],mm:["minute",nn],s:["second",ln],ss:["second",nn],YYYY:["year",OE],S:["millisecond","\\d",function(r){return+r*100}],SS:["millisecond",nn,function(r){return+r*10}],SSS:["millisecond",PE],d:Vy,dd:Vy,ddd:Hy,dddd:Hy,MMM:["month",_i,$y("monthNamesShort")],MMMM:["month",_i,$y("monthNames")],a:zy,A:zy,ZZ:Gy,Z:Gy},Yl={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},mw=function(r){return Mn(Yl,r)},xw=function(r,e,t){if(e===void 0&&(e=Yl.default),t===void 0&&(t={}),typeof r=="number"&&(r=new Date(r)),Object.prototype.toString.call(r)!=="[object Date]"||isNaN(r.getTime()))throw new Error("Invalid Date pass to format");e=Yl[e]||e;var n=[];e=e.replace(vw,function(i,o){return n.push(o),"@@@"});var a=Mn(Mn({},$l),t);return e=e.replace(hw,function(i){return DE[i](r,a)}),e.replace(/@@@/g,function(){return n.shift()})};function ww(r,e,t){if(t===void 0&&(t={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=Yl[e]||e,r.length>1e3)return null;var n=new Date,a={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],s=e.replace(vw,function(m,C){return o.push(Yy(C)),"@@@"}),l={},u={};s=Yy(s).replace(hw,function(m){var C=_E[m],S=C[0],T=C[1],A=C[3];if(l[S])throw new Error("Invalid format. "+S+" specified twice in format");return l[S]=!0,A&&(u[A]=!0),i.push(C),"("+T+")"}),Object.keys(u).forEach(function(m){if(!l[m])throw new Error("Invalid format. "+m+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var c=r.match(new RegExp(s,"i"));if(!c)return null;for(var f=Mn(Mn({},$l),t),h=1;h<c.length;h++){var v=i[h-1],d=v[0],p=v[2],g=p?p(c[h],f):+c[h];if(g==null)return null;a[d]=g}a.isPm===1&&a.hour!=null&&+a.hour!=12?a.hour=+a.hour+12:a.isPm===0&&+a.hour==12&&(a.hour=0);var y;if(a.timezoneOffset==null){y=new Date(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond);for(var w=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],h=0,x=w.length;h<x;h++)if(l[w[h][0]]&&a[w[h][0]]!==y[w[h][1]]())return null}else if(y=new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.minute-a.timezoneOffset,a.second,a.millisecond)),a.month>11||a.month<0||a.day>31||a.day<1||a.hour>23||a.hour<0||a.minute>59||a.minute<0||a.second>59||a.second<0)return null;return y}var bw={format:xw,parse:ww,defaultI18n:ud,setGlobalDateI18n:yw,setGlobalDateMasks:mw};const EE=Object.freeze(Object.defineProperty({__proto__:null,assign:Mn,default:bw,defaultI18n:ud,format:xw,parse:ww,setGlobalDateI18n:yw,setGlobalDateMasks:mw},Symbol.toStringTag,{value:"Module"}));function IE(r){return function(e,t,n,a){for(var i=B(n)?0:n,o=B(a)?e.length:a;i<o;){var s=i+o>>>1;r(e[s])>t?o=s:i=s+1}return i}}var Wy="format";function Cw(r,e){var t=EE[Wy]||bw[Wy];return t(r,e)}function Nl(r){return ct(r)&&(r.indexOf("T")>0?r=new Date(r).getTime():r=new Date(r.replace(/-/gi,"/")).getTime()),cx(r)&&(r=r.getTime()),r}var xr=1e3,Un=60*xr,qn=60*Un,qr=24*qn,Ei=qr*31,Xy=qr*365,pi=[["HH:mm:ss",xr],["HH:mm:ss",xr*10],["HH:mm:ss",xr*30],["HH:mm",Un],["HH:mm",Un*10],["HH:mm",Un*30],["HH",qn],["HH",qn*6],["HH",qn*12],["YYYY-MM-DD",qr],["YYYY-MM-DD",qr*4],["YYYY-WW",qr*7],["YYYY-MM",Ei],["YYYY-MM",Ei*4],["YYYY-MM",Ei*6],["YYYY",qr*380]];function RE(r,e,t){var n=(e-r)/t,a=IE(function(o){return o[1]})(pi,n)-1,i=pi[a];return a<0?i=pi[0]:a>=pi.length&&(i=Me(pi)),i}var LE=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="timeCat",t}return e.prototype.translate=function(t){t=Nl(t);var n=this.values.indexOf(t);return n===-1&&(Pt(t)&&t<this.values.length?n=t:n=NaN),n},e.prototype.getText=function(t,n){var a=this.translate(t);if(a>-1){var i=this.values[a],o=this.formatter;return i=o?o(i,n):Cw(i,this.mask),i}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var t=this.values;M(t,function(n,a){t[a]=Nl(n)}),t.sort(function(n,a){return n-a}),r.prototype.setDomain.call(this)},e}(Mu),Tu=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isContinuous=!0,t}return e.prototype.scale=function(t){if(B(t))return NaN;var n=this.rangeMin(),a=this.rangeMax(),i=this.max,o=this.min;if(i===o)return n;var s=this.getScalePercent(t);return n+s*(a-n)},e.prototype.init=function(){r.prototype.init.call(this);var t=this.ticks,n=rr(t),a=Me(t);n<this.min&&(this.min=n),a>this.max&&(this.max=a),B(this.minLimit)||(this.min=n),B(this.maxLimit)||(this.max=a)},e.prototype.setDomain=function(){var t=FA(this.values),n=t.min,a=t.max;B(this.min)&&(this.min=n),B(this.max)&&(this.max=a),this.min>this.max&&(this.min=n,this.max=a)},e.prototype.calculateTicks=function(){var t=this,n=r.prototype.calculateTicks.call(this);return this.nice||(n=hr(n,function(a){return a>=t.min&&a<=t.max})),n},e.prototype.getScalePercent=function(t){var n=this.max,a=this.min;return(t-a)/(n-a)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(ld),Pu=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return e.prototype.invert=function(t){var n=this.getInvertPercent(t);return this.min+n*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(Tu);function hn(r,e){var t=Math.E,n;return e>=0?n=Math.pow(t,Math.log(e)/r):n=Math.pow(t,Math.log(-e)/r)*-1,n}function lr(r,e){return r===1?1:Math.log(e)/Math.log(r)}function Sw(r,e,t){B(t)&&(t=Math.max.apply(null,r));var n=t;return M(r,function(a){a>0&&a<n&&(n=a)}),n===t&&(n=t/e),n>1&&(n=1),n}var BE=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="log",t}return e.prototype.invert=function(t){var n=this.base,a=lr(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,s,l=this.positiveMin;if(l){if(t===0)return 0;s=lr(n,l/n);var u=1/(a-s)*o;if(t<u)return t/u*l}else s=lr(n,this.min);var c=(t-i)/o,f=c*(a-s)+s;return Math.pow(n,f)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){r.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=Sw(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var n=this.max,a=this.min;if(n===a||t<=0)return 0;var i=this.base,o=this.positiveMin;o&&(a=o*1/i);var s;return t<o?s=t/o/(lr(i,n)-lr(i,a)):s=(lr(i,t)-lr(i,a))/(lr(i,n)-lr(i,a)),s},e}(Tu),FE=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="pow",t}return e.prototype.invert=function(t){var n=this.getInvertPercent(t),a=this.exponent,i=hn(a,this.max),o=hn(a,this.min),s=n*(i-o)+o,l=s>=0?1:-1;return Math.pow(s,a)*l},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var n=this.max,a=this.min;if(n===a)return 0;var i=this.exponent,o=(hn(i,t)-hn(i,a))/(hn(i,n)-hn(i,a));return o},e}(Tu),$E=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="time",t}return e.prototype.getText=function(t,n){var a=this.translate(t),i=this.formatter;return i?i(a,n):Cw(a,this.mask)},e.prototype.scale=function(t){var n=t;return(ct(n)||cx(n))&&(n=this.translate(n)),r.prototype.scale.call(this,n)},e.prototype.translate=function(t){return Nl(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,n=this.getConfig("min"),a=this.getConfig("max");if((!B(n)||!Pt(n))&&(this.min=this.translate(this.min)),(!B(a)||!Pt(a))&&(this.max=this.translate(this.max)),t&&t.length){var i=[],o=1/0,s=o,l=0;M(t,function(u){var c=Nl(u);if(isNaN(c))throw new TypeError("Invalid Time: "+u+" in time scale!");o>c?(s=o,o=c):s>c&&(s=c),l<c&&(l=c),i.push(c)}),t.length>1&&(this.minTickInterval=s-o),B(n)&&(this.min=o),B(a)&&(this.max=l)}},e}(Pu),Mw=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="quantize",t}return e.prototype.invert=function(t){var n=this.ticks,a=n.length,i=this.getInvertPercent(t),o=Math.floor(i*(a-1));if(o>=a-1)return Me(n);if(o<0)return rr(n);var s=n[o],l=n[o+1],u=o/(a-1),c=(o+1)/(a-1);return s+(i-u)/(c-u)*(l-s)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var t=r.prototype.calculateTicks.call(this);return this.nice||(Me(t)!==this.max&&t.push(this.max),rr(t)!==this.min&&t.unshift(this.min)),t},e.prototype.getScalePercent=function(t){var n=this.ticks;if(t<rr(n))return 0;if(t>Me(n))return 1;var a=0;return M(n,function(i,o){if(t>=i)a=o;else return!1}),a/(n.length-1)},e}(Tu),YE=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="quantile",t}return e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(Mw),Tw={};function rv(r){return Tw[r]}function Hr(r,e){if(rv(r))throw new Error("type '"+r+"' existed.");Tw[r]=e}var NE=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&Pt(t)?t:this.range[0]},e.prototype.invert=function(t){var n=this.range;return t<n[0]||t>n[1]?NaN:this.values[0]},e}(ld);function Pw(r){var e=r.values,t=r.tickInterval,n=r.tickCount,a=r.showLast;if(Pt(t)){var i=hr(e,function(d,p){return p%t===0}),o=Me(e);return a&&Me(i)!==o&&i.push(o),i}var s=e.length,l=r.min,u=r.max;if(B(l)&&(l=0),B(u)&&(u=e.length-1),!Pt(n)||n>=s)return e.slice(l,u+1);if(n<=0||u<=0)return[];for(var c=n===1?s:Math.floor(s/(n-1)),f=[],h=l,v=0;v<n&&!(h>=u);v++)h=Math.min(l+v*c,u),v===n-1&&a?f.push(e[u]):f.push(e[h]);return f}function VE(r){var e=r.min,t=r.max,n=r.nice,a=r.tickCount,i=new HE;return i.domain([e,t]),n&&i.nice(a),i.ticks(a)}var gc=5,Uy=Math.sqrt(50),qy=Math.sqrt(10),jy=Math.sqrt(2),HE=function(){function r(){this._domain=[0,1]}return r.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},r.prototype.nice=function(e){var t,n;e===void 0&&(e=gc);var a=this._domain.slice(),i=0,o=this._domain.length-1,s=this._domain[i],l=this._domain[o],u;return l<s&&(t=[l,s],s=t[0],l=t[1],n=[o,i],i=n[0],o=n[1]),u=Ys(s,l,e),u>0?(s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u,u=Ys(s,l,e)):u<0&&(s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u,u=Ys(s,l,e)),u>0?(a[i]=Math.floor(s/u)*u,a[o]=Math.ceil(l/u)*u,this.domain(a)):u<0&&(a[i]=Math.ceil(s*u)/u,a[o]=Math.floor(l*u)/u,this.domain(a)),this},r.prototype.ticks=function(e){return e===void 0&&(e=gc),zE(this._domain[0],this._domain[this._domain.length-1],e||gc)},r}();function zE(r,e,t){var n,a=-1,i,o,s;if(e=+e,r=+r,t=+t,r===e&&t>0)return[r];if((n=e<r)&&(i=r,r=e,e=i),(s=Ys(r,e,t))===0||!isFinite(s))return[];if(s>0)for(r=Math.ceil(r/s),e=Math.floor(e/s),o=new Array(i=Math.ceil(e-r+1));++a<i;)o[a]=(r+a)*s;else for(r=Math.floor(r*s),e=Math.ceil(e*s),o=new Array(i=Math.ceil(r-e+1));++a<i;)o[a]=(r-a)/s;return n&&o.reverse(),o}function Ys(r,e,t){var n=(e-r)/Math.max(0,t),a=Math.floor(Math.log(n)/Math.LN10),i=n/Math.pow(10,a);return a>=0?(i>=Uy?10:i>=qy?5:i>=jy?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=Uy?10:i>=qy?5:i>=jy?2:1)}function Qy(r,e,t){var n;return t==="ceil"?n=Math.ceil(r/e):t==="floor"?n=Math.floor(r/e):n=Math.round(r/e),n*e}function cd(r,e,t){var n=Qy(r,t,"floor"),a=Qy(e,t,"ceil");n=nc(n,t),a=nc(a,t);for(var i=[],o=Math.max((a-n)/(Math.pow(2,12)-1),t),s=n;s<=a;s=s+o){var l=nc(s,o);i.push(l)}return{min:n,max:a,ticks:i}}function fd(r,e,t){var n,a=r.minLimit,i=r.maxLimit,o=r.min,s=r.max,l=r.tickCount,u=l===void 0?5:l,c=B(a)?B(e)?o:e:a,f=B(i)?B(t)?s:t:i;if(c>f&&(n=[c,f],f=n[0],c=n[1]),u<=2)return[c,f];for(var h=(f-c)/(u-1),v=[],d=0;d<u;d++)v.push(c+h*d);return v}function GE(r){var e=r.min,t=r.max,n=r.tickInterval,a=r.minLimit,i=r.maxLimit,o=VE(r);return!B(a)||!B(i)?fd(r,rr(o),Me(o)):n?cd(e,t,n).ticks:o}function Nn(r){return Math.abs(r)<1e-15?r:parseFloat(r.toFixed(15))}var WE=[1,5,2,2.5,4,3],Zy=Number.EPSILON*100;function XE(r,e){return(r%e+e)%e}function UE(r){return Math.round(r*1e12)/1e12}function qE(r,e,t,n,a,i){var o=qe(e),s=dx(e,r),l=0,u=XE(n,i);return(u<Zy||i-u<Zy)&&n<=0&&a>=0&&(l=1),1-s/(o-1)-t+l}function jE(r,e,t){var n=qe(e),a=dx(e,r),i=1;return 1-a/(n-1)-t+i}function QE(r,e,t,n,a,i){var o=(r-1)/(i-a),s=(e-1)/(Math.max(i,n)-Math.min(t,a));return 2-Math.max(o/s,s/o)}function ZE(r,e){return r>=e?2-(r-1)/(e-1):1}function KE(r,e,t,n){var a=e-r;return 1-.5*(Math.pow(e-n,2)+Math.pow(r-t,2))/Math.pow(.1*a,2)}function JE(r,e,t){var n=e-r;if(t>n){var a=(t-n)/2;return 1-Math.pow(a,2)/Math.pow(.1*n,2)}return 1}function tI(){return 1}function eI(r,e,t,n,a,i){t===void 0&&(t=5),n===void 0&&(n=!0),a===void 0&&(a=WE),i===void 0&&(i=[.25,.2,.5,.05]);var o=t<0?0:Math.round(t);if(Number.isNaN(r)||Number.isNaN(e)||typeof r!="number"||typeof e!="number"||!o)return{min:0,max:0,ticks:[]};if(e-r<1e-15||o===1)return{min:r,max:e,ticks:[r]};if(e-r>1e148){var s=t||5,l=(e-r)/s;return{min:r,max:e,ticks:Array(s).fill(null).map(function(rt,wt){return Nn(r+l*wt)})}}for(var u={score:-2,lmin:0,lmax:0,lstep:0},c=1;c<1/0;){for(var f=0;f<a.length;f+=1){var h=a[f],v=jE(h,a,c);if(i[0]*v+i[1]+i[2]+i[3]<u.score){c=1/0;break}for(var d=2;d<1/0;){var p=ZE(d,o);if(i[0]*v+i[1]+i[2]*p+i[3]<u.score)break;for(var g=(e-r)/(d+1)/c/h,y=Math.ceil(Math.log10(g));y<1/0;){var w=c*h*Math.pow(10,y),x=JE(r,e,w*(d-1));if(i[0]*v+i[1]*x+i[2]*p+i[3]<u.score)break;var m=Math.floor(e/w)*c-(d-1)*c,C=Math.ceil(r/w)*c;if(m<=C)for(var s=C-m,S=0;S<=s;S+=1){var T=m+S,A=T*(w/c),k=A+w*(d-1),D=w,$=qE(h,a,c,A,k,D),L=KE(r,e,A,k),F=QE(d,o,r,e,A,k),X=tI(),j=i[0]*$+i[1]*L+i[2]*F+i[3]*X;j>u.score&&(!n||A<=r&&k>=e)&&(u.lmin=A,u.lmax=k,u.lstep=D,u.score=j)}y+=1}d+=1}}c+=1}var Z=Nn(u.lmax),ot=Nn(u.lmin),dt=Nn(u.lstep),ut=Math.floor(UE((Z-ot)/dt))+1,nt=new Array(ut);nt[0]=Nn(ot);for(var f=1;f<ut;f++)nt[f]=Nn(nt[f-1]+dt);return{min:Math.min(r,rr(nt)),max:Math.max(e,Me(nt)),ticks:nt}}function rI(r){var e=r.min,t=r.max,n=r.tickCount,a=r.nice,i=r.tickInterval,o=r.minLimit,s=r.maxLimit,l=eI(e,t,n,a).ticks;return!B(o)||!B(s)?fd(r,rr(l),Me(l)):i?cd(e,t,i).ticks:l}function nI(r){var e=r.base,t=r.tickCount,n=r.min,a=r.max,i=r.values,o,s=lr(e,a);if(n>0)o=Math.floor(lr(e,n));else{var l=Sw(i,e,a);o=Math.floor(lr(e,l))}for(var u=s-o,c=Math.ceil(u/t),f=[],h=o;h<s+c;h=h+c)f.push(Math.pow(e,h));return n<=0&&f.unshift(0),f}function Ow(r,e,t){if(t===void 0&&(t=5),r===e)return{max:e,min:r,ticks:[r]};var n=t<0?0:Math.round(t);if(n===0)return{max:e,min:r,ticks:[]};var a=1.5,i=.5+1.5*a,o=e-r,s=o/n,l=Math.pow(10,Math.floor(Math.log10(s))),u=l;2*l-s<a*(s-u)&&(u=2*l,5*l-s<i*(s-u)&&(u=5*l,10*l-s<a*(s-u)&&(u=10*l)));for(var c=Math.ceil(e/u),f=Math.floor(r/u),h=Math.max(c*u,e),v=Math.min(f*u,r),d=Math.floor((h-v)/u)+1,p=new Array(d),g=0;g<d;g++)p[g]=Nn(v+g*u);return{min:v,max:h,ticks:p}}function aI(r){var e=r.exponent,t=r.tickCount,n=Math.ceil(hn(e,r.max)),a=Math.floor(hn(e,r.min)),i=Ow(a,n,t).ticks;return i.map(function(o){var s=o>=0?1:-1;return Math.pow(o,e)*s})}function iI(r,e){var t=r.length*e;return e===1?r[r.length-1]:e===0?r[0]:t%1!==0?r[Math.ceil(t)-1]:r.length%2===0?(r[t-1]+r[t])/2:r[t]}function oI(r){var e=r.tickCount,t=r.values;if(!t||!t.length)return[];for(var n=t.slice().sort(function(s,l){return s-l}),a=[],i=0;i<e;i++){var o=i/(e-1);a.push(iI(n,o))}return a}function sI(r){var e=r.min,t=r.max,n=r.tickCount,a=r.tickInterval,i=r.minLimit,o=r.maxLimit,s=Ow(e,t,n).ticks;return!B(i)||!B(o)?fd(r,rr(s),Me(s)):a?cd(e,t,a).ticks:s}function lI(r){var e=r.min,t=r.max,n=r.minTickInterval,a=r.tickInterval,i=r.tickCount;if(a)i=Math.ceil((t-e)/a);else{a=RE(e,t,i)[1];var o=(t-e)/a,s=o/i;s>1&&(a=a*Math.ceil(s)),n&&a<n&&(a=n)}a=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),a);for(var l=[],u=e;u<t+a;u+=a)l.push(u);return l}function uI(r){var e=Pw(b({showLast:!0},r));return e}function Vl(r){return new Date(r).getFullYear()}function cI(r){return new Date(r,0,1).getTime()}function nv(r){return new Date(r).getMonth()}function fI(r,e){var t=Vl(r),n=Vl(e),a=nv(r),i=nv(e);return(n-t)*12+(i-a)%12}function hI(r,e){return new Date(r,e,1).getTime()}function vI(r,e){return Math.ceil((e-r)/qr)}function dI(r,e){return Math.ceil((e-r)/qn)}function pI(r,e){return Math.ceil((e-r)/(60*1e3))}function gI(r){var e=r.min,t=r.max,n=r.minTickInterval,a=r.tickCount,i=r.tickInterval,o=[];i||(i=(t-e)/a,n&&i<n&&(i=n)),i=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),i);var s=Vl(e);if(i>Xy)for(var l=Vl(t),u=Math.ceil(i/Xy),c=s;c<=l+u;c=c+u)o.push(cI(c));else if(i>Ei)for(var f=Math.ceil(i/Ei),h=nv(e),v=fI(e,t),c=0;c<=v+f;c=c+f)o.push(hI(s,c+h));else if(i>qr)for(var d=new Date(e),p=d.getFullYear(),g=d.getMonth(),y=d.getDate(),w=Math.ceil(i/qr),x=vI(e,t),c=0;c<x+w;c=c+w)o.push(new Date(p,g,y+c).getTime());else if(i>qn)for(var d=new Date(e),p=d.getFullYear(),g=d.getMonth(),w=d.getDate(),m=d.getHours(),C=Math.ceil(i/qn),S=dI(e,t),c=0;c<=S+C;c=c+C)o.push(new Date(p,g,w,m+c).getTime());else if(i>Un)for(var T=pI(e,t),A=Math.ceil(i/Un),c=0;c<=T+A;c=c+A)o.push(e+c*Un);else{var k=i;k<xr&&(k=xr);for(var D=Math.floor(e/xr)*xr,$=Math.ceil((t-e)/xr),L=Math.ceil(k/xr),c=0;c<$+L;c=c+L)o.push(D+c*xr)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+i+") is too small, increase the value to solve the problem!"),o}Vr("cat",Pw);Vr("time-cat",uI);Vr("wilkinson-extended",rI);Vr("r-pretty",sI);Vr("time",lI);Vr("time-pretty",gI);Vr("log",nI);Vr("pow",aI);Vr("quantile",oI);Vr("d3-linear",GE);Hr("cat",Mu);Hr("category",Mu);Hr("identity",NE);Hr("linear",Pu);Hr("log",BE);Hr("pow",FE);Hr("time",$E);Hr("timeCat",LE);Hr("quantize",Mw);Hr("quantile",YE);var kw={},Aw=function(r){return kw[r.toLowerCase()]},co=function(r,e){if(Aw(r))throw new Error("Attribute type '".concat(r,"' existed."));kw[r.toLowerCase()]=e};co("Color",wE);co("Opacity",bE);co("Position",CE);co("Shape",SE);co("Size",ME);var hd=function(){function r(e){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var t=e.start,n=e.end,a=e.matrix,i=a===void 0?[1,0,0,0,1,0,0,0,1]:a,o=e.isTransposed,s=o===void 0?!1:o;this.start=t,this.end=n,this.matrix=i,this.originalMatrix=Dt([],i),this.isTransposed=s}return r.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},r.prototype.update=function(e){Jt(this,e),this.initial()},r.prototype.convertDim=function(e,t){var n,a=this[t],i=a.start,o=a.end;return this.isReflect(t)&&(n=[o,i],i=n[0],o=n[1]),i+e*(o-i)},r.prototype.invertDim=function(e,t){var n,a=this[t],i=a.start,o=a.end;return this.isReflect(t)&&(n=[o,i],i=n[0],o=n[1]),(e-i)/(o-i)},r.prototype.applyMatrix=function(e,t,n){n===void 0&&(n=0);var a=this.matrix,i=[e,t,n];return Hi(i,i,a),i},r.prototype.invertMatrix=function(e,t,n){n===void 0&&(n=0);var a=this.matrix,i=G2([0,0,0,0,0,0,0,0,0],a),o=[e,t,n];return i&&Hi(o,o,i),o},r.prototype.convert=function(e){var t=this.convertPoint(e),n=t.x,a=t.y,i=this.applyMatrix(n,a,1);return{x:i[0],y:i[1]}},r.prototype.invert=function(e){var t=this.invertMatrix(e.x,e.y,1);return this.invertPoint({x:t[0],y:t[1]})},r.prototype.rotate=function(e){var t=this.matrix,n=this.center;return wa(t,t,[-n.x,-n.y]),Jv(t,t,e),wa(t,t,[n.x,n.y]),this},r.prototype.reflect=function(e){return e==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},r.prototype.scale=function(e,t){var n=this.matrix,a=this.center;return wa(n,n,[-a.x,-a.y]),Ax(n,n,[e,t]),wa(n,n,[a.x,a.y]),this},r.prototype.translate=function(e,t){var n=this.matrix;return wa(n,n,[e,t]),this},r.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},r.prototype.getCenter=function(){return this.center},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRadius=function(){return this.radius},r.prototype.isReflect=function(e){return e==="x"?this.isReflectX:this.isReflectY},r.prototype.resetMatrix=function(e){this.matrix=e||Dt([],this.originalMatrix)},r}(),Dw=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return e.prototype.initial=function(){r.prototype.initial.call(this);var t=this.start,n=this.end;this.x={start:t.x,end:n.x},this.y={start:t.y,end:n.y}},e.prototype.convertPoint=function(t){var n,a=t.x,i=t.y;return this.isTransposed&&(n=[i,a],a=n[0],i=n[1]),{x:this.convertDim(a,"x"),y:this.convertDim(i,"y")}},e.prototype.invertPoint=function(t){var n,a=this.invertDim(t.x,"x"),i=this.invertDim(t.y,"y");return this.isTransposed&&(n=[i,a],a=n[0],i=n[1]),{x:a,y:i}},e}(hd),yI=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;n.isHelix=!0,n.type="helix";var a=t.startAngle,i=a===void 0?1.25*Math.PI:a,o=t.endAngle,s=o===void 0?7.25*Math.PI:o,l=t.innerRadius,u=l===void 0?0:l,c=t.radius;return n.startAngle=i,n.endAngle=s,n.innerRadius=u,n.radius=c,n.initial(),n}return e.prototype.initial=function(){r.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n=n*this.radius),this.d=Math.floor(n*(1-this.innerRadius)/t),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+this.d*.99}},e.prototype.convertPoint=function(t){var n,a=t.x,i=t.y;this.isTransposed&&(n=[i,a],a=n[0],i=n[1]);var o=this.convertDim(a,"x"),s=this.a*o,l=this.convertDim(i,"y");return{x:this.center.x+Math.cos(o)*(s+l),y:this.center.y+Math.sin(o)*(s+l)}},e.prototype.invertPoint=function(t){var n,a=this.d+this.y.start,i=Ox([0,0],[t.x,t.y],[this.center.x,this.center.y]),o=td(i,[1,0],!0),s=o*this.a;Ma(i)<s&&(s=Ma(i));var l=Math.floor((Ma(i)-s)/a);o=2*l*Math.PI+o;var u=this.a*o,c=Ma(i)-u;c=Ce(c,0)?0:c;var f=this.invertDim(o,"x"),h=this.invertDim(c,"y");return f=Ce(f,0)?0:f,h=Ce(h,0)?0:h,this.isTransposed&&(n=[h,f],f=n[0],h=n[1]),{x:f,y:h}},e}(hd),mI=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;n.isPolar=!0,n.type="polar";var a=t.startAngle,i=a===void 0?-Math.PI/2:a,o=t.endAngle,s=o===void 0?Math.PI*3/2:o,l=t.innerRadius,u=l===void 0?0:l,c=t.radius;return n.startAngle=i,n.endAngle=s,n.innerRadius=u,n.radius=c,n.initial(),n}return e.prototype.initial=function(){for(r.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var t=this.getOneBox(),n=t.maxX-t.minX,a=t.maxY-t.minY,i=Math.abs(t.minX)/n,o=Math.abs(t.minY)/a,s;this.height/a>this.width/n?(s=this.width/n,this.circleCenter={x:this.center.x-(.5-i)*this.width,y:this.center.y-(.5-o)*s*a}):(s=this.height/a,this.circleCenter={x:this.center.x-(.5-i)*s*n,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=s*this.radius:(this.radius<=0||this.radius>s)&&(this.polarRadius=s):this.polarRadius=s,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var n,a=this.getCenter(),i=t.x,o=t.y;return this.isTransposed&&(n=[o,i],i=n[0],o=n[1]),i=this.convertDim(i,"x"),o=this.convertDim(o,"y"),{x:a.x+Math.cos(i)*o,y:a.y+Math.sin(i)*o}},e.prototype.invertPoint=function(t){var n,a=this.getCenter(),i=[t.x-a.x,t.y-a.y],o=this,s=o.startAngle,l=o.endAngle;this.isReflect("x")&&(n=[l,s],s=n[0],l=n[1]);var u=[1,0,0,0,1,0,0,0,1];Jv(u,u,s);var c=[1,0,0];Hi(c,c,u);var f=[c[0],c[1]],h=td(f,i,l<s);Ce(h,Math.PI*2)&&(h=0);var v=Ma(i),d=h/(l-s);d=l-s>0?d:-d;var p=this.invertDim(v,"y"),g={x:0,y:0};return g.x=this.isTransposed?p:d,g.y=this.isTransposed?d:p,g},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,n=this.endAngle;if(Math.abs(n-t)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var a=[0,Math.cos(t),Math.cos(n)],i=[0,Math.sin(t),Math.sin(n)],o=Math.min(t,n);o<Math.max(t,n);o+=Math.PI/18)a.push(Math.cos(o)),i.push(Math.sin(o));return{minX:Math.min.apply(Math,a),maxX:Math.max.apply(Math,a),minY:Math.min.apply(Math,i),maxY:Math.max.apply(Math,i)}},e}(hd),_w={},xI=function(r){return _w[r.toLowerCase()]},Ou=function(r,e){_w[r.toLowerCase()]=e};Ou("rect",Dw);Ou("cartesian",Dw);Ou("polar",mI);Ou("helix",yI);function Ew(r,e,t){var n=new so(e,t);n.target=r,n.propagationPath.push(r),r.emitDelegation(e,n);for(var a=r.getParent();a;)a.emitDelegation(e,n),n.propagationPath.push(a),a=a.getParent()}var Iw=[1,0,0,0,1,0,0,0,1];function ea(r,e,t){if(t===void 0&&(t=Iw),!e)return null;var n=oe(t,[["t",-r.x,-r.y],["r",e],["t",r.x,r.y]]);return n}function vd(r,e){return!r.x&&!r.y?null:oe(e||Iw,[["t",r.x,r.y]])}function wI(r){var e=[1,0,0],t=[0,0,0];return Hi(t,e,r),Math.atan2(t[1],t[0])}function Io(r,e){var t=[0,0];return Z2(t,e,r),t}function bI(r,e){var t=Io(r,[e.minX,e.minY]),n=Io(r,[e.maxX,e.minY]),a=Io(r,[e.minX,e.maxY]),i=Io(r,[e.maxX,e.maxY]),o=Math.min(t[0],n[0],a[0],i[0]),s=Math.max(t[0],n[0],a[0],i[0]),l=Math.min(t[1],n[1],a[1],i[1]),u=Math.max(t[1],n[1],a[1],i[1]);return{x:o,y:l,minX:o,minY:l,maxX:s,maxY:u,width:s-o,height:u-l}}function Rw(r,e,t,n){if(e){var a=ea({x:t,y:n},e,r.getMatrix());r.setMatrix(a)}}function dd(r,e,t){var n=vd({x:e,y:t});r.attr("matrix",n)}function Hl(r){var e=0,t=0,n=0,a=0;return Pt(r)?e=t=n=a=r:Y(r)&&(e=r[0],n=B(r[1])?r[0]:r[1],a=B(r[2])?r[0]:r[2],t=B(r[3])?n:r[3]),[e,n,a,t]}function pd(r){for(var e=r.childNodes,t=e.length,n=t-1;n>=0;n--)r.removeChild(e[n])}function CI(r,e){return!!r.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function ji(r){var e=r.start,t=r.end,n=Math.min(e.x,t.x),a=Math.min(e.y,t.y),i=Math.max(e.x,t.x),o=Math.max(e.y,t.y);return{x:n,y:a,minX:n,minY:a,maxX:i,maxY:o,width:i-n,height:o-a}}function SI(r){var e=r.map(function(s){return s.x}),t=r.map(function(s){return s.y}),n=Math.min.apply(Math,e),a=Math.min.apply(Math,t),i=Math.max.apply(Math,e),o=Math.max.apply(Math,t);return{x:n,y:a,minX:n,minY:a,maxX:i,maxY:o,width:i-n,height:o-a}}function ku(r,e,t,n){var a=r+t,i=e+n;return{x:r,y:e,width:t,height:n,minX:r,minY:e,maxX:isNaN(a)?0:a,maxY:isNaN(i)?0:i}}function jn(r,e,t){return(1-t)*r+e*t}function Aa(r,e,t){return{x:r.x+Math.cos(t)*e,y:r.y+Math.sin(t)*e}}function MI(r,e){var t=e.x-r.x,n=e.y-r.y;return Math.sqrt(t*t+n*n)}var zl=function(r,e,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[r,e].includes(1/0)?Math.abs(r)===Math.abs(e):Math.abs(r-e)<t};function TI(r,e){var t=Math.max(r.minX,e.minX),n=Math.max(r.minY,e.minY),a=Math.min(r.maxX,e.maxX),i=Math.min(r.maxY,e.maxY);return ku(t,n,a-t,i-n)}function Lw(r){var e=r.getClip(),t=e&&e.getBBox(),n;if(!r.isGroup())n=r.getBBox();else{var a=1/0,i=-1/0,o=1/0,s=-1/0,l=r.getChildren();l.length>0?M(l,function(u){if(u.get("visible")){if(u.isGroup()&&u.get("children").length===0)return!0;var c=Lw(u),f=u.applyToMatrix([c.minX,c.minY,1]),h=u.applyToMatrix([c.minX,c.maxY,1]),v=u.applyToMatrix([c.maxX,c.minY,1]),d=u.applyToMatrix([c.maxX,c.maxY,1]),p=Math.min(f[0],h[0],v[0],d[0]),g=Math.max(f[0],h[0],v[0],d[0]),y=Math.min(f[1],h[1],v[1],d[1]),w=Math.max(f[1],h[1],v[1],d[1]);p<a&&(a=p),g>i&&(i=g),y<o&&(o=y),w>s&&(s=w)}}):(a=0,i=0,o=0,s=0),n=ku(a,o,i-a,s-o)}return t?TI(n,t):n}function PI(r,e){if(!(!r.getClip()&&!e.getClip())){var t=e.getClip();if(!t){r.setClip(null);return}var n={type:t.get("type"),attrs:t.attr()};r.setClip(n)}}function He(r){return r+"px"}function Bw(r,e,t,n){var a=MI(r,e),i=n/a,o=0;return t==="start"?o=0-i:t==="end"&&(o=1+i),{x:jn(r.x,e.x,o),y:jn(r.y,e.y,o)}}var OI={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Fw=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;return n.initCfg(),n}return e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var n=this,a=this.get("defaultCfg")||{};M(t,function(i,o){var s=n.get(o),l=i;s!==i&&(Vt(i)&&a[o]&&(l=G({},a[o],i)),n.set(o,l))}),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){Na(t,"visible")&&(t.visible?this.show():this.hide()),Na(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,n){this.update({offsetX:t,offsetY:n})},e.prototype.setLocation=function(t){var n=b({},t);this.update(n)},e.prototype.getLocation=function(){var t=this,n={},a=this.get("locationType"),i=OI[a];return M(i,function(o){n[o]=t.get(o)}),n},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,n=this.get("defaultCfg");M(n,function(a,i){var o=t.get(i);if(Vt(o)){var s=G({},a,o);t.set(i,s)}})},e}(uu),Fn="update_status",kI=["visible","tip","delegateObject"],AI=["container","group","shapesMap","isRegister","isUpdating","destroyed"],ke=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear();var t=this.get("group");t.remove()},e.prototype.clear=function(){var t=this.get("group");t.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var n=this.getElementById(t),a=n&&n.get("component");return a},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var n=this.getElementId(t);return this.getElementById(n)},e.prototype.getElementsByName=function(t){var n=[];return M(this.get("shapesMap"),function(a){a.get("name")===t&&n.push(a)}),n},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var n=this.get("group");this.updateElements(t,n),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){var t=this.get("group");t.show(),this.set("visible",!0)},e.prototype.hide=function(){var t=this.get("group");t.hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){var n=this.get("group");n.set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),r.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),n=this.getInnerLayoutBBox(),a=t.getTotalMatrix();return a&&(n=bI(a,n)),n},e.prototype.on=function(t,n,a){var i=this.get("group");return i.on(t,n,a),this},e.prototype.off=function(t,n){var a=this.get("group");return a&&a.off(t,n),this},e.prototype.emit=function(t,n){var a=this.get("group");a.emit(t,n)},e.prototype.init=function(){r.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,n){var a=this.get("group");n.target=a,a.emit(t,n),Ew(a,t,n)},e.prototype.createOffScreenGroup=function(){var t=this.get("group"),n=t.getGroupBase(),a=new n({delegateObject:this.getDelegateObject()});return a},e.prototype.applyOffset=function(){var t=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:n})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",Lw(t)),t},e.prototype.addGroup=function(t,n){this.appendDelegateObject(t,n);var a=t.addGroup(n);return this.get("isRegister")&&this.registerElement(a),a},e.prototype.addShape=function(t,n){this.appendDelegateObject(t,n);var a=t.addShape(n);return this.get("isRegister")&&this.registerElement(a),a},e.prototype.addComponent=function(t,n){var a=n.id,i=n.component,o=be(n,["id","component"]),s=new i(b(b({},o),{id:a,container:t,updateAutoRender:this.get("updateAutoRender")}));return s.init(),s.render(),this.get("isRegister")&&this.registerElement(s.get("group")),s},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){var t=this.get("group");t.off()},e.prototype.getElementId=function(t){var n=this.get("id"),a=this.get("name");return n+"-"+a+"-"+t},e.prototype.registerElement=function(t){var n=t.get("id");this.get("shapesMap")[n]=t},e.prototype.unregisterElement=function(t){var n=t.get("id");delete this.get("shapesMap")[n]},e.prototype.moveElementTo=function(t,n){var a=vd(n);t.attr("matrix",a)},e.prototype.addAnimation=function(t,n,a){var i=n.attr("opacity");B(i)&&(i=1),n.attr("opacity",0),n.animate({opacity:i},a)},e.prototype.removeAnimation=function(t,n,a){n.animate({opacity:0},a)},e.prototype.updateAnimation=function(t,n,a,i){n.animate(a,i)},e.prototype.updateElements=function(t,n){var a=this,i=this.get("animate"),o=this.get("animateOption"),s=t.getChildren().slice(0),l;M(s,function(u){var c=u.get("id"),f=a.getElementById(c),h=u.get("name");if(f)if(u.get("isComponent")){var v=u.get("component"),d=f.get("component"),p=jv(v.cfg,IA(oo(v.cfg),AI));d.update(p),f.set(Fn,"update")}else{var g=a.getReplaceAttrs(f,u);i&&o.update?a.updateAnimation(h,f,g,o.update):f.attr(g),u.isGroup()&&a.updateElements(u,f),M(kI,function(m){f.set(m,u.get(m))}),PI(f,u),l=f,f.set(Fn,"update")}else{n.add(u);var y=n.getChildren();if(y.splice(y.length-1,1),l){var w=y.indexOf(l);y.splice(w+1,0,u)}else y.unshift(u);if(a.registerElement(u),u.set(Fn,"add"),u.get("isComponent")){var v=u.get("component");v.set("container",n)}else u.isGroup()&&a.registerNewGroup(u);if(l=u,i){var x=a.get("isInit")?o.appear:o.enter;x&&a.addAnimation(h,u,x)}}})},e.prototype.clearUpdateStatus=function(t){var n=t.getChildren();M(n,function(a){a.set(Fn,null)})},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t,n=this.get("name"),a=(t={},t[n]=this,t.component=this,t);return a},e.prototype.appendDelegateObject=function(t,n){var a=t.get("delegateObject");n.delegateObject||(n.delegateObject={}),Jt(n.delegateObject,a)},e.prototype.getReplaceAttrs=function(t,n){var a=t.attr(),i=n.attr();return M(a,function(o,s){i[s]===void 0&&(i[s]=void 0)}),i},e.prototype.registerNewGroup=function(t){var n=this,a=t.getChildren();M(a,function(i){n.registerElement(i),i.set(Fn,"add"),i.isGroup()&&n.registerNewGroup(i)})},e.prototype.deleteElements=function(){var t=this,n=this.get("shapesMap"),a=[];M(n,function(s,l){!s.get(Fn)||s.destroyed?a.push([l,s]):s.set(Fn,null)});var i=this.get("animate"),o=this.get("animateOption");M(a,function(s){var l=s[0],u=s[1];if(!u.destroyed){var c=u.get("name");if(i&&o.leave){var f=Jt({callback:function(){t.removeElement(u)}},o.leave);t.removeAnimation(c,u,f)}else t.removeElement(u)}delete n[l]})},e.prototype.removeElement=function(t){if(t.get("isGroup")){var n=t.get("component");n&&n.destroy()}t.remove()},e}(Fw),yc="…";function DI(r){for(var e=0,t=0;t<r.length;t++)e+=Vn(r,t);return e}function Vn(r,e){return r.charCodeAt(e)>0&&r.charCodeAt(e)<128?1:2}function _I(r,e,t){t===void 0&&(t="tail");var n=r.length,a="";if(t==="tail"){for(var i=0,o=0;i<e;){var s=Vn(r,o);if(i+s<=e)a+=r[o],i+=Vn(r,o),o++;else break}a+=yc}else if(t==="head"){for(var i=0,o=n-1;i<e;){var s=Vn(r,o);if(i+s<=e)a+=r[o],i+=Vn(r,o),o--;else break}a=yc+a}else{for(var l="",u="",i=0,c=0,f=n-1;i<e;){var h=Vn(r,c),v=!1;h+i<=e&&(l+=r[c],c++,i+=h,v=!0);var d=Vn(r,f);if(d+i<=e&&(u=r[f]+u,i+=d,f--,v=!0),!v)break}a=l+yc+u}return a}var EI="…",II=2,RI=400;function LI(r){for(var e=r.map(function(l){var u=l.attr("text");return B(u)?"":""+u}),t=0,n=0,a=0;a<e.length;a+=1){for(var i=0,o=0;o<=e[a].length;o+=1){var s=e[a].charCodeAt(o);s>=19968&&s<=40869?i+=2:i+=1}i>t&&(t=i,n=a)}return r[n].getBBox().width}function av(r){if(r.length>RI)return LI(r);var e=0;return M(r,function(t){var n=t.getBBox(),a=n.width;e<a&&(e=a)}),e}function BI(r,e){var t=e.getCanvasBBox();return r?t.width:t.height}function Ii(r,e,t,n){var a;n===void 0&&(n="tail");var i=(a=e.attr("text"))!==null&&a!==void 0?a:"";if(n==="tail"){var o=jv(e.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),s=i2(i,t,o,"…");return i!==s?(e.attr("text",s),e.set("tip",i),!0):(e.set("tip",null),!1)}var l=BI(r,e),u=DI(i),c=!1;if(t<l){var f=Math.floor(t/l*u)-II,h=void 0;f>=0?h=_I(i,f,n):h=EI,h&&(e.attr("text",h),c=!0)}return c?e.set("tip",i):e.set("tip",null),c}function Au(r,e){var t=e.x,n=e.y,a=e.content,i=e.style,o=e.id,s=e.name,l=e.rotate,u=e.maxLength,c=e.autoEllipsis,f=e.isVertical,h=e.ellipsisPosition,v=e.background,d=r.addGroup({id:o+"-group",name:s+"-group",attrs:{x:t,y:n}}),p=d.addShape({type:"text",id:o,name:s,attrs:b({x:0,y:0,text:a},i)}),g=Hl(O(v,"padding",0));if(u&&c){var y=u-(g[1]+g[3]);Ii(!f,p,y,h)}if(v){var w=O(v,"style",{}),x=p.getCanvasBBox(),m=x.minX,C=x.minY,S=x.width,T=x.height,A=d.addShape("rect",{id:o+"-bg",name:o+"-bg",attrs:b({x:m-g[3],y:C-g[0],width:S+g[1]+g[3],height:T+g[0]+g[2]},w)});A.toBack()}dd(d,t,n),Rw(d,l,t,n)}const ht={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"};var FI=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:ht.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:ht.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:ht.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var n=this.get("start"),a=this.get("end"),i=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:b({x1:n.x,y1:n.y,x2:a.x,y2:a.y},i)})},e.prototype.getLabelPoint=function(t,n,a){var i;return a==="start"?i=0:a==="center"?i=.5:ct(a)&&a.indexOf("%")!==-1?i=parseInt(a,10)/100:Pt(a)?i=a:i=1,(i>1||i<0)&&(i=1),{x:jn(t.x,n.x,i),y:jn(t.y,n.y,i)}},e.prototype.renderLabel=function(t){var n=this.get("text"),a=this.get("start"),i=this.get("end"),o=n.position,s=n.content,l=n.style,u=n.offsetX,c=n.offsetY,f=n.autoRotate,h=n.maxLength,v=n.autoEllipsis,d=n.ellipsisPosition,p=n.background,g=n.isVertical,y=g===void 0?!1:g,w=this.getLabelPoint(a,i,o),x=w.x+u,m=w.y+c,C={id:this.getElementId("line-text"),name:"annotation-line-text",x,y:m,content:s,style:l,maxLength:h,autoEllipsis:v,ellipsisPosition:d,background:p,isVertical:y};if(f){var S=[i.x-a.x,i.y-a.y];C.rotate=Math.atan2(S[1],S[0])}Au(t,C)},e}(ke),$I=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:ht.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:ht.fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var n=this.getLocation(),a=n.x,i=n.y,o=this.get("content"),s=this.get("style"),l=this.getElementId("text"),u=this.get("name")+"-text",c=this.get("maxLength"),f=this.get("autoEllipsis"),h=this.get("isVertical"),v=this.get("ellipsisPosition"),d=this.get("background"),p=this.get("rotate"),g={id:l,name:u,x:a,y:i,content:o,style:s,maxLength:c,autoEllipsis:f,isVertical:h,ellipsisPosition:v,background:d,rotate:p};Au(t,g)},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var n=this.getLocation(),a=n.x,i=n.y,o=this.get("rotate");dd(t,a,i),Rw(t,o,a,i)}},e}(ke),YI=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),n=t.center,a=t.radius,i=t.startAngle,o=t.endAngle,s=Aa(n,a,i),l=Aa(n,a,o),u=o-i>Math.PI?1:0,c=[["M",s.x,s.y]];if(o-i===Math.PI*2){var f=Aa(n,a,i+Math.PI);c.push(["A",a,a,0,u,1,f.x,f.y]),c.push(["A",a,a,0,u,1,l.x,l.y])}else c.push(["A",a,a,0,u,1,l.x,l.y]);return c},e.prototype.renderArc=function(t){var n=this.getArcPath(),a=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:b({path:n},a)})},e}(ke),NI=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:ht.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var n=this.get("start"),a=this.get("end"),i=this.get("style"),o=ji({start:n,end:a});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:b({x:o.x,y:o.y,width:o.width,height:o.height},i)})},e}(ke),VI=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),n=this.get("end"),a=this.get("style"),i=ji({start:t,end:n}),o=this.get("src");return b({x:i.x,y:i.y,img:o,width:i.width,height:i.height},a)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(ke),HI=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:ht.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:ht.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:ht.fontFamily}}}})},e.prototype.renderInner=function(t){O(this.get("line"),"display")&&this.renderLine(t),O(this.get("text"),"display")&&this.renderText(t),O(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var n=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:n})},e.prototype.renderLine=function(t){var n=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:n})},e.prototype.renderText=function(t){var n=this.getShapeAttrs().text,a=n.x,i=n.y,o=n.text,s=be(n,["x","y","text"]),l=this.get("text"),u=l.background,c=l.maxLength,f=l.autoEllipsis,h=l.isVertival,v=l.ellipsisPosition,d={x:a,y:i,id:this.getElementId("text"),name:"annotation-text",content:o,style:s,background:u,maxLength:c,autoEllipsis:f,isVertival:h,ellipsisPosition:v};Au(t,d)},e.prototype.autoAdjust=function(t){var n=this.get("direction"),a=this.get("x"),i=this.get("y"),o=O(this.get("line"),"length",0),s=this.get("coordinateBBox"),l=t.getBBox(),u=l.minX,c=l.maxX,f=l.minY,h=l.maxY,v=t.findById(this.getElementId("text-group")),d=t.findById(this.getElementId("text")),p=t.findById(this.getElementId("line"));if(s&&v){var g=v.attr("x"),y=v.attr("y"),w=d.getCanvasBBox(),x=w.width,m=w.height,C=0,S=0;if(a+u<=s.minX)if(n==="leftward")C=1;else{var T=s.minX-(a+u);g=v.attr("x")+T}else if(a+c>=s.maxX)if(n==="rightward")C=-1;else{var T=a+c-s.maxX;g=v.attr("x")-T}if(C&&(p&&p.attr("path",[["M",0,0],["L",o*C,0]]),g=(o+2+x)*C),i+f<=s.minY)if(n==="upward")S=1;else{var T=s.minY-(i+f);y=v.attr("y")+T}else if(i+h>=s.maxY)if(n==="downward")S=-1;else{var T=i+h-s.maxY;y=v.attr("y")-T}S&&(p&&p.attr("path",[["M",0,0],["L",0,o*S]]),y=(o+2+m)*S),(g!==v.attr("x")||y!==v.attr("y"))&&dd(v,g,y)}},e.prototype.getShapeAttrs=function(){var t=O(this.get("line"),"display"),n=O(this.get("point"),"style",{}),a=O(this.get("line"),"style",{}),i=O(this.get("text"),"style",{}),o=this.get("direction"),s=t?O(this.get("line"),"length",0):0,l=0,u=0,c="top",f="start";switch(o){case"upward":u=-1,c="bottom";break;case"downward":u=1,c="top";break;case"leftward":l=-1,f="end";break;case"rightward":l=1,f="start";break}return{point:b({x:0,y:0},n),line:b({path:[["M",0,0],["L",s*l,s*u]]},a),text:b({x:(s+2)*l,y:(s+2)*u,text:O(this.get("text"),"content",""),textBaseline:c,textAlign:f},i)}},e}(ke),zI=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:ht.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:ht.textColor,fontFamily:ht.fontFamily}}}})},e.prototype.renderInner=function(t){var n=O(this.get("region"),"style",{});O(this.get("text"),"style",{});var a=this.get("lineLength")||0,i=this.get("points");if(i.length){var o=SI(i),s=[];s.push(["M",i[0].x,o.minY-a]),i.forEach(function(u){s.push(["L",u.x,u.y])}),s.push(["L",i[i.length-1].x,i[i.length-1].y-a]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:b({path:s},n)});var l=b({id:this.getElementId("text"),name:"annotation-text",x:(o.minX+o.maxX)/2,y:o.minY-a},this.get("text"));Au(t,l)}},e}(ke),GI=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var n=this,a=this.get("start"),i=this.get("end"),o=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});M(this.get("shapes"),function(l,u){var c=l.get("type"),f=er(l.attr());n.adjustShapeAttrs(f),n.addShape(o,{id:n.getElementId("shape-"+c+"-"+u),capture:!1,type:c,attrs:f})});var s=ji({start:a,end:i});o.setClip({type:"rect",attrs:{x:s.minX,y:s.minY,width:s.width,height:s.height}})},e.prototype.adjustShapeAttrs=function(t){var n=this.get("color");t.fill&&(t.fill=t.fillStyle=n),t.stroke=t.strokeStyle=n},e}(ke),WI=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"annotation",type:"shape",draw:pn})},e.prototype.renderInner=function(t){var n=this.get("render");J(n)&&n(t)},e}(ke),gd=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){var t=this.get("container");t.style.display="",this.set("visible",!0)},e.prototype.hide=function(){var t=this.get("container");t.style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var n=this.getContainer(),a=t?"auto":"none";n.style.pointerEvents=a,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer(),n=parseFloat(t.style.left)||0,a=parseFloat(t.style.top)||0;return ku(n,a,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){var t=this.get("container");pd(t)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),r.prototype.destroy.call(this)},e.prototype.init=function(){r.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if(B(t)){t=this.createDom();var n=this.get("parent");ct(n)&&(n=document.getElementById(n),this.set("parent",n)),n.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else ct(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),n=this.get("defaultStyles");t?t=G({},n,t):t=n,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var n=this.getContainer();this.applyChildrenStyles(n,t);var a=this.get("containerClassName");if(a&&CI(n,a)){var i=t[a];Ae(n,i)}}},e.prototype.applyChildrenStyles=function(t,n){M(n,function(a,i){var o=t.getElementsByClassName(i);M(o,function(s){Ae(s,a)})})},e.prototype.applyStyle=function(t,n){var a=this.get("domStyles");Ae(n,a[t])},e.prototype.createDom=function(){var t=this.get("containerTpl");return bn(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){Na(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(Fw),XI=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),n=this.get("html");pd(t);var a=J(n)?n(t):n;if(fx(a))t.appendChild(a);else if(ct(a)||Pt(a)){var i=bn(""+a);i&&t.appendChild(i)}this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),n=this.getLocation(),a=n.x,i=n.y,o=this.get("alignX"),s=this.get("alignY"),l=this.get("offsetX"),u=this.get("offsetY"),c=h2(t),f=c2(t),h={x:a,y:i};o==="middle"?h.x-=Math.round(c/2):o==="right"&&(h.x-=Math.round(c)),s==="middle"?h.y-=Math.round(f/2):s==="bottom"&&(h.y-=Math.round(f)),l&&(h.x+=l),u&&(h.y+=u),Ae(t,{position:"absolute",left:h.x+"px",top:h.y+"px",zIndex:this.get("zIndex")})},e}(gd);const UI=Object.freeze(Object.defineProperty({__proto__:null,Arc:YI,DataMarker:HI,DataRegion:zI,Html:XI,Image:VI,Line:FI,Region:NI,RegionFilter:GI,Shape:WI,Text:$I},Symbol.toStringTag,{value:"Module"}));function Pi(r,e,t){var n=e+"Style",a=null;return M(t,function(i,o){r[o]&&i[n]&&(a||(a={}),Jt(a,i[n]))}),a}var $w=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:ht.lineColor}},tickLine:{style:{lineWidth:1,stroke:ht.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:ht.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:ht.textColor,fontFamily:ht.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:ht.textColor,textBaseline:"middle",fontFamily:ht.fontFamily,textAlign:"center"},iconStyle:{fill:ht.descriptionIconFill,stroke:ht.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:ht.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,n){Jt(t,n),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,n,a){t[n]=a,this.updateTickStates(t)},e.prototype.hasState=function(t,n){return!!t[n]},e.prototype.getItemStates=function(t){var n=this.get("tickStates"),a=[];return M(n,function(i,o){t[o]&&a.push(o)}),a},e.prototype.clearItemsState=function(t){var n=this,a=this.getItemsByState(t);M(a,function(i){n.setItemState(i,t,!1)})},e.prototype.getItemsByState=function(t){var n=this,a=this.getItems();return hr(a,function(i){return n.hasState(i,t)})},e.prototype.getSidePoint=function(t,n){var a=this,i=a.getSideVector(n,t);return{x:t.x+i[0],y:t.y+i[1]}},e.prototype.getTextAnchor=function(t){var n;return Ce(t[0],0)?n="center":t[0]>0?n="start":t[0]<0&&(n="end"),n},e.prototype.getTextBaseline=function(t){var n;return Ce(t[1],0)?n="middle":t[1]>0?n="top":t[1]<0&&(n="bottom"),n},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var n=this.getLinePath(),a=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Jt({path:n},a.style)})},e.prototype.getTickLineItems=function(t){var n=this,a=[],i=this.get("tickLine"),o=i.alignTick,s=i.length,l=1,u=t.length;return u>=2&&(l=t[1].value-t[0].value),M(t,function(c){var f=c.point;o||(f=n.getTickPoint(c.value-l/2));var h=n.getSidePoint(f,s);a.push({startPoint:f,tickValue:c.value,endPoint:h,tickId:c.id,id:"tickline-"+c.id})}),a},e.prototype.getSubTickLineItems=function(t){var n=[],a=this.get("subTickLine"),i=a.count,o=t.length;if(o>=2)for(var s=0;s<o-1;s++)for(var l=t[s],u=t[s+1],c=0;c<i;c++){var f=(c+1)/(i+1),h=(1-f)*l.tickValue+f*u.tickValue,v=this.getTickPoint(h),d=this.getSidePoint(v,a.length);n.push({startPoint:v,endPoint:d,tickValue:h,id:"sub-"+l.id+"-"+c})}return n},e.prototype.getTickLineAttrs=function(t,n,a,i){var o=this.get(n).style,s={points:[t.startPoint,t.endPoint]},l=O(this.get("theme"),["tickLine","style"],{});o=J(o)?Jt({},l,o(s,a,i)):o;var u=t.startPoint,c=t.endPoint;return b({x1:u.x,y1:u.y,x2:c.x,y2:c.y},o)},e.prototype.drawTick=function(t,n,a,i,o){this.addShape(n,{type:"line",id:this.getElementId(t.id),name:"axis-"+a,attrs:this.getTickLineAttrs(t,a,i,o)})},e.prototype.drawTickLines=function(t){var n=this,a=this.get("ticks"),i=this.get("subTickLine"),o=this.getTickLineItems(a),s=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),l=this.get("tickLine");if(M(o,function(c,f){if(l.displayWithLabel){var h=n.getElementId("label-"+c.tickId);t.findById(h)&&n.drawTick(c,s,"tickLine",f,o)}else n.drawTick(c,s,"tickLine",f,o)}),i){var u=this.getSubTickLineItems(o);M(u,function(c,f){n.drawTick(c,s,"subTickLine",f,u)})}},e.prototype.processTicks=function(){var t=this,n=this.get("ticks");M(n,function(a){a.point=t.getTickPoint(a.value),B(a.id)&&(a.id=a.name)})},e.prototype.drawTicks=function(t){var n=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var a=this.get("ticks");M(a,function(i){n.applyTickStates(i,t)})},e.prototype.optimizeTicks=function(){var t=this.get("optimize"),n=this.get("ticks");if(t&&t.enable&&t.threshold>0){var a=qe(n);if(a>t.threshold){var i=Math.ceil(a/t.threshold),o=n.filter(function(s,l){return l%i===0});this.set("ticks",o),this.set("originalTicks",n)}}},e.prototype.getLabelAttrs=function(t,n,a){var i=this.get("label"),o=i.offset,s=i.offsetX,l=i.offsetY,u=i.rotate,c=i.formatter,f=this.getSidePoint(t.point,o),h=this.getSideVector(o,f),v=c?c(t.name,t,n):t.name,d=i.style;d=J(d)?O(this.get("theme"),["label","style"],{}):d;var p=Jt({x:f.x+s,y:f.y+l,text:v,textAlign:this.getTextAnchor(h),textBaseline:this.getTextBaseline(h)},d);return u&&(p.matrix=ea(f,u)),p},e.prototype.drawLabels=function(t){var n=this,a=this.get("ticks"),i=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});M(a,function(h,v){n.addShape(i,{type:"text",name:"axis-label",id:n.getElementId("label-"+h.id),attrs:n.getLabelAttrs(h,v,a),delegateObject:{tick:h,item:h,index:v}})}),this.processOverlap(i);var o=i.getChildren(),s=O(this.get("theme"),["label","style"],{}),l=this.get("label"),u=l.style,c=l.formatter;if(J(u)){var f=o.map(function(h){return O(h.get("delegateObject"),"tick")});M(o,function(h,v){var d=h.get("delegateObject").tick,p=c?c(d.name,d,v):d.name,g=Jt({},s,u(p,v,f));h.attr(g)})}},e.prototype.getTitleAttrs=function(){var t=this.get("title"),n=t.style,a=t.position,i=t.offset,o=t.spacing,s=o===void 0?0:o,l=t.autoRotate,u=n.fontSize,c=.5;a==="start"?c=0:a==="end"&&(c=1);var f=this.getTickPoint(c),h=this.getSidePoint(f,i||s+u/2),v=Jt({x:h.x,y:h.y,text:t.text},n),d=t.rotate,p=d;if(B(d)&&l){var g=this.getAxisVector(f),y=[1,0];p=td(g,y,!0)}if(p){var w=ea(h,p);v.matrix=w}return v},e.prototype.drawTitle=function(t){var n,a=this.getTitleAttrs(),i=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:a});!((n=this.get("title"))===null||n===void 0)&&n.description&&this.drawDescriptionIcon(t,i,a.matrix)},e.prototype.drawDescriptionIcon=function(t,n,a){var i=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),o=n.getBBox(),s=o.maxX,l=o.maxY,u=o.height,c=this.get("title").iconStyle,f=4,h=u/2,v=h/6,d=s+f,p=l-u/2,g=[d+h,p-h],y=g[0],w=g[1],x=[y+h,w+h],m=x[0],C=x[1],S=[y,C+h],T=S[0],A=S[1],k=[d,w+h],D=k[0],$=k[1],L=[d+h,p-u/4],F=L[0],X=L[1],j=[F,X+v],Z=j[0],ot=j[1],dt=[Z,ot+v],ut=dt[0],nt=dt[1],rt=[ut,nt+h*3/4],wt=rt[0],Et=rt[1];this.addShape(i,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:b({path:[["M",y,w],["A",h,h,0,0,1,m,C],["A",h,h,0,0,1,T,A],["A",h,h,0,0,1,D,$],["A",h,h,0,0,1,y,w],["M",F,X],["L",Z,ot],["M",ut,nt],["L",wt,Et]],lineWidth:v,matrix:a},c)}),this.addShape(i,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:d,y:p-u/2,width:u,height:u,stroke:"#000",fill:"#000",opacity:0,matrix:a,cursor:"pointer"}})},e.prototype.applyTickStates=function(t,n){var a=this.getItemStates(t);if(a.length){var i=this.get("tickStates"),o=this.getElementId("label-"+t.id),s=n.findById(o);if(s){var l=Pi(t,"label",i);l&&s.attr(l)}var u=this.getElementId("tickline-"+t.id),c=n.findById(u);if(c){var f=Pi(t,"tickLine",i);f&&c.attr(f)}}},e.prototype.updateTickStates=function(t){var n=this.getItemStates(t),a=this.get("tickStates"),i=this.get("label"),o=this.getElementByLocalId("label-"+t.id),s=this.get("tickLine"),l=this.getElementByLocalId("tickline-"+t.id);if(n.length){if(o){var u=Pi(t,"label",a);u&&o.attr(u)}if(l){var c=Pi(t,"tickLine",a);c&&l.attr(c)}}else o&&o.attr(i.style),l&&l.attr(s.style)},e}(ke);function yd(r,e,t,n){var a=e.getChildren(),i=!1;return M(a,function(o){var s=Ii(r,o,t,n);i=i||s}),i}function qI(){return Yw}function jI(r,e,t){return yd(r,e,t,"head")}function Yw(r,e,t){return yd(r,e,t,"tail")}function QI(r,e,t){return yd(r,e,t,"middle")}const ZI=Object.freeze(Object.defineProperty({__proto__:null,ellipsisHead:jI,ellipsisMiddle:QI,ellipsisTail:Yw,getDefault:qI},Symbol.toStringTag,{value:"Module"}));function KI(r){var e=r.attr("matrix");return e&&e[0]!==1}function Nw(r){var e=KI(r)?wI(r.attr("matrix")):0;return e%360}function iv(r,e,t,n){var a=!1,i=Nw(e),o=Math.abs(r?t.attr("y")-e.attr("y"):t.attr("x")-e.attr("x")),s=(r?t.attr("y")>e.attr("y"):t.attr("x")>e.attr("x"))?e.getBBox():t.getBBox();if(r){var l=Math.abs(Math.cos(i));zl(l,0,Math.PI/180)?a=s.width+n>o:a=s.height/l+n>o}else{var l=Math.abs(Math.sin(i));zl(l,0,Math.PI/180)?a=s.width+n>o:a=s.height/l+n>o}return a}function Qi(r,e,t,n){var a=(n==null?void 0:n.minGap)||0,i=e.getChildren().slice().filter(function(v){return v.get("visible")});if(!i.length)return!1;var o=!1;t&&i.reverse();for(var s=i.length,l=i[0],u=l,c=1;c<s;c++){var f=i[c];f.getBBox();var h=iv(r,u,f,a);h?(f.hide(),o=!0):u=f}return o}function Vw(r,e,t){var n=(t==null?void 0:t.minGap)||0,a=e.getChildren().slice();if(a.length<2)return!1;var i=!1,o=a[0],s=o.getBBox(),l=a[1],u=a.length,c=Nw(o),f=Math.abs(r?l.attr("y")-o.attr("y"):l.attr("x")-o.attr("x")),h=0;if(r){var v=Math.abs(Math.cos(c));if(zl(v,0,Math.PI/180)){var d=av(a);h=(d+n)/f}else h=(s.height/v+n)/f}else{var v=Math.abs(Math.sin(c));if(zl(v,0,Math.PI/180)){var d=av(a);h=(d+n)/f}else h=(s.height/v+n)/f}if(h>1){h=Math.ceil(h);for(var p=0;p<u;p++)p%h!==0&&(a[p].hide(),i=!0)}return i}function JI(){return Hw}function tR(r,e,t,n){return Qi(r,e,!1,n)}function eR(r,e,t,n){return Qi(r,e,!0,n)}function rR(r,e,t,n){var a=(n==null?void 0:n.minGap)||0,i=e.getChildren().slice();if(i.length<=2)return!1;for(var o=!1,s=i.length,l=i[0],u=i[s-1],c=l,f=1;f<s-1;f++){var h=i[f];h.getBBox();var v=iv(r,c,h,a);v?(h.hide(),o=!0):c=h}var d=iv(r,c,u,a);return d&&(c.hide(),o=!0),o}function Hw(r,e,t,n){var a=Vw(r,e,n);return Qi(r,e,!1)&&(a=!0),a}function nR(r,e,t,n){var a=e.getChildren().slice(),i=Vw(r,e,n);if(a.length>2){var o=a[0],s=a[a.length-1];o.get("visible")||(o.show(),Qi(r,e,!1,n)&&(i=!0)),s.get("visible")||(s.show(),Qi(r,e,!0,n)&&(i=!0))}return i}const aR=Object.freeze(Object.defineProperty({__proto__:null,equidistance:Hw,equidistanceWithReverseBoth:nR,getDefault:JI,reserveBoth:rR,reserveFirst:tR,reserveLast:eR},Symbol.toStringTag,{value:"Module"}));function iR(r,e){M(r,function(t){var n=t.attr("x"),a=t.attr("y"),i=ea({x:n,y:a},e);t.attr("matrix",i)})}function zw(r,e,t,n){var a=e.getChildren();if(!a.length||!r&&a.length<2)return!1;var i=av(a),o=!1;if(r)o=!!t&&i>t;else{var s=Math.abs(a[1].attr("x")-a[0].attr("x"));o=i>s}if(o){var l=n(t,i);iR(a,l)}return o}function oR(){return Gw}function Gw(r,e,t,n){return zw(r,e,t,function(){return Pt(n)?n:r?ht.verticalAxisRotate:ht.horizontalAxisRotate})}function sR(r,e,t){return zw(r,e,t,function(n,a){if(!n)return r?ht.verticalAxisRotate:ht.horizontalAxisRotate;if(r)return-Math.acos(n/a);var i=0;return n>a?i=Math.PI/4:(i=Math.asin(n/a),i>Math.PI/4&&(i=Math.PI/4)),i})}const lR=Object.freeze(Object.defineProperty({__proto__:null,fixedAngle:Gw,getDefault:oR,unfixedAngle:sR},Symbol.toStringTag,{value:"Module"})),Ww=Object.freeze(Object.defineProperty({__proto__:null,autoEllipsis:ZI,autoHide:aR,autoRotate:lR},Symbol.toStringTag,{value:"Module"}));var uR=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),n=this.get("end"),a=[];return a.push(["M",t.x,t.y]),a.push(["L",n.x,n.y]),a},e.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),n=this.get("end"),a=r.prototype.getInnerLayoutBBox.call(this),i=Math.min(t.x,n.x,a.x),o=Math.min(t.y,n.y,a.y),s=Math.max(t.x,n.x,a.maxX),l=Math.max(t.y,n.y,a.maxY);return{x:i,y:o,minX:i,minY:o,maxX:s,maxY:l,width:s-i,height:l-o}},e.prototype.isVertical=function(){var t=this.get("start"),n=this.get("end");return Ce(t.x,n.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),n=this.get("end");return Ce(t.y,n.y)},e.prototype.getTickPoint=function(t){var n=this,a=n.get("start"),i=n.get("end"),o=i.x-a.x,s=i.y-a.y;return{x:a.x+o*t,y:a.y+s*t}},e.prototype.getSideVector=function(t){var n=this.getAxisVector(),a=kx([0,0],n),i=this.get("verticalFactor"),o=[a[1],a[0]*-1];return ur([0,0],o,t*i)},e.prototype.getAxisVector=function(){var t=this.get("start"),n=this.get("end");return[n.x-t.x,n.y-t.y]},e.prototype.processOverlap=function(t){var n=this,a=this.isVertical(),i=this.isHorizontal();if(!(!a&&!i)){var o=this.get("label"),s=this.get("title"),l=this.get("verticalLimitLength"),u=o.offset,c=l,f=0,h=0;s&&(f=s.style.fontSize,h=s.spacing),c&&(c=c-u-h-f);var v=this.get("overlapOrder");if(M(v,function(g){o[g]&&n.canProcessOverlap(g)&&n.autoProcessOverlap(g,o[g],t,c)}),s&&B(s.offset)){var d=t.getCanvasBBox(),p=a?d.width:d.height;s.offset=u+p+h+f/2}}},e.prototype.canProcessOverlap=function(t){var n=this.get("label");return t==="autoRotate"?B(n.rotate):!0},e.prototype.autoProcessOverlap=function(t,n,a,i){var o=this,s=this.isVertical(),l=!1,u=Ww[t];if(n===!0)this.get("label"),l=u.getDefault()(s,a,i);else if(J(n))l=n(s,a,i);else if(Vt(n)){var c=n;u[c.type]&&(l=u[c.type](s,a,i,c.cfg))}else u[n]&&(l=u[n](s,a,i));if(t==="autoRotate"){if(l){var f=a.getChildren(),h=this.get("verticalFactor");M(f,function(d){var p=d.attr("textAlign");if(p==="center"){var g=h>0?"end":"start";d.attr("textAlign",g)}})}}else if(t==="autoHide"){var v=a.getChildren().slice(0);M(v,function(d){d.get("visible")||(o.get("isRegister")&&o.unregisterElement(d),d.remove())})}},e}($w),cR=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},e.prototype.getLinePath=function(){var t=this.get("center"),n=t.x,a=t.y,i=this.get("radius"),o=i,s=this.get("startAngle"),l=this.get("endAngle"),u=[];if(Math.abs(l-s)===Math.PI*2)u=[["M",n,a-o],["A",i,o,0,1,1,n,a+o],["A",i,o,0,1,1,n,a-o],["Z"]];else{var c=this.getCirclePoint(s),f=this.getCirclePoint(l),h=Math.abs(l-s)>Math.PI?1:0,v=s>l?0:1;u=[["M",n,a],["L",c.x,c.y],["A",i,o,0,h,v,f.x,f.y],["L",n,a]]}return u},e.prototype.getTickPoint=function(t){var n=this.get("startAngle"),a=this.get("endAngle"),i=n+(a-n)*t;return this.getCirclePoint(i)},e.prototype.getSideVector=function(t,n){var a=this.get("center"),i=[n.x-a.x,n.y-a.y],o=this.get("verticalFactor"),s=Ma(i);return ur(i,i,o*t/s),i},e.prototype.getAxisVector=function(t){var n=this.get("center"),a=[t.x-n.x,t.y-n.y];return[a[1],-1*a[0]]},e.prototype.getCirclePoint=function(t,n){var a=this.get("center");return n=n||this.get("radius"),{x:a.x+Math.cos(t)*n,y:a.y+Math.sin(t)*n}},e.prototype.canProcessOverlap=function(t){var n=this.get("label");return t==="autoRotate"?B(n.rotate):!0},e.prototype.processOverlap=function(t){var n=this,a=this.get("label"),i=this.get("title"),o=this.get("verticalLimitLength"),s=a.offset,l=o,u=0,c=0;i&&(u=i.style.fontSize,c=i.spacing),l&&(l=l-s-c-u);var f=this.get("overlapOrder");if(M(f,function(v){a[v]&&n.canProcessOverlap(v)&&n.autoProcessOverlap(v,a[v],t,l)}),i&&B(i.offset)){var h=t.getCanvasBBox().height;i.offset=s+h+c+u/2}},e.prototype.autoProcessOverlap=function(t,n,a,i){var o=this,s=!1,l=Ww[t];if(i>0)if(n===!0)s=l.getDefault()(!1,a,i);else if(J(n))s=n(!1,a,i);else if(Vt(n)){var u=n;l[u.type]&&(s=l[u.type](!1,a,i,u.cfg))}else l[n]&&(s=l[n](!1,a,i));if(t==="autoRotate"){if(s){var c=a.getChildren(),f=this.get("verticalFactor");M(c,function(v){var d=v.attr("textAlign");if(d==="center"){var p=f>0?"end":"start";v.attr("textAlign",p)}})}}else if(t==="autoHide"){var h=a.getChildren().slice(0);M(h,function(v){v.get("visible")||(o.get("isRegister")&&o.unregisterElement(v),v.remove())})}},e}($w),md=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:ht.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:ht.textColor,textAlign:"center",textBaseline:"middle",fontFamily:ht.fontFamily}},textBackground:{padding:5,style:{stroke:ht.lineColor}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var n=this.get("text"),a=n.style,i=n.autoRotate,o=n.content;if(!B(o)){var s=this.getTextPoint(),l=null;if(i){var u=this.getRotateAngle();l=ea(s,u)}this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:b(b(b({},s),{text:o,matrix:l}),a)})}},e.prototype.renderLine=function(t){var n=this.getLinePath(),a=this.get("line"),i=a.style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:b({path:n},i)})},e.prototype.renderBackground=function(t){var n=this.getElementId("text"),a=t.findById(n),i=this.get("textBackground");if(i&&a){var o=a.getBBox(),s=Hl(i.padding),l=i.style,u=this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:b({x:o.x-s[3],y:o.y-s[0],width:o.width+s[1]+s[3],height:o.height+s[0]+s[2],matrix:a.attr("matrix")},l)});u.toBack()}},e}(ke),Xw=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.start,a=t.end,i=this.get("text").position,o=Math.atan2(a.y-n.y,a.x-n.x),s=i==="start"?o-Math.PI/2:o+Math.PI/2;return s},e.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,a=t.end,i=this.get("text"),o=i.position,s=i.offset;return Bw(n,a,o,s)},e.prototype.getLinePath=function(){var t=this.getLocation(),n=t.start,a=t.end;return[["M",n.x,n.y],["L",a.x,a.y]]},e}(md),fR=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.startAngle,a=t.endAngle,i=this.get("text").position,o=i==="start"?n+Math.PI/2:a-Math.PI/2;return o},e.prototype.getTextPoint=function(){var t=this.get("text"),n=t.position,a=t.offset,i=this.getLocation(),o=i.center,s=i.radius,l=i.startAngle,u=i.endAngle,c=n==="start"?l:u,f=this.getRotateAngle()-Math.PI,h=Aa(o,s,c),v=Math.cos(f)*a,d=Math.sin(f)*a;return{x:h.x+v,y:h.y+d}},e.prototype.getLinePath=function(){var t=this.getLocation(),n=t.center,a=t.radius,i=t.startAngle,o=t.endAngle,s=null;if(o-i===Math.PI*2){var l=n.x,u=n.y;s=[["M",l,u-a],["A",a,a,0,1,1,l,u+a],["A",a,a,0,1,1,l,u-a],["Z"]]}else{var c=Aa(n,a,i),f=Aa(n,a,o),h=Math.abs(o-i)>Math.PI?1:0,v=i>o?0:1;s=[["M",c.x,c.y],["A",a,a,0,h,v,f.x,f.y]]}return s},e}(md),Zi="g2-crosshair",ov=Zi+"-line",sv=Zi+"-text",gi;const hR=(gi={},gi[""+Zi]={position:"relative"},gi[""+ov]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},gi[""+sv]={position:"absolute",color:ht.textColor,fontFamily:ht.fontFamily},gi);var vR=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Zi+'"></div>',crosshairTpl:'<div class="'+ov+'"></div>',textTpl:'<span class="'+sv+'">{content}</span>',domStyles:null,containerClassName:Zi,defaultStyles:hR,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var t=this.getContainer(),n=this.get("crosshairTpl"),a=bn(n);t.appendChild(a),this.applyStyle(ov,a),this.set("crosshairEl",a)},e.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,a=t.end,i=this.get("text"),o=i.position,s=i.offset;return Bw(n,a,o,s)},e.prototype.resetText=function(){var t=this.get("text"),n=this.get("textEl");if(t){var a=t.content;if(!n){var i=this.getContainer(),o=ux(this.get("textTpl"),t);n=bn(o),i.appendChild(n),this.applyStyle(sv,n),this.set("textEl",n)}n.innerHTML=a}else n&&n.remove()},e.prototype.isVertical=function(t,n){return t.x===n.x},e.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var n=this.get("start"),a=this.get("end"),i=Math.min(n.x,a.x),o=Math.min(n.y,a.y);this.isVertical(n,a)?Ae(t,{width:"1px",height:He(Math.abs(a.y-n.y))}):Ae(t,{height:"1px",width:He(Math.abs(a.x-n.x))}),Ae(t,{top:He(o),left:He(i)}),this.alignText()},e.prototype.alignText=function(){var t=this.get("textEl");if(t){var n=this.get("text").align,a=t.clientWidth,i=this.getTextPoint();switch(n){case"center":i.x=i.x-a/2;break;case"right":i.x=i.x-a}Ae(t,{top:He(i.y),left:He(i.x)})}},e.prototype.updateInner=function(t){Na(t,"text")&&this.resetText(),r.prototype.updateInner.call(this,t)},e}(gd);const Ky=Object.freeze(Object.defineProperty({__proto__:null,Base:md,Circle:fR,Html:vR,Line:Xw},Symbol.toStringTag,{value:"Module"}));var Uw=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:ht.lineColor}}}})},e.prototype.getLineType=function(){var t=this.get("line")||this.get("defaultCfg").line;return t.type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,n){var a=this.getGridPath(t),i=n.slice(0).reverse(),o=this.getGridPath(i,!0),s=this.get("closed");return s?a=a.concat(o):(o[0][0]="L",a=a.concat(o),a.push(["Z"])),a},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(t){var n=this,a=this.get("line"),i=this.get("items"),o=this.get("alternateColor"),s=null;M(i,function(l,u){var c=l.id||u;if(a){var f=n.getPathStyle();f=J(f)?f(l,u,i):f;var h=n.getElementId("line-"+c),v=n.getGridPath(l.points);n.addShape(t,{type:"path",name:"grid-line",id:h,attrs:Jt({path:v},f)})}if(o&&u>0){var d=n.getElementId("region-"+c),p=u%2===0;if(ct(o))p&&n.drawAlternateRegion(d,t,s.points,l.points,o);else{var g=p?o[1]:o[0];n.drawAlternateRegion(d,t,s.points,l.points,g)}}s=l})},e.prototype.drawAlternateRegion=function(t,n,a,i,o){var s=this.getAlternatePath(a,i);this.addShape(n,{type:"path",id:t,name:"grid-region",attrs:{path:s,fill:o}})},e}(ke);function dR(r,e,t,n){var a=t-r,i=n-e;return Math.sqrt(a*a+i*i)}var pR=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(t,n){var a=this.getLineType(),i=this.get("closed"),o=[];if(t.length)if(a==="circle"){var s=this.get("center"),l=t[0],u=dR(s.x,s.y,l.x,l.y),c=n?0:1;i?(o.push(["M",s.x,s.y-u]),o.push(["A",u,u,0,0,c,s.x,s.y+u]),o.push(["A",u,u,0,0,c,s.x,s.y-u]),o.push(["Z"])):M(t,function(f,h){h===0?o.push(["M",f.x,f.y]):o.push(["A",u,u,0,0,c,f.x,f.y])})}else M(t,function(f,h){h===0?o.push(["M",f.x,f.y]):o.push(["L",f.x,f.y])}),i&&o.push(["Z"]);return o},e}(Uw),gR=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{type:"line"})},e.prototype.getGridPath=function(t){var n=[];return M(t,function(a,i){i===0?n.push(["M",a.x,a.y]):n.push(["L",a.x,a.y])}),n},e}(Uw),qw=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var t=r.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),a=this.get("maxHeight"),i=t.width,o=t.height;return n&&(i=Math.min(i,n)),a&&(o=Math.min(o,a)),ku(t.minX,t.minY,i,o)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),n=this.get("y"),a=this.get("offsetX"),i=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+a,y:n+i})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var n=this.get("background"),a=t.getBBox(),i=Hl(n.padding),o=b({x:0,y:0,width:a.width+i[1]+i[3],height:a.height+i[0]+i[2]},n.style),s=this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o});s.toBack()},e.prototype.drawTitle=function(t){var n=this.get("currentPoint"),a=this.get("title"),i=a.spacing,o=a.style,s=a.text,l=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:b({text:s,x:n.x,y:n.y},o)}),u=l.getBBox();this.set("currentPoint",{x:n.x,y:u.maxY+i})},e.prototype.resetDraw=function(){var t=this.get("background"),n={x:0,y:0};if(t){var a=Hl(t.padding);n.x=a[3],n.y=a[0]}this.set("currentPoint",n)},e}(ke),mc={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},Ro={fill:ht.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:ht.fontFamily,fontWeight:"normal",lineHeight:12},xc="navigation-arrow-right",wc="navigation-arrow-left",Jy={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},yR=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var a=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:a},100):n.attr({matrix:a})}},t.onNavigationAfter=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var a=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:a},100):n.attr({matrix:a})}},t}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:ht.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:ht.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:mc,itemName:{spacing:16,style:Ro},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:Ro,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:ht.uncheckedColor},markerStyle:{fill:ht.uncheckedColor,stroke:ht.uncheckedColor}},inactive:{nameStyle:{fill:ht.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,n){Jt(t,n),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,n,a){t[n]=a;var i=this.getElementByLocalId("item-"+t.id);if(i){var o=this.getItems(),s=o.indexOf(t),l=this.createOffScreenGroup(),u=this.drawItem(t,s,this.getItemHeight(),l);this.updateElements(u,i),this.clearUpdateStatus(i)}},e.prototype.hasState=function(t,n){return!!t[n]},e.prototype.getItemStates=function(t){var n=this.get("itemStates"),a=[];return M(n,function(i,o){t[o]&&a.push(o)}),a},e.prototype.clearItemsState=function(t){var n=this,a=this.getItemsByState(t);M(a,function(i){n.setItemState(i,t,!1)})},e.prototype.getItemsByState=function(t){var n=this,a=this.getItems();return hr(a,function(i){return n.hasState(i,t)})},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get("items");M(t,function(n){n.id||(n.id=n.name)})},e.prototype.drawItems=function(t){var n=this,a=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),i=this.addGroup(a,{id:this.getElementId("item-group"),name:"legend-item-group"}),o=this.getItemHeight(),s=this.get("itemWidth"),l=this.get("itemSpacing"),u=this.get("itemMarginBottom"),c=this.get("currentPoint"),f=c.x,h=c.y,v=this.get("layout"),d=this.get("items"),p=!1,g=0,y=this.get("maxWidth"),w=this.get("maxHeight");M(d,function(x,m){var C=n.drawItem(x,m,o,i),S=C.getBBox(),T=s||S.width;T>g&&(g=T),v==="horizontal"?(y&&y<c.x+T-f&&(p=!0,c.x=f,c.y+=o+u),n.moveElementTo(C,c),c.x+=T+l):(w&&w<c.y+o+u-h&&(p=!0,c.x+=g+l,c.y=h,g=0),n.moveElementTo(C,c),c.y+=o+u)}),p&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=f,this.startY=h,this.adjustNavigation(t,i))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var n=(this.get("itemName")||{}).style;if(J(n)){var a=this.getItems();a.forEach(function(i,o){var s=b(b({},Ro),n(i,o,a)).fontSize;t<s&&(t=s)})}else n&&(t=n.fontSize)}return t},e.prototype.drawMarker=function(t,n,a,i){var o=b(b(b({x:0,y:i/2},n.style),{symbol:O(a.marker,"symbol","circle")}),O(a.marker,"style",{})),s=this.addShape(t,{type:"marker",id:this.getElementId("item-"+a.id+"-marker"),name:"legend-item-marker",attrs:o}),l=s.getBBox();s.attr("x",l.width/2);var u=s.attr(),c=u.stroke,f=u.fill;return c&&s.set("isStroke",!0),f&&s.set("isFill",!0),s},e.prototype.drawItemText=function(t,n,a,i,o,s,l){var u=a.formatter,c=a.style,f=b(b({x:s,y:o/2,text:u?u(i[n],i,l):i[n]},Ro),J(c)?c(i,l,this.getItems()):c);return this.addShape(t,{type:"text",id:this.getElementId("item-"+i.id+"-"+n),name:"legend-item-"+n,attrs:f})},e.prototype.drawRadio=function(t,n,a,i,o){var s,l,u=n.style||{},c=(s=u.r)!==null&&s!==void 0?s:i/2,f=c*3.6/8,h=[o+c,i/2-c],v=h[0],d=h[1],p=[v+c,d+c],g=p[0],y=p[1],w=[v,y+c],x=w[0],m=w[1],C=[o,d+c],S=C[0],T=C[1],A=a.showRadio,k=b(b({path:[["M",v,d],["A",c,c,0,0,1,g,y],["L",g-f,y],["L",g,y],["A",c,c,0,0,1,x,m],["L",x,m-f],["L",x,m],["A",c,c,0,0,1,S,T],["L",S+f,T],["L",S,T],["A",c,c,0,0,1,v,d],["L",v,d+f]],stroke:"#000000",fill:"#ffffff"},u),{opacity:A?(l=u==null?void 0:u.opacity)!==null&&l!==void 0?l:.45:0}),D=this.addShape(t,{type:"path",id:this.getElementId("item-"+a.id+"-radio"),name:"legend-item-radio",attrs:k});return D.set("tip",n.tip),D},e.prototype.drawItem=function(t,n,a,i){var o="item-"+t.id,s=this.addGroup(i,{name:"legend-item-container",id:this.getElementId("item-container-"+o),delegateObject:{item:t,index:n}}),l=this.addGroup(s,{name:"legend-item",id:this.getElementId(o),delegateObject:{item:t,index:n}}),u=this.get("marker"),c=this.get("itemName"),f=this.get("itemValue"),h=this.get("itemBackground"),v=this.get("radio"),d=this.getLimitItemWidth(),p=0;if(u){var g=this.drawMarker(l,u,t,a),y=u.spacing,w=O(t,["marker","spacing"]);Pt(w)&&(y=w),p=g.getBBox().maxX+y}if(c){var x=this.drawItemText(l,"name",c,t,a,p,n);d&&Ii(!0,x,Ut(d-p,0,d)),p=x.getBBox().maxX+c.spacing}if(f){var m=this.drawItemText(l,"value",f,t,a,p,n);d&&(f.alignRight?(m.attr({textAlign:"right",x:d}),Ii(!0,m,Ut(d-p,0,d),"head")):Ii(!0,m,Ut(d-p,0,d))),p=m.getBBox().maxX+f.spacing}if(v&&this.drawRadio(l,v,t,a,p),h){var C=l.getBBox(),S=this.addShape(l,{type:"rect",name:"legend-item-background",id:this.getElementId(o+"-background"),attrs:b({x:0,y:0,width:C.width,height:a},h.style)});S.toBack()}return this.applyItemStates(t,l),l},e.prototype.adjustNavigation=function(t,n){var a=this,i=this.startX,o=this.startY,s=this.get("layout"),l=n.findAll(function(L){return L.get("name")==="legend-item"}),u=this.get("maxWidth"),c=this.get("maxHeight"),f=this.get("itemWidth"),h=this.get("itemSpacing"),v=this.getItemHeight(),d=G({},mc,this.get("pageNavigator")),p=this.drawNavigation(t,s,"00/00",d),g=p.getBBox(),y={x:i,y:o},w=1,x=0,m=0,C=0,S=this.get("itemMarginBottom");function T(L,F){var X=L.getBBox(),j=f||X.width,Z=F.x+j+h+g.width;return Z>u}if(s==="horizontal"){var A=this.get("maxRow")||1,k=v+(A===1?0:S),D=u-h-g.width-g.minX;this.pageHeight=k*A,this.pageWidth=D,M(l,function(L){var F=L.getBBox(),X=f||F.width;(x&&x<y.x+X+h||T(L,y))&&(w===1&&(x=y.x+h,a.moveElementTo(p,{x:D,y:y.y+v/2-g.height/2-g.minY})),w+=1,y.x=i,y.y+=k),a.moveElementTo(L,y),L.getParent().setClip({type:"rect",attrs:{x:y.x,y:y.y,width:X+h,height:v}}),y.x+=X+h})}else{M(l,function(L){var F=L.getBBox();F.width>m&&(m=F.width)}),C=m,m+=h,u&&(m=Math.min(u,m),C=Math.min(u,C)),this.pageWidth=m,this.pageHeight=c-Math.max(g.height,v+S);var $=Math.floor(this.pageHeight/(v+S));M(l,function(L,F){F!==0&&F%$===0&&(w+=1,y.x+=m,y.y=o),a.moveElementTo(L,y),L.getParent().setClip({type:"rect",attrs:{x:y.x,y:y.y,width:m,height:v}}),y.y+=v+S}),this.totalPagesCnt=w,this.moveElementTo(p,{x:i+C/2-g.width/2-g.minX,y:c-g.height-g.minY})}this.pageHeight&&this.pageWidth&&n.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),s==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(w/this.get("maxRow")):this.totalPagesCnt=w,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(p),n.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,n,a,i){var o={x:0,y:0},s=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),l=O(i.marker,"style",{}),u=l.size,c=u===void 0?12:u,f=be(l,["size"]),h=this.drawArrow(s,o,wc,n==="horizontal"?"up":"left",c,f);h.on("click",this.onNavigationBack);var v=h.getBBox();o.x+=v.width+2;var d=this.addShape(s,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:b({x:o.x,y:o.y+c/2,text:a,textBaseline:"middle"},O(i.text,"style"))}),p=d.getBBox();o.x+=p.width+2;var g=this.drawArrow(s,o,xc,n==="horizontal"?"down":"right",c,f);return g.on("click",this.onNavigationAfter),s},e.prototype.updateNavigation=function(t){var n=G({},mc,this.get("pageNavigator")),a=n.marker.style,i=a.fill,o=a.opacity,s=a.inactiveFill,l=a.inactiveOpacity,u=this.currentPageIndex+"/"+this.totalPagesCnt,c=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),f=t?t.findById(this.getElementId(wc)):this.getElementByLocalId(wc),h=t?t.findById(this.getElementId(xc)):this.getElementByLocalId(xc);c.attr("text",u),f.attr("opacity",this.currentPageIndex===1?l:o),f.attr("fill",this.currentPageIndex===1?s:i),f.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),h.attr("opacity",this.currentPageIndex===this.totalPagesCnt?l:o),h.attr("fill",this.currentPageIndex===this.totalPagesCnt?s:i),h.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var v=f.getBBox().maxX+2;c.attr("x",v),v+=c.getBBox().width+2,this.updateArrowPath(h,{x:v,y:0})},e.prototype.drawArrow=function(t,n,a,i,o,s){var l=n.x,u=n.y,c=this.addShape(t,{type:"path",id:this.getElementId(a),name:a,attrs:b({size:o,direction:i,path:[["M",l+o/2,u],["L",l,u+o],["L",l+o,u+o],["Z"]],cursor:"pointer"},s)});return c.attr("matrix",ea({x:l+o/2,y:u+o/2},Jy[i])),c},e.prototype.updateArrowPath=function(t,n){var a=n.x,i=n.y,o=t.attr(),s=o.size,l=o.direction,u=ea({x:a+s/2,y:i+s/2},Jy[l]);t.attr("path",[["M",a+s/2,i],["L",a,i+s],["L",a+s,i+s],["Z"]]),t.attr("matrix",u)},e.prototype.getCurrentNavigationMatrix=function(){var t=this,n=t.currentPageIndex,a=t.pageWidth,i=t.pageHeight,o=this.get("layout"),s=o==="horizontal"?{x:0,y:i*(1-n)}:{x:a*(1-n),y:0};return vd(s)},e.prototype.applyItemStates=function(t,n){var a=this.getItemStates(t),i=a.length>0;if(i){var o=n.getChildren(),s=this.get("itemStates");M(o,function(l){var u=l.get("name"),c=u.split("-")[2],f=Pi(t,c,s);f&&(l.attr(f),c==="marker"&&!(l.get("isStroke")&&l.get("isFill"))&&(l.get("isStroke")&&l.attr("fill",null),l.get("isFill")&&l.attr("stroke",null)))})}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),n=this.get("maxItemWidth");return n?t&&(n=t<=n?t:n):t&&(n=t),n},e}(qw),mR=1.4,tm=.4,xR=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:ht.textColor,textBaseline:"middle",fontFamily:ht.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:ht.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(t,n){this.update({min:t,max:n})},e.prototype.setValue=function(t){var n=this.getValue();this.set("value",t);var a=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(a),this.delegateEmit("valuechanged",{originValue:n,value:t})},e.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var n=this;t.on("legend-handler-min:drag",function(a){var i=n.getValueByCanvasPoint(a.x,a.y),o=n.getCurrentValue(),s=o[1];s<i&&(s=i),n.setValue([i,s])}),t.on("legend-handler-max:drag",function(a){var i=n.getValueByCanvasPoint(a.x,a.y),o=n.getCurrentValue(),s=o[0];s>i&&(s=i),n.setValue([s,i])})},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var n=this,a=null;t.on("legend-track:dragstart",function(i){a={x:i.x,y:i.y}}),t.on("legend-track:drag",function(i){if(a){var o=n.getValueByCanvasPoint(a.x,a.y),s=n.getValueByCanvasPoint(i.x,i.y),l=n.getCurrentValue(),u=l[1]-l[0],c=n.getRange(),f=s-o;f<0?l[0]+f>c.min?n.setValue([l[0]+f,l[1]+f]):n.setValue([c.min,c.min+u]):f>0&&(f>0&&l[1]+f<c.max?n.setValue([l[0]+f,l[1]+f]):n.setValue([c.max-u,c.max])),a={x:i.x,y:i.y}}}),t.on("legend-track:dragend",function(i){a=null})},e.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},e.prototype.drawLabel=function(t,n){var a=this.get("label"),i=a.style,o=a.align,s=a.formatter,l=this.get(t),u=this.getLabelAlignAttrs(t,o),c="label-"+t;this.addShape(n,{type:"text",id:this.getElementId(c),name:"legend-label-"+t,attrs:b(b({x:0,y:0,text:J(s)?s(l):l},i),u)})},e.prototype.getLabelAlignAttrs=function(t,n){var a=this.isVertical(),i="center",o="middle";return a?(i="start",n!=="rail"?t==="min"?o="top":o="bottom":o="top"):n!=="rail"?(o="top",t==="min"?i="start":i="end"):(i="start",o="middle"),{textAlign:i,textBaseline:o}},e.prototype.getRailPath=function(t,n,a,i){var o=this.get("rail"),s=o.size,l=o.defaultLength,u=o.type,c=this.isVertical(),f=l,h=a,v=i;h||(h=c?s:f),v||(v=c?f:s);var d=[];return u==="color"?(d.push(["M",t,n]),d.push(["L",t+h,n]),d.push(["L",t+h,n+v]),d.push(["L",t,n+v]),d.push(["Z"])):(d.push(["M",t+h,n]),d.push(["L",t+h,n+v]),d.push(["L",t,n+v]),d.push(["Z"])),d},e.prototype.drawRail=function(t){var n=this.get("rail"),a=n.style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:b({path:this.getRailPath(0,0)},a)})},e.prototype.getTrackColor=function(t){var n=t.length;if(!n)return null;if(n===1)return t[0];var a;this.isVertical()?a="l(90)":a="l(0)";for(var i=0;i<n;i++){var o=i/(n-1);a+=" "+o+":"+t[i]}return a},e.prototype.getTrackPath=function(t){var n=this.getRailShape(t),a=n.attr("path");return er(a)},e.prototype.getClipTrackAttrs=function(t){var n=this.getCurrentValue(),a=n[0],i=n[1],o=this.getRailBBox(t),s=this.getPointByValue(a,t),l=this.getPointByValue(i,t),u=this.isVertical(),c,f,h,v;return u?(c=o.minX,f=s.y,h=o.width,v=l.y-s.y):(c=s.x,f=o.minY,h=l.x-s.x,v=o.height),{x:c,y:f,width:h,height:v}},e.prototype.getTrackAttrs=function(t){var n=this.get("track"),a=this.get("colors"),i=this.getTrackPath(t);return Jt({path:i,fill:this.getTrackColor(a)},n.style)},e.prototype.resetTrackClip=function(t){var n=t||this.get("group"),a=this.getElementId("track"),i=n.findById(a),o=i.getClip(),s=this.getClipTrackAttrs(t);o?o.attr(s):i.setClip({type:"rect",attrs:s})},e.prototype.resetTrack=function(t){var n=this.getElementId("track"),a=t.findById(n),i=this.getTrackAttrs(t);a?a.attr(i):this.addShape(t,{type:"path",id:n,draggable:this.get("slidable"),name:"legend-track",attrs:i})},e.prototype.getPointByValue=function(t,n){var a=this.getRange(),i=a.min,o=a.max,s=(t-i)/(o-i),l=this.getRailBBox(n),u=this.isVertical(),c={x:0,y:0};return u?(c.x=l.minX+l.width/2,c.y=jn(l.minY,l.maxY,s)):(c.x=jn(l.minX,l.maxX,s),c.y=l.minY+l.height/2),c},e.prototype.getRailShape=function(t){var n=t||this.get("group");return n.findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(t){var n=this.getRailShape(t),a=n.getBBox();return a},e.prototype.getRailCanvasBBox=function(){var t=this.get("group"),n=t.findById(this.getElementId("rail")),a=n.getCanvasBBox();return a},e.prototype.isVertical=function(){return this.get("layout")==="vertical"},e.prototype.getValueByCanvasPoint=function(t,n){var a=this.getRange(),i=a.min,o=a.max,s=this.getRailCanvasBBox(),l=this.isVertical(),u=this.get("step"),c;l?c=(n-s.minY)/s.height:c=(t-s.minX)/s.width;var f=jn(i,o,c);if(u){var h=Math.round((f-i)/u);f=i+h*u}return f>o&&(f=o),f<i&&(f=i),f},e.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var n=this.get("values");return n?[Math.max(Math.min.apply(Math,Yi(n,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,Yi(n,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},e.prototype.resetHandlers=function(t){var n=this.getCurrentValue(),a=n[0],i=n[1];this.resetHandler(t,"min",a),this.resetHandler(t,"max",i)},e.prototype.getHandlerPath=function(t,n){var a=this.isVertical(),i=[],o=t.size,s=n.x,l=n.y,u=o*mR,c=o/2,f=o/6;if(a){var h=s+u*tm;i.push(["M",s,l]),i.push(["L",h,l+c]),i.push(["L",s+u,l+c]),i.push(["L",s+u,l-c]),i.push(["L",h,l-c]),i.push(["Z"]),i.push(["M",h,l+f]),i.push(["L",s+u-2,l+f]),i.push(["M",h,l-f]),i.push(["L",s+u-2,l-f])}else{var v=l+u*tm;i.push(["M",s,l]),i.push(["L",s-c,v]),i.push(["L",s-c,l+u]),i.push(["L",s+c,l+u]),i.push(["L",s+c,v]),i.push(["Z"]),i.push(["M",s-f,v]),i.push(["L",s-f,l+u-2]),i.push(["M",s+f,v]),i.push(["L",s+f,l+u-2])}return i},e.prototype.resetHandler=function(t,n,a){var i=this.getPointByValue(a,t),o=this.get("handler"),s=this.getHandlerPath(o,i),l=this.getElementId("handler-"+n),u=t.findById(l),c=this.isVertical();u?u.attr("path",s):this.addShape(t,{type:"path",name:"legend-handler-"+n,draggable:!0,id:l,attrs:b(b({path:s},o.style),{cursor:c?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(t){var n=t.findById(this.getElementId("rail")),a=t.findById(this.getElementId("label-min")),i=t.findById(this.getElementId("label-max")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(a,i,n,o):this.fixedHorizontal(a,i,n,o)},e.prototype.fitRailLength=function(t,n,a,i){var o=this.isVertical(),s=o?"height":"width",l=this.get("label"),u=l.align,c=l.spacing,f=this.get("max"+sa(s));if(f){var h=u==="rail"?a[s]+t[s]+n[s]+c*2:a[s],v=h-f;v>0&&this.changeRailLength(i,s,a[s]-v)}},e.prototype.changeRailLength=function(t,n,a){var i=t.getBBox(),o;n==="height"?o=this.getRailPath(i.x,i.y,i.width,a):o=this.getRailPath(i.x,i.y,a,i.height),t.attr("path",o)},e.prototype.changeRailPosition=function(t,n,a){var i=t.getBBox(),o=this.getRailPath(n,a,i.width,i.height);t.attr("path",o)},e.prototype.fixedHorizontal=function(t,n,a,i){var o=this.get("label"),s=o.align,l=o.spacing,u=a.getBBox(),c=t.getBBox(),f=n.getBBox(),h=u.height;this.fitRailLength(c,f,u,a),u=a.getBBox(),s==="rail"?(t.attr({x:i.x,y:i.y+h/2}),this.changeRailPosition(a,i.x+c.width+l,i.y),n.attr({x:i.x+c.width+u.width+l*2,y:i.y+h/2})):s==="top"?(t.attr({x:i.x,y:i.y}),n.attr({x:i.x+u.width,y:i.y}),this.changeRailPosition(a,i.x,i.y+c.height+l)):(this.changeRailPosition(a,i.x,i.y),t.attr({x:i.x,y:i.y+u.height+l}),n.attr({x:i.x+u.width,y:i.y+u.height+l}))},e.prototype.fixedVertail=function(t,n,a,i){var o=this.get("label"),s=o.align,l=o.spacing,u=a.getBBox(),c=t.getBBox(),f=n.getBBox();if(this.fitRailLength(c,f,u,a),u=a.getBBox(),s==="rail")t.attr({x:i.x,y:i.y}),this.changeRailPosition(a,i.x,i.y+c.height+l),n.attr({x:i.x,y:i.y+c.height+u.height+l*2});else if(s==="right")t.attr({x:i.x+u.width+l,y:i.y}),this.changeRailPosition(a,i.x,i.y),n.attr({x:i.x+u.width+l,y:i.y+u.height});else{var h=Math.max(c.width,f.width);t.attr({x:i.x,y:i.y}),this.changeRailPosition(a,i.x+h+l,i.y),n.attr({x:i.x,y:i.y+u.height})}},e}(qw),Kr="g2-tooltip",Jr="g2-tooltip-title",Ki="g2-tooltip-list",Du="g2-tooltip-list-item",_u="g2-tooltip-marker",Eu="g2-tooltip-value",jw="g2-tooltip-name",xd="g2-tooltip-crosshair-x",wd="g2-tooltip-crosshair-y";const wR=Object.freeze(Object.defineProperty({__proto__:null,CONTAINER_CLASS:Kr,CROSSHAIR_X:xd,CROSSHAIR_Y:wd,LIST_CLASS:Ki,LIST_ITEM_CLASS:Du,MARKER_CLASS:_u,NAME_CLASS:jw,TITLE_CLASS:Jr,VALUE_CLASS:Eu},Symbol.toStringTag,{value:"Module"}));var Ar;const bR=(Ar={},Ar[""+Kr]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:ht.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Ar[""+Jr]={marginBottom:"4px"},Ar[""+Ki]={margin:"0px",listStyleType:"none",padding:"0px"},Ar[""+Du]={listStyleType:"none",marginBottom:"4px"},Ar[""+_u]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Ar[""+Eu]={display:"inline-block",float:"right",marginLeft:"30px"},Ar[""+xd]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ar[""+wd]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ar);function CR(r,e,t,n,a){var i={left:r<a.x,right:r+t>a.x+a.width,top:e<a.y,bottom:e+n>a.y+a.height};return i}function SR(r,e,t,n,a,i){var o=r,s=e;switch(i){case"left":o=r-n-t,s=e-a/2;break;case"right":o=r+t,s=e-a/2;break;case"top":o=r-n/2,s=e-a-t;break;case"bottom":o=r-n/2,s=e+t;break;default:o=r+t,s=e-a-t;break}return{x:o,y:s}}function MR(r,e,t,n,a,i,o){var s=SR(r,e,t,n,a,i);if(o){var l=CR(s.x,s.y,n,a,o);i==="auto"?(l.right&&(s.x=Math.max(0,r-n-t)),l.top&&(s.y=Math.max(0,e-a-t))):i==="top"||i==="bottom"?(l.left&&(s.x=o.x),l.right&&(s.x=o.x+o.width-n),i==="top"&&l.top&&(s.y=e+t),i==="bottom"&&l.bottom&&(s.y=e-a-t)):(l.top&&(s.y=o.y),l.bottom&&(s.y=o.y+o.height-a),i==="left"&&l.left&&(s.x=r+t),i==="right"&&l.right&&(s.x=r-n-t))}return s}function TR(r,e){var t=!1;return M(e,function(n){if(Na(r,n))return t=!0,!1}),t}var PR=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Kr+'"><div class="'+Jr+'"></div><ul class="'+Ki+'"></ul></div>',itemTpl:'<li class="'+Du+`" data-index={index}>
          <span class="`+_u+`" style="background:{color}"></span>
          <span class="`+jw+`">{name}</span>:
          <span class="`+Eu+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+xd+'"></div>',yCrosshairTpl:'<div class="'+wd+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Kr,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:bR})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),Ae(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),Ae(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var n=t?"":"none",a=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");a&&Ae(a,{display:n}),i&&Ae(i,{display:n})},e.prototype.initContainer=function(){if(r.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var t=this.getHtmlContentNode();this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(TR(t,["title","showTitle"])&&this.resetTitle(),Na(t,"items")&&this.renderItems()),r.prototype.updateInner.call(this,t)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){r.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t=this.get("x"),n=this.get("y"),a=this.get("offset"),i=this.getOffset(),o=i.offsetX,s=i.offsetY,l=this.get("position"),u=this.get("region"),c=this.getContainer(),f=this.getBBox(),h=f.width,v=f.height,d;u&&(d=ji(u));var p=MR(t,n,a,h,v,l,d);Ae(c,{left:He(p.x+o),top:He(p.y+s)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),n=this.get("parent"),a=this.get("container");a&&a.parentNode===n?n.replaceChild(t,a):n.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,n=this.get("customContent");if(n){var a=n(this.get("title"),this.get("items"));fx(a)?t=a:t=bn(a)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),n=t.getElementsByClassName(Jr)[0],a=t.getElementsByClassName(Ki)[0];this.set("titleDom",n),this.set("listDom",a)},e.prototype.resetTitle=function(){var t=this.get("title"),n=this.get("showTitle");n&&t?this.setTitle(t):this.setTitle("")},e.prototype.setTitle=function(t){var n=this.get("titleDom");n&&(n.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),n=this.get("crosshairs");if(!t||!n)this.clearCrosshairs();else{var a=ji(t),i=this.get("xCrosshairDom"),o=this.get("yCrosshairDom");n==="x"?(this.resetCrosshair("x",a),o&&(o.remove(),this.set("yCrosshairDom",null))):n==="y"?(this.resetCrosshair("y",a),i&&(i.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",a),this.resetCrosshair("y",a)),this.setCrossHairsVisible(this.get("visible"))}},e.prototype.resetCrosshair=function(t,n){var a=this.checkCrosshair(t),i=this.get(t);t==="x"?Ae(a,{left:He(i),top:He(n.y),height:He(n.height)}):Ae(a,{top:He(i),left:He(n.x),width:He(n.width)})},e.prototype.checkCrosshair=function(t){var n=t+"CrosshairDom",a=t+"CrosshairTpl",i="CROSSHAIR_"+t.toUpperCase(),o=wR[i],s=this.get(n),l=this.get("parent");return s||(s=bn(this.get(a)),this.applyStyle(o,s),l.appendChild(s),this.set(n,s)),s},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),n=this.get("itemTpl"),a=this.get("listDom");a&&(M(t,function(i){var o=qi.toCSSGradient(i.color),s=b(b({},i),{color:o}),l=ux(n,s),u=bn(l);a.appendChild(u)}),this.applyChildrenStyles(a,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&pd(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");t&&t.remove(),n&&n.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}(gd),OR={opacity:0},kR={stroke:"#C5C5C5",strokeOpacity:.85},AR={fill:"#CACED4",opacity:.85};function DR(r){return Le(r,function(e,t){var n=t===0?"M":"L",a=e[0],i=e[1];return[n,a,i]})}function Qw(r){return DR(r)}function _R(r){if(r.length<=2)return Qw(r);var e=[];M(r,function(o){ve(o,e.slice(e.length-2))||e.push(o[0],o[1])});var t=H_(e,!1),n=rr(r),a=n[0],i=n[1];return t.unshift(["M",a,i]),t}function ER(r,e,t,n){n===void 0&&(n=!0);var a=new Pu({values:r}),i=new Mu({values:Le(r,function(s,l){return l})}),o=Le(r,function(s,l){return[i.scale(l)*e,t-a.scale(s)*t]});return n?_R(o):Qw(o)}function IR(r,e){var t=new Pu({values:r}),n=t.max<0?t.max:Math.max(0,t.min);return e-t.scale(n)*e}function RR(r,e,t,n){var a=Yi(r),i=IR(n,t);return a.push(["L",e,i]),a.push(["L",0,i]),a.push(["Z"]),a}var LR=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:OR,lineStyle:kR,areaStyle:AR})},e.prototype.renderInner=function(t){var n=this.cfg,a=n.width,i=n.height,o=n.data,s=n.smooth,l=n.isArea,u=n.backgroundStyle,c=n.lineStyle,f=n.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:b({x:0,y:0,width:a,height:i},u)});var h=ER(o,a,i,s);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:b({path:h},c)}),l){var v=RR(h,a,i,o);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:b({path:v},f)})}},e.prototype.applyOffset=function(){var t=this.cfg,n=t.x,a=t.y;this.moveElementTo(this.get("group"),{x:n,y:a})},e}(ke),Zw={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},em=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"handler",x:0,y:0,width:10,height:24,style:Zw})},e.prototype.renderInner=function(t){var n=this.cfg,a=n.width,i=n.height,o=n.style,s=o.fill,l=o.stroke,u=o.radius,c=o.opacity,f=o.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:a,height:i,fill:s,stroke:l,radius:u,opacity:c,cursor:f}});var h=1/3*a,v=2/3*a,d=1/4*i,p=3/4*i;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:h,y1:d,x2:h,y2:p,stroke:l,cursor:f}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:v,y1:d,x2:v,y2:p,stroke:l,cursor:f}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var n=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",n),t.draw()}),this.get("group").on("mouseleave",function(){var n=t.get("style").fill;t.getElementByLocalId("background").attr("fill",n),t.draw()})},e.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},e}(ke),BR={fill:"#416180",opacity:.05},FR={fill:"#5B8FF9",opacity:.15,cursor:"move"},Ns=10,$R={width:Ns,height:24},YR={textBaseline:"middle",fill:"#000",opacity:.45},NR="sliderchange",VR=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.onMouseDown=function(n){return function(a){t.currentTarget=n;var i=a.originalEvent;i.stopPropagation(),i.preventDefault(),t.prevX=O(i,"touches.0.pageX",i.pageX),t.prevY=O(i,"touches.0.pageY",i.pageY);var o=t.getContainerDOM();o.addEventListener("mousemove",t.onMouseMove),o.addEventListener("mouseup",t.onMouseUp),o.addEventListener("mouseleave",t.onMouseUp),o.addEventListener("touchmove",t.onMouseMove),o.addEventListener("touchend",t.onMouseUp),o.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(n){var a=t.cfg.width,i=[t.get("start"),t.get("end")];n.stopPropagation(),n.preventDefault();var o=O(n,"touches.0.pageX",n.pageX),s=O(n,"touches.0.pageY",n.pageY),l=o-t.prevX,u=t.adjustOffsetRange(l/a);t.updateStartEnd(u),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=o,t.prevY=s,t.draw(),t.emit(NR,[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:i,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var n=t.getContainerDOM();n&&(n.removeEventListener("mousemove",t.onMouseMove),n.removeEventListener("mouseup",t.onMouseUp),n.removeEventListener("mouseleave",t.onMouseUp),n.removeEventListener("touchmove",t.onMouseMove),n.removeEventListener("touchend",t.onMouseUp),n.removeEventListener("touchcancel",t.onMouseUp))},t}return e.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var a=this.get("start"),i=this.get("end"),o=Ut(a,t,n),s=Ut(i,t,n);!this.get("isInit")&&(a!==o||i!==s)&&this.setValue([o,s])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var n=this.getRange();if(Y(t)&&t.length===2){var a=[this.get("start"),this.get("end")];this.update({start:Ut(t[0],n.min,n.max),end:Ut(t[1],n.min,n.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:a,value:t})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:BR,foregroundStyle:FR,handlerStyle:$R,textStyle:YR}})},e.prototype.update=function(t){var n=t.start,a=t.end,i=b({},t);B(n)||(i.start=Ut(n,0,1)),B(a)||(i.end=Ut(a,0,1)),r.prototype.update.call(this,i),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},e.prototype.init=function(){this.set("start",Ut(this.get("start"),0,1)),this.set("end",Ut(this.get("end"),0,1)),r.prototype.init.call(this)},e.prototype.render=function(){r.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},e.prototype.renderInner=function(t){var n=this.cfg;n.start,n.end;var a=n.width,i=n.height,o=n.trendCfg,s=o===void 0?{}:o,l=n.minText,u=n.maxText,c=n.backgroundStyle,f=c===void 0?{}:c,h=n.foregroundStyle,v=h===void 0?{}:h,d=n.textStyle,p=d===void 0?{}:d,g=G({},Zw,this.cfg.handlerStyle);qe(O(s,"data"))&&(this.trend=this.addComponent(t,b({component:LR,id:this.getElementId("trend"),x:0,y:0,width:a,height:i},s))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:b({x:0,y:0,width:a,height:i},f)}),this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:b({y:i/2,textAlign:"right",text:l,silent:!1},p)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:b({y:i/2,textAlign:"left",text:u,silent:!1},p)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:b({y:0,height:i},v)});var y=O(g,"width",Ns),w=O(g,"height",24);this.minHandler=this.addComponent(t,{component:em,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(i-w)/2,width:y,height:w,cursor:"ew-resize",style:g}),this.maxHandler=this.addComponent(t,{component:em,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(i-w)/2,width:y,height:w,cursor:"ew-resize",style:g})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,n,a){var i=this.cfg,o=i.start,s=i.end,l=i.width,u=i.minText,c=i.maxText,f=i.handlerStyle,h=i.height,v=o*l,d=s*l;this.trend&&(this.trend.update({width:l,height:h}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",v),t.attr("width",d-v);var p=O(f,"width",Ns);n.attr("text",u),a.attr("text",c);var g=this._dodgeText([v,d],n,a),y=g[0],w=g[1];this.minHandler&&(this.minHandler.update({x:v-p/2}),this.get("updateAutoRender")||this.minHandler.render()),M(y,function(x,m){return n.attr(m,x)}),this.maxHandler&&(this.maxHandler.update({x:d-p/2}),this.get("updateAutoRender")||this.maxHandler.render()),M(w,function(x,m){return a.attr(m,x)})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var n=t.findById(this.getElementId("foreground"));n.on("mousedown",this.onMouseDown("foreground")),n.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(t){var n=this.cfg,a=n.start,i=n.end;switch(this.currentTarget){case"minHandler":{var o=0-a,s=1-a;return Math.min(s,Math.max(o,t))}case"maxHandler":{var o=0-i,s=1-i;return Math.min(s,Math.max(o,t))}case"foreground":{var o=0-a,s=1-i;return Math.min(s,Math.max(o,t))}}},e.prototype.updateStartEnd=function(t){var n=this.cfg,a=n.start,i=n.end;switch(this.currentTarget){case"minHandler":a+=t;break;case"maxHandler":i+=t;break;case"foreground":a+=t,i+=t;break}this.set("start",a),this.set("end",i)},e.prototype._dodgeText=function(t,n,a){var i,o,s=this.cfg,l=s.handlerStyle,u=s.width,c=2,f=O(l,"width",Ns),h=t[0],v=t[1],d=!1;h>v&&(i=[v,h],h=i[0],v=i[1],o=[a,n],n=o[0],a=o[1],d=!0);var p=n.getBBox(),g=a.getBBox(),y=p.width>h-c?{x:h+f/2+c,textAlign:"left"}:{x:h-f/2-c,textAlign:"right"},w=g.width>u-v-c?{x:v-f/2-c,textAlign:"right"}:{x:v+f/2+c,textAlign:"left"};return d?[w,y]:[y,w]},e.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},e.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},e}(ke),HR={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},bc={default:HR,hover:{thumbColor:"rgba(0,0,0,0.2)"}},zR=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.clearEvents=pn,t.onStartEvent=function(n){return function(a){t.isMobile=n,a.originalEvent.preventDefault();var i=n?O(a.originalEvent,"touches.0.clientX"):a.clientX,o=n?O(a.originalEvent,"touches.0.clientY"):a.clientY;t.startPos=t.cfg.isHorizontal?i:o,t.bindLaterEvent()}},t.bindLaterEvent=function(){var n=t.getContainerDOM(),a=[];t.isMobile?a=[pa(n,"touchmove",t.onMouseMove),pa(n,"touchend",t.onMouseUp),pa(n,"touchcancel",t.onMouseUp)]:a=[pa(n,"mousemove",t.onMouseMove),pa(n,"mouseup",t.onMouseUp),pa(n,"mouseleave",t.onMouseUp)],t.clearEvents=function(){a.forEach(function(i){i.remove()})}},t.onMouseMove=function(n){var a=t.cfg,i=a.isHorizontal,o=a.thumbOffset;n.preventDefault();var s=t.isMobile?O(n,"touches.0.clientX"):n.clientX,l=t.isMobile?O(n,"touches.0.clientY"):n.clientY,u=i?s:l,c=u-t.startPos;t.startPos=u,t.updateThumbOffset(o+c)},t.onMouseUp=function(n){n.preventDefault(),t.clearEvents()},t.onTrackClick=function(n){var a=t.cfg,i=a.isHorizontal,o=a.x,s=a.y,l=a.thumbLen,u=t.getContainerDOM(),c=u.getBoundingClientRect(),f=n.clientX,h=n.clientY,v=i?f-c.left-o-l/2:h-c.top-s-l/2,d=t.validateRange(v);t.updateThumbOffset(d)},t.onThumbMouseOver=function(){var n=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t.onThumbMouseOut=function(){var n=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t}return e.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var a=this.getValue(),i=Ut(a,t,n);a!==i&&!this.get("isInit")&&this.setValue(i)},e.prototype.getRange=function(){var t=this.get("minLimit")||0,n=this.get("maxLimit")||1;return{min:t,max:n}},e.prototype.setValue=function(t){var n=this.getRange(),a=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Ut(t,n.min,n.max)}),this.delegateEmit("valuechange",{originalValue:a,value:this.getValue()})},e.prototype.getValue=function(){return Ut(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return b(b({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:bc})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var n=this.cfg,a=n.trackLen,i=n.theme,o=i===void 0?{default:{}}:i,s=G({},bc,o).default,l=s.lineCap,u=s.trackColor,c=s.size,f=O(this.cfg,"size",c),h=this.get("isHorizontal")?{x1:0+f/2,y1:f/2,x2:a-f/2,y2:f/2,lineWidth:f,stroke:u,lineCap:l}:{x1:f/2,y1:0+f/2,x2:f/2,y2:a-f/2,lineWidth:f,stroke:u,lineCap:l};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:h})},e.prototype.renderThumbShape=function(t){var n=this.cfg,a=n.thumbOffset,i=n.thumbLen,o=n.theme,s=G({},bc,o).default,l=s.size,u=s.lineCap,c=s.thumbColor,f=O(this.cfg,"size",l),h=this.get("isHorizontal")?{x1:a+f/2,y1:f/2,x2:a+i-f/2,y2:f/2,lineWidth:f,stroke:c,lineCap:u,cursor:"default"}:{x1:f/2,y1:a+f/2,x2:f/2,y2:a+i-f/2,lineWidth:f,stroke:c,lineCap:u,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:h})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp);var n=t.findById(this.getElementId("track"));n.on("click",this.onTrackClick);var a=t.findById(this.getElementId("thumb"));a.on("mouseover",this.onThumbMouseOver),a.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},e.prototype.validateRange=function(t){var n=this.cfg,a=n.thumbLen,i=n.trackLen,o=t;return t+a>i?o=i-a:t+a<a&&(o=0),o},e.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},e.prototype.updateThumbOffset=function(t){var n=this.cfg,a=n.thumbOffset,i=n.isHorizontal,o=n.thumbLen,s=n.size,l=this.validateRange(t);if(l!==a){var u=this.getElementByLocalId("thumb");i?u.attr({x1:l+s/2,x2:l+o-s/2}):u.attr({y1:l+s/2,y2:l+o-s/2}),this.emitOffsetChange(l)}},e.prototype.emitOffsetChange=function(t){var n=this.cfg,a=n.thumbOffset,i=n.trackLen,o=n.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Ut(t/(i-o),0,1)}),this.delegateEmit("valuechange",{originalValue:a,value:t})},e}(ke),GR=uR,WR=cR,XR=gR,UR=pR,rm=yR,qR=xR,Iu=PR;function jR(r){if(Yr(r))return null;var e=r[0].x,t=r[0].x,n=r[0].y,a=r[0].y;return M(r,function(i){e=e>i.x?i.x:e,t=t<i.x?i.x:t,n=n>i.y?i.y:n,a=a<i.y?i.y:a}),{minX:e,maxX:t,minY:n,maxY:a,centerX:(e+t)/2,centerY:(n+a)/2}}function nm(r){return Array.from(new Set(r)).length===1}function am(r){return($r(r)+Cr(r))/2}function se(r,e,t,n){return{x:r+t*Math.cos(n),y:e+t*Math.sin(n)}}function Qn(r,e,t,n,a,i){i===void 0&&(i=0);var o=se(r,e,t,n),s=se(r,e,t,a),l=se(r,e,i,n),u=se(r,e,i,a);if(a-n===Math.PI*2){var c=se(r,e,t,n+Math.PI),f=se(r,e,i,n+Math.PI),h=[["M",o.x,o.y],["A",t,t,0,1,1,c.x,c.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return i&&(h.push(["A",i,i,0,1,0,f.x,f.y]),h.push(["A",i,i,0,1,0,u.x,u.y])),h.push(["M",o.x,o.y]),h.push(["Z"]),h}var v=a-n<=Math.PI?0:1,d=[["M",o.x,o.y],["A",t,t,0,v,1,s.x,s.y],["L",u.x,u.y]];return i&&d.push(["A",i,i,0,v,0,l.x,l.y]),d.push(["L",o.x,o.y]),d.push(["Z"]),d}function Kw(r,e,t,n,a){var i=se(r,e,t,n),o=se(r,e,t,a);if(Ce(a-n,Math.PI*2)){var s=se(r,e,t,n+Math.PI);return[["M",i.x,i.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,i.x,i.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,i.x,i.y],["Z"]]}var l=a-n<=Math.PI?0:1;return[["M",i.x,i.y],["A",t,t,0,l,1,o.x,o.y]]}function Gl(r,e){var t=r.points,n=jR(t),a,i,o=e.startAngle,s=e.endAngle,l=s-o;return e.isTransposed?(a=n.maxY*l,i=n.minY*l):(a=n.maxX*l,i=n.minX*l),a+=o,i+=o,{startAngle:i,endAngle:a}}function QR(r,e){if(Pt(r)&&Pt(e))return[r,e];if(r=r,e=e,nm(r)||nm(e))return[am(r),am(e)];for(var t=-1,n=0,a=0,i,o=r.length-1,s,l=0;++t<r.length;)i=o,o=t,l+=s=r[i]*e[o]-r[o]*e[i],n+=(r[i]+r[o])*s,a+=(e[i]+e[o])*s;return l*=3,[n/l,a/l]}function Jw(r,e){var t=r.attr(),n=e.attr();return M(t,function(a,i){n[i]===void 0&&(n[i]=void 0)}),n}function Ta(r,e,t){var n=Math.min(e,t),a=Math.max(e,t);return r>=n&&r<=a}function ZR(r,e,t){if(ct(r))return r.padEnd(e,t);if(Y(r)){var n=r.length;if(n<e)for(var a=e-n,i=0;i<a;i++)r.push(t)}return r}function ze(r,e){return typeof r=="object"&&e.forEach(function(t){delete r[t]}),r}function dn(r,e,t){var n,a;e===void 0&&(e=[]),t===void 0&&(t=new Map);try{for(var i=St(r),o=i.next();!o.done;o=i.next()){var s=o.value;t.has(s)||(e.push(s),t.set(s,!0))}}catch(l){n={error:l}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return e}var Fe=function(){function r(e,t,n,a){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0),this.x=e,this.y=t,this.height=a,this.width=n}return r.fromRange=function(e,t,n,a){return new r(e,t,n-e,a-t)},r.fromObject=function(e){return new r(e.minX,e.minY,e.width,e.height)},Object.defineProperty(r.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),r.prototype.isEqual=function(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height},r.prototype.contains=function(e){return e.minX>=this.minX&&e.maxX<=this.maxX&&e.minY>=this.minY&&e.maxY<=this.maxY},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.clone();return M(e,function(a){n.x=Math.min(a.x,n.x),n.y=Math.min(a.y,n.y),n.width=Math.max(a.maxX,n.maxX)-n.x,n.height=Math.max(a.maxY,n.maxY)-n.y}),n},r.prototype.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.clone();return M(e,function(a){n.x=Math.max(a.x,n.x),n.y=Math.max(a.y,n.y),n.width=Math.min(a.maxX,n.maxX)-n.x,n.height=Math.min(a.maxY,n.maxY)-n.y}),n},r.prototype.cut=function(e,t){var n=e.width,a=e.height;switch(t){case V.TOP:case V.TOP_LEFT:case V.TOP_RIGHT:return r.fromRange(this.minX,this.minY+a,this.maxX,this.maxY);case V.RIGHT:case V.RIGHT_TOP:case V.RIGHT_BOTTOM:return r.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case V.BOTTOM:case V.BOTTOM_LEFT:case V.BOTTOM_RIGHT:return r.fromRange(this.minX,this.minY,this.maxX,this.maxY-a);case V.LEFT:case V.LEFT_TOP:case V.LEFT_BOTTOM:return r.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},r.prototype.shrink=function(e){var t=q(e,4),n=t[0],a=t[1],i=t[2],o=t[3];return new r(this.x+o,this.y+n,this.width-o-a,this.height-n-i)},r.prototype.expand=function(e){var t=q(e,4),n=t[0],a=t[1],i=t[2],o=t[3];return new r(this.x-o,this.y-n,this.width+o+a,this.height+n+i)},r.prototype.exceed=function(e){return[Math.max(-this.minY+e.minY,0),Math.max(this.maxX-e.maxX,0),Math.max(this.maxY-e.maxY,0),Math.max(-this.minX+e.minX,0)]},r.prototype.collide=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},r.prototype.size=function(){return this.width*this.height},r.prototype.isPointIn=function(e){return e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY},r}();function KR(r){return[[r.minX,r.minY],[r.maxX,r.minY],[r.maxX,r.maxY],[r.minX,r.maxY]]}function fo(r){if(r.isPolar&&!r.isTransposed)return(r.endAngle-r.startAngle)*r.getRadius();var e=r.convert({x:0,y:0}),t=r.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function JR(r){if(r.isPolar){var e=r.startAngle,t=r.endAngle;return t-e===Math.PI*2}return!1}function Ru(r,e){var t=r.getCenter();return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function tL(r,e){var t=!1;if(r)if(r.type==="theta"){var n=r.start,a=r.end;t=Ta(e.x,n.x,a.x)&&Ta(e.y,n.y,a.y)}else{var i=r.invert(e);t=Ta(i.x,0,1)&&Ta(i.y,0,1)}return t}function za(r,e){var t=r.getCenter();return Math.atan2(e.y-t.y,e.x-t.x)}function bd(r,e){e===void 0&&(e=0);var t=r.start,n=r.end,a=r.getWidth(),i=r.getHeight();if(r.isPolar){var o=r.startAngle,s=r.endAngle,l=r.getCenter(),u=r.getRadius();return{type:"path",startState:{path:Qn(l.x,l.y,u+e,o,o)},endState:function(f){var h=(s-o)*f+o,v=Qn(l.x,l.y,u+e,o,h);return{path:v}},attrs:{path:Qn(l.x,l.y,u+e,o,s)}}}var c;return r.isTransposed?c={height:i+e*2}:c={width:a+e*2},{type:"rect",startState:{x:t.x-e,y:n.y-e,width:r.isTransposed?a+e*2:0,height:r.isTransposed?0:i+e*2},endState:c,attrs:{x:t.x-e,y:n.y-e,width:a+e*2,height:i+e*2}}}function eL(r,e){e===void 0&&(e=0);var t=r.start,n=r.end,a=r.getWidth(),i=r.getHeight(),o=Math.min(t.x,n.x),s=Math.min(t.y,n.y);return Fe.fromRange(o-e,s-e,o+a+e,s+i+e)}var rL=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function nL(r){var e="linear";return rL.test(r)?e="timeCat":ct(r)&&(e="cat"),e}function tb(r,e,t,n){return e===void 0&&(e={}),e.type?e.type:r.type!=="identity"&&Ca.includes(t)&&["interval"].includes(n)||r.isCategory?"cat":r.type}function aL(r,e,t){var n=e||[];if(Pt(r)||B(BA(n,r))&&Yr(t)){var a=rv("identity");return new a({field:r.toString(),values:[r]})}var i=Zr(n,r),o=O(t,"type",nL(i[0])),s=rv(o);return new s(b({field:r,values:i},t))}function iL(r,e){if(r.type!=="identity"&&e.type!=="identity"){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);r.change(t)}}function Ji(r){return r.alias||r.field}function eb(r,e,t){var n=r.values,a=n.length,i;if(a===1)i=[.5,1];else{var o=1,s=0;JR(e)?e.isTransposed?(o=O(t,"widthRatio.multiplePie",1/1.3),s=1/a*o,i=[s/2,1-s/2]):i=[0,1-1/a]:(s=1/a/2,i=[s,1-s])}return i}function oL(r){var e=r.values.filter(function(t){return!B(t)&&!isNaN(t)});return Math.max.apply(Math,Dt(Dt([],q(e),!1),[B(r.max)?-1/0:r.max],!1))}function sL(r){var e,t;switch(r){case V.TOP:e={x:0,y:1},t={x:1,y:1};break;case V.RIGHT:e={x:1,y:0},t={x:1,y:1};break;case V.BOTTOM:e={x:0,y:0},t={x:1,y:0};break;case V.LEFT:e={x:0,y:0},t={x:0,y:1};break;default:e=t={x:0,y:0}}return{start:e,end:t}}function lL(r){var e,t;return r.isTransposed?(e={x:0,y:0},t={x:1,y:0}):(e={x:0,y:0},t={x:0,y:1}),{start:e,end:t}}function Lo(r,e){var t={start:{x:0,y:0},end:{x:0,y:0}};r.isRect?t=sL(e):r.isPolar&&(t=lL(r));var n=t.start,a=t.end;return{start:r.convert(n),end:r.convert(a)}}function rb(r){var e=r.start,t=r.end;return e.x===t.x}function im(r,e){var t=r.start,n=r.end,a=rb(r);return a?(t.y-n.y)*(e.x-t.x)>0?1:-1:(n.x-t.x)*(t.y-e.y)>0?-1:1}function Bo(r,e){var t=O(r,["components","axis"],{});return G({},O(t,["common"],{}),G({},O(t,[e],{})))}function om(r,e,t){var n=O(r,["components","axis"],{});return G({},O(n,["common","title"],{}),G({},O(n,[e,"title"],{})),t)}function Cc(r){var e=r.x,t=r.y,n=r.circleCenter,a=t.start>t.end,i=r.isTransposed?r.convert({x:a?0:1,y:0}):r.convert({x:0,y:a?0:1}),o=[i.x-n.x,i.y-n.y],s=[1,0],l=i.y>n.y?zh(o,s):zh(o,s)*-1,u=l+(e.end-e.start),c=Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2));return{center:n,radius:c,startAngle:l,endAngle:u}}function Wl(r,e){return Ni(r)?r===!1?!1:{}:O(r,[e])}function sm(r,e){return O(r,"position",e)}function lm(r,e){return O(e,["title","text"],Ji(r))}var Qa=function(){function r(e,t){this.destroyed=!1,this.facets=[],this.view=e,this.cfg=G({},this.getDefaultCfg(),t)}return r.prototype.init=function(){this.container||(this.container=this.createContainer());var e=this.view.getData();this.facets=this.generateFacets(e)},r.prototype.render=function(){this.renderViews()},r.prototype.update=function(){},r.prototype.clear=function(){this.clearFacetViews()},r.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},r.prototype.facetToView=function(e){var t=e.region,n=e.data,a=e.padding,i=a===void 0?this.cfg.padding:a,o=this.view.createView({region:t,padding:i});o.data(n||[]),e.view=o,this.beforeEachView(o,e);var s=this.cfg.eachView;return s&&s(o,e),this.afterEachView(o,e),o},r.prototype.createContainer=function(){var e=this.view.getLayer(te.FORE);return e.addGroup()},r.prototype.renderViews=function(){this.createFacetViews()},r.prototype.createFacetViews=function(){var e=this;return this.facets.map(function(t){return e.facetToView(t)})},r.prototype.clearFacetViews=function(){var e=this;M(this.facets,function(t){t.view&&(e.view.removeView(t.view),t.view=void 0)})},r.prototype.parseSpacing=function(){var e=this.view.viewBBox,t=e.width,n=e.height,a=this.cfg.spacing;return a.map(function(i,o){return Pt(i)?i/(o===0?t:n):parseFloat(i)/100})},r.prototype.getFieldValues=function(e,t){var n=[],a={};return M(e,function(i){var o=i[t];!B(o)&&!a[o]&&(n.push(o),a[o]=!0)}),n},r.prototype.getRegion=function(e,t,n,a){var i=q(this.parseSpacing(),2),o=i[0],s=i[1],l=(1+o)/(t===0?1:t)-o,u=(1+s)/(e===0?1:e)-s,c={x:(l+o)*n,y:(u+s)*a},f={x:c.x+l,y:c.y+u};return{start:c,end:f}},r.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},r.prototype.getDefaultTitleCfg=function(){var e=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:e}}},r.prototype.processAxis=function(e,t){var n=e.getOptions(),a=n.coordinate,i=e.geometries,o=O(a,"type","rect");if(o==="rect"&&i.length){B(n.axes)&&(n.axes={});var s=n.axes,l=q(i[0].getXYFields(),2),u=l[0],c=l[1],f=Wl(s,u),h=Wl(s,c);f!==!1&&(n.axes[u]=this.getXAxisOption(u,s,f,t)),h!==!1&&(n.axes[c]=this.getYAxisOption(c,s,h,t))}},r.prototype.getFacetDataFilter=function(e){return function(t){return VA(e,function(n){var a=n.field,i=n.value;return!B(i)&&a?t[a]===i:!0})}},r}(),nb={},uL=function(r){return nb[qa(r)]},Za=function(r,e){nb[qa(r)]=e},de=function(){function r(e,t){this.context=e,this.cfg=t,e.addAction(this)}return r.prototype.applyCfg=function(e){Jt(this,e)},r.prototype.init=function(){this.applyCfg(this.cfg)},r.prototype.destroy=function(){this.context.removeAction(this),this.context=null},r}(),cL=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.callback=null},e}(de),ab={};function fL(r,e){var t=ab[r],n=null;if(t){var a=t.ActionClass,i=t.cfg;n=new a(e,i),n.name=r,n.init()}return n}function et(r,e,t){ab[r]={ActionClass:e,cfg:t}}function hL(r,e){var t=new cL(e);return t.callback=r,t.name="callback",t}function vL(r,e){var t=[];if(r.length){t.push(["M",r[0].x,r[0].y]);for(var n=1,a=r.length;n<a;n+=1){var i=r[n];t.push(["L",i.x,i.y])}e&&t.push(["Z"])}return t}function lv(r,e){for(var t=[r[0]],n=1,a=r.length;n<a;n=n+2){var i=e.convert({x:r[n],y:r[n+1]});t.push(i.x,i.y)}return t}function ib(r,e){var t=e.isTransposed,n=r[1],a=r[6],i=r[7],o=e.convert({x:a,y:i}),s=t?0:1;return["A",n,n,0,0,s,o.x,o.y]}function dL(r,e,t){var n=t.isTransposed,a=t.startAngle,i=t.endAngle,o=r[0].toLowerCase()==="a"?{x:r[6],y:r[7]}:{x:r[1],y:r[2]},s={x:e[1],y:e[2]},l=[],u=n?"y":"x",c=Math.abs(s[u]-o[u])*(i-a),f=s[u]>=o[u]?1:0,h=c>Math.PI?1:0,v=t.convert(s),d=Ru(t,v);if(d>=.5)if(c===Math.PI*2){var p={x:(s.x+o.x)/2,y:(s.y+o.y)/2},g=t.convert(p);l.push(["A",d,d,0,h,f,g.x,g.y]),l.push(["A",d,d,0,h,f,v.x,v.y])}else l.push(["A",d,d,0,h,f,v.x,v.y]);return l}function pL(r){M(r,function(e,t){var n=e;if(n[0].toLowerCase()==="a"){var a=r[t-1],i=r[t+1];i&&i[0].toLowerCase()==="a"?a&&a[0].toLowerCase()==="l"&&(a[0]="M"):a&&a[0].toLowerCase()==="a"&&i&&i[0].toLowerCase()==="l"&&(i[0]="M")}})}var gL=function(r,e,t,n){var a,i=[],o=!!n,s,l,u,c,f,h,v;if(o){a=q(n,2),u=a[0],c=a[1];for(var d=0,p=r.length;d<p;d++){var g=r[d];u=Ge([0,0],u,g),c=We([0,0],c,g)}}for(var d=0,y=r.length;d<y;d++){var g=r[d];if(d===0&&!t)v=g;else if(d===y-1&&!t)h=g,i.push(v),i.push(h);else{s=r[t?d?d-1:y-1:d-1],l=r[t?(d+1)%y:d+1];var w=[0,0];w=Oa(w,l,s),w=ur(w,w,e);var x=El(g,s),m=El(g,l),C=x+m;C!==0&&(x/=C,m/=C);var S=ur([0,0],w,-x),T=ur([0,0],w,m);h=gn([0,0],g,S),f=gn([0,0],g,T),f=Ge([0,0],f,We([0,0],l,g)),f=We([0,0],f,Ge([0,0],l,g)),S=Oa([0,0],f,g),S=ur([0,0],S,-x/m),h=gn([0,0],g,S),h=Ge([0,0],h,We([0,0],s,g)),h=We([0,0],h,Ge([0,0],s,g)),T=Oa([0,0],g,h),T=ur([0,0],T,m/x),f=gn([0,0],g,T),o&&(h=We([0,0],h,u),h=Ge([0,0],h,c),f=We([0,0],f,u),f=Ge([0,0],f,c)),i.push(v),i.push(h),v=f}}return t&&i.push(i.shift()),i};function ob(r,e,t){for(var n=!!e,a=[],i=0,o=r.length;i<o;i+=2)a.push([r[i],r[i+1]]);for(var s=gL(a,.4,n,t),l=a.length,u=[],c,f,h,i=0;i<l-1;i++)c=s[i*2],f=s[i*2+1],h=a[i+1],u.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]]);return n&&(c=s[l],f=s[l+1],h=a[0],u.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]])),u}function ho(r,e){return vL(r,e)}function Xl(r,e,t){var n=[],a=r[0],i=null;if(r.length<=2)return ho(r,e);for(var o=0,s=r.length;o<s;o++){var l=r[o];(!i||!(i.x===l.x&&i.y===l.y))&&(n.push(l.x),n.push(l.y),i=l)}var u=t||[[0,0],[1,1]],c=ob(n,e,u);return c.unshift(["M",a.x,a.y]),c}function yL(r,e){var t=[];return M(e,function(n){var a=n[0];switch(a.toLowerCase()){case"m":case"l":case"c":t.push(lv(n,r));break;case"a":t.push(ib(n,r));break;case"z":default:t.push(n);break}}),t}function mL(r,e){var t=[],n,a,i,o;return M(e,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(lv(s,r));break;case"l":n=e[l-1],a=s,i=r.isTransposed,o=i?n[n.length-2]===a[1]:n[n.length-1]===a[2],o?t=t.concat(dL(n,a,r)):t.push(lv(s,r));break;case"a":t.push(ib(s,r));break;case"z":default:t.push(s);break}}),pL(t),t}function sb(r,e){var t=r.event,n=t.target;return ub(n,e)}function lb(r,e){var t=r.getCanvasBBox(),n=t.width,a=t.height;return n>0&&a>0&&(n>=e||a>=e)}function ub(r,e){var t=r.getCanvasBBox();return lb(r,e)?t:null}function cb(r,e){var t=r.event.maskShapes;return t.map(function(n){return ub(n,e)}).filter(function(n){return!!n})}function xL(r,e){var t=r.event,n=t.target;return fb(n,e)}function fb(r,e){return lb(r,e)?r.attr("path"):null}function wL(r,e){var t=r.event.maskShapes;return t.map(function(n){return fb(n,e)})}function Tn(r){var e=r.event,t,n=e.target;return n&&(t=n.get("element")),t}function Ga(r){var e=r.event,t=e.target,n;return t&&(n=t.get("delegateObject")),n}function hb(r){var e=r.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function to(r){return r&&r.component&&r.component.isList()}function vb(r){return r&&r.component&&r.component.isSlider()}function eo(r){var e=r.event,t=e.target;return t&&(t==null?void 0:t.get("name"))==="mask"||Lu(r)}function Lu(r){var e;return((e=r.event.target)===null||e===void 0?void 0:e.get("name"))==="multi-mask"}function Cd(r,e){var t=r.event.target;if(Lu(r))return bL(r,e);if(t.get("type")==="path"){var n=xL(r,e);return n?yb(r.view,n):void 0}var a=sb(r,e);return a?Bu(r.view,a):null}function bL(r,e){var t=r.event.target;if(t.get("type")==="path"){var n=wL(r,e);return n.length>0?n.flatMap(function(i){return yb(r.view,i)}):null}var a=cb(r,e);return a.length>0?a.flatMap(function(i){return Bu(r.view,i)}):null}function db(r,e,t){if(Lu(r))return CL(r,e,t);var n=sb(r,t);return n?pb(n,r,e):null}function pb(r,e,t){var n=e.view,a=uv(n,t,{x:r.x,y:r.y}),i=uv(n,t,{x:r.maxX,y:r.maxY}),o={minX:a.x,minY:a.y,maxX:i.x,maxY:i.y};return Bu(t,o)}function CL(r,e,t){var n=cb(r,t);return n.length>0?n.flatMap(function(a){return pb(a,r,e)}):null}function Te(r){var e=r.geometries,t=[];return M(e,function(n){var a=n.elements;t=t.concat(a)}),r.views&&r.views.length&&M(r.views,function(n){t=t.concat(Te(n))}),t}function SL(r,e,t){var n=Te(r);return n.filter(function(a){return Sr(a,e)===t})}function gb(r,e){var t=r.geometries,n=[];return M(t,function(a){var i=a.getElementsBy(function(o){return o.hasState(e)});n=n.concat(i)}),n}function Sr(r,e){var t=r.getModel(),n=t.data,a;return Y(n)?a=n[0][e]:a=n[e],a}function ML(r,e){return!(e.minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)}function Bu(r,e){var t=Te(r),n=[];return M(t,function(a){var i=a.shape,o=i.getCanvasBBox();ML(e,o)&&n.push(a)}),n}function um(r){var e=[];return M(r,function(t){var n=t[0];if(n!=="A")for(var a=1;a<t.length;a=a+2)e.push([t[a],t[a+1]]);else{var i=t.length;e.push([t[i-2],t[i-1]])}}),e}function yb(r,e){var t=Te(r),n=um(e),a=t.filter(function(i){var o=i.shape,s;if(o.get("type")==="path")s=um(o.attr("path"));else{var l=o.getCanvasBBox();s=KR(l)}return K_(n,s)});return a}function mb(r){return r.getComponents().map(function(e){return e.component})}function Sd(r,e){var t=e.x-r.x,n=e.y-r.y;return Math.sqrt(t*t+n*n)}function TL(r,e){if(r.length<=2)return ho(r,!1);var t=r[0],n=[];M(r,function(i){n.push(i.x),n.push(i.y)});var a=ob(n,e,null);return a.unshift(["M",t.x,t.y]),a}function cm(r,e){return r.x<=e.x&&r.maxX>=e.x&&r.y<=e.y&&r.maxY>e.y}function Fr(r){var e=r.parent,t=null;return e&&(t=e.views.filter(function(n){return n!==r})),t}function PL(r,e){var t=r.getCoordinate();return t.invert(e)}function uv(r,e,t){var n=PL(r,t);return e.getCoordinate().convert(n)}function xb(r,e,t,n){var a=!1;return M(r,function(i){if(i[t]===e[t]&&i[n]===e[n])return a=!0,!1}),a}function Wa(r,e){var t=r.getScaleByField(e);return!t&&r.views&&M(r.views,function(n){if(t=Wa(n,e),t)return!1}),t}var OL=function(){function r(e){this.actions=[],this.event=null,this.cacheMap={},this.view=e}return r.prototype.cache=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1)return this.cacheMap[e[0]];e.length===2&&(this.cacheMap[e[0]]=e[1])},r.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},r.prototype.addAction=function(e){this.actions.push(e)},r.prototype.removeAction=function(e){var t=this.actions,n=this.actions.indexOf(e);n>=0&&t.splice(n,1)},r.prototype.getCurrentPoint=function(){var e=this.event;if(e)if(e.target instanceof HTMLElement){var t=this.view.getCanvas(),n=t.getPointByClient(e.clientX,e.clientY);return n}else return{x:e.x,y:e.y};return null},r.prototype.getCurrentShape=function(){return O(this.event,["gEvent","shape"])},r.prototype.isInPlot=function(){var e=this.getCurrentPoint();return e?this.view.isPointInPlot(e):!1},r.prototype.isInShape=function(e){var t=this.getCurrentShape();return t?t.get("name")===e:!1},r.prototype.isInComponent=function(e){var t=mb(this.view),n=this.getCurrentPoint();return n?!!t.find(function(a){var i=a.getBBox();return e?a.get("name")===e&&cm(i,n):cm(i,n)}):!1},r.prototype.destroy=function(){M(this.actions.slice(),function(e){e.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},r}(),kL=function(){function r(e,t){this.view=e,this.cfg=t}return r.prototype.init=function(){this.initEvents()},r.prototype.initEvents=function(){},r.prototype.clearEvents=function(){},r.prototype.destroy=function(){this.clearEvents()},r}();function fm(r,e,t){var n=r.split(":"),a=n[0],i=e.getAction(a)||fL(a,e);if(!i)throw new Error("There is no action named ".concat(a));var o=n[1];return{action:i,methodName:o,arg:t}}function hm(r){var e=r.action,t=r.methodName,n=r.arg;if(e[t])e[t](n);else throw new Error("Action(".concat(e.name,") doesn't have a method called ").concat(t))}var tr={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},AL=function(r){_(e,r);function e(t,n){var a=r.call(this,t,n)||this;return a.callbackCaches={},a.emitCaches={},a.steps=n,a}return e.prototype.init=function(){this.initContext(),r.prototype.init.call(this)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;M(this.steps,function(n,a){M(n,function(i){var o=t.getActionCallback(a,i);o&&t.bindEvent(i.trigger,o)})})},e.prototype.clearEvents=function(){var t=this;M(this.steps,function(n,a){M(n,function(i){var o=t.getActionCallback(a,i);o&&t.offEvent(i.trigger,o)})})},e.prototype.initContext=function(){var t=this.view,n=new OL(t);this.context=n;var a=this.steps;M(a,function(i){M(i,function(o){if(J(o.action))o.actionObject={action:hL(o.action,n),methodName:"execute"};else if(ct(o.action))o.actionObject=fm(o.action,n,o.arg);else if(Y(o.action)){var s=o.action,l=Y(o.arg)?o.arg:[o.arg];o.actionObject=[],M(s,function(u,c){o.actionObject.push(fm(u,n,l[c]))})}})})},e.prototype.isAllowStep=function(t){var n=this.currentStepName,a=this.steps;if(n===t||t===tr.SHOW_ENABLE)return!0;if(t===tr.PROCESSING)return n===tr.START;if(t===tr.START)return n!==tr.PROCESSING;if(t===tr.END)return n===tr.PROCESSING||n===tr.START;if(t===tr.ROLLBACK){if(a[tr.END])return n===tr.END;if(n===tr.START)return!0}return!1},e.prototype.isAllowExecute=function(t,n){if(this.isAllowStep(t)){var a=this.getKey(t,n);return n.once&&this.emitCaches[a]?!1:n.isEnable?n.isEnable(this.context):!0}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,n){t!==tr.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var a=this.getKey(t,n);this.emitCaches[a]=!0},e.prototype.getKey=function(t,n){return t+n.trigger+n.action},e.prototype.getActionCallback=function(t,n){var a=this,i=this.context,o=this.callbackCaches,s=n.actionObject;if(n.action&&s){var l=this.getKey(t,n);if(!o[l]){var u=function(c){i.event=c,a.isAllowExecute(t,n)?(Y(s)?M(s,function(f){i.event=c,hm(f)}):(i.event=c,hm(s)),a.afterExecute(t,n),n.callback&&(i.event=c,n.callback(i))):i.event=null};n.debounce?o[l]=hx(u,n.debounce.wait,n.debounce.immediate):n.throttle?o[l]=Qv(u,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):o[l]=u}return o[l]}return null},e.prototype.bindEvent=function(t,n){var a=t.split(":");a[0]==="window"?window.addEventListener(a[1],n):a[0]==="document"?document.addEventListener(a[1],n):this.view.on(t,n)},e.prototype.offEvent=function(t,n){var a=t.split(":");a[0]==="window"?window.removeEventListener(a[1],n):a[0]==="document"?document.removeEventListener(a[1],n):this.view.off(t,n)},e}(kL),wb={};function DL(r){return wb[qa(r)]}function Ht(r,e){wb[qa(r)]=e}function _L(r,e,t){var n=DL(r);if(!n)return null;if(Lr(n)){var a=Jt(er(n),t);return new AL(e,a)}else{var i=n;return new i(e,t)}}function EL(r){return{title:{autoRotate:!0,position:"center",spacing:r.axisTitleSpacing,style:{fill:r.axisTitleTextFillColor,fontSize:r.axisTitleTextFontSize,lineHeight:r.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:r.fontFamily},iconStyle:{fill:r.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:r.axisLabelOffset,style:{fill:r.axisLabelFillColor,fontSize:r.axisLabelFontSize,lineHeight:r.axisLabelLineHeight,fontFamily:r.fontFamily}},line:{style:{lineWidth:r.axisLineBorder,stroke:r.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:r.axisGridBorderColor,lineWidth:r.axisGridBorder,lineDash:r.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:r.axisTickLineBorder,stroke:r.axisTickLineBorderColor},alignTick:!0,length:r.axisTickLineLength},subTickLine:null,animate:!0}}function IL(r){return{title:null,marker:{symbol:"circle",spacing:r.legendMarkerSpacing,style:{r:r.legendCircleMarkerSize,fill:r.legendMarkerColor}},itemName:{spacing:5,style:{fill:r.legendItemNameFillColor,fontFamily:r.fontFamily,fontSize:r.legendItemNameFontSize,lineHeight:r.legendItemNameLineHeight,fontWeight:r.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:r.legendPageNavigatorMarkerSize,inactiveFill:r.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:r.legendPageNavigatorMarkerInactiveFillOpacity,fill:r.legendPageNavigatorMarkerFillColor,opacity:r.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:r.legendPageNavigatorTextFillColor,fontSize:r.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:r.legendItemSpacing,itemMarginBottom:r.legendItemMarginBottom,padding:r.legendPadding}}function bb(r){var e,t={point:{default:{fill:r.pointFillColor,r:r.pointSize,stroke:r.pointBorderColor,lineWidth:r.pointBorder,fillOpacity:r.pointFillOpacity},active:{stroke:r.pointActiveBorderColor,lineWidth:r.pointActiveBorder},selected:{stroke:r.pointSelectedBorderColor,lineWidth:r.pointSelectedBorder},inactive:{fillOpacity:r.pointInactiveFillOpacity,strokeOpacity:r.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:r.hollowPointFillColor,lineWidth:r.hollowPointBorder,stroke:r.hollowPointBorderColor,strokeOpacity:r.hollowPointBorderOpacity,r:r.hollowPointSize},active:{stroke:r.hollowPointActiveBorderColor,strokeOpacity:r.hollowPointActiveBorderOpacity},selected:{lineWidth:r.hollowPointSelectedBorder,stroke:r.hollowPointSelectedBorderColor,strokeOpacity:r.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:r.hollowPointInactiveBorderOpacity}},area:{default:{fill:r.areaFillColor,fillOpacity:r.areaFillOpacity,stroke:null},active:{fillOpacity:r.areaActiveFillOpacity},selected:{fillOpacity:r.areaSelectedFillOpacity},inactive:{fillOpacity:r.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:r.hollowAreaBorderColor,lineWidth:r.hollowAreaBorder,strokeOpacity:r.hollowAreaBorderOpacity},active:{fill:null,lineWidth:r.hollowAreaActiveBorder},selected:{fill:null,lineWidth:r.hollowAreaSelectedBorder},inactive:{strokeOpacity:r.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:r.intervalFillColor,fillOpacity:r.intervalFillOpacity},active:{stroke:r.intervalActiveBorderColor,lineWidth:r.intervalActiveBorder},selected:{stroke:r.intervalSelectedBorderColor,lineWidth:r.intervalSelectedBorder},inactive:{fillOpacity:r.intervalInactiveFillOpacity,strokeOpacity:r.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:r.hollowIntervalFillColor,stroke:r.hollowIntervalBorderColor,lineWidth:r.hollowIntervalBorder,strokeOpacity:r.hollowIntervalBorderOpacity},active:{stroke:r.hollowIntervalActiveBorderColor,lineWidth:r.hollowIntervalActiveBorder,strokeOpacity:r.hollowIntervalActiveBorderOpacity},selected:{stroke:r.hollowIntervalSelectedBorderColor,lineWidth:r.hollowIntervalSelectedBorder,strokeOpacity:r.hollowIntervalSelectedBorderOpacity},inactive:{stroke:r.hollowIntervalInactiveBorderColor,lineWidth:r.hollowIntervalInactiveBorder,strokeOpacity:r.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:r.lineBorderColor,lineWidth:r.lineBorder,strokeOpacity:r.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:r.lineActiveBorder},selected:{lineWidth:r.lineSelectedBorder},inactive:{strokeOpacity:r.lineInactiveBorderOpacity}}},n=EL(r),a=IL(r);return{background:r.backgroundColor,defaultColor:r.brandColor,subColor:r.subColor,semanticRed:r.paletteSemanticRed,semanticGreen:r.paletteSemanticGreen,padding:"auto",fontFamily:r.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:r.paletteQualitative10,colors20:r.paletteQualitative20,sequenceColors:r.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(i){var o=i.geometry.coordinate;if(o.isPolar&&o.isTransposed){var s=Gl(i.getModel(),o),l=s.startAngle,u=s.endAngle,c=(l+u)/2,f=7.5,h=f*Math.cos(c),v=f*Math.sin(c);return{matrix:oe(null,[["t",h,v]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:b(b({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:b(b({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:b(b({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:b(b({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:b(b({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:b(b({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:b(b({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:b(b({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:n,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:G({},n.grid,{line:{type:"line"}})},radius:{title:null,grid:G({},n.grid,{line:{type:"circle"}})}},legend:{common:a,right:{layout:"vertical",padding:r.legendVerticalPadding},left:{layout:"vertical",padding:r.legendVerticalPadding},top:{layout:"horizontal",padding:r.legendHorizontalPadding},bottom:{layout:"horizontal",padding:r.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:r.sliderRailHeight,defaultLength:r.sliderRailWidth,style:{fill:r.sliderRailFillColor,stroke:r.sliderRailBorderColor,lineWidth:r.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:r.sliderLabelTextFillColor,fontSize:r.sliderLabelTextFontSize,lineHeight:r.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:r.fontFamily}},handler:{size:r.sliderHandlerWidth,style:{fill:r.sliderHandlerFillColor,stroke:r.sliderHandlerBorderColor}},slidable:!0,padding:a.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:r.tooltipCrosshairsBorderColor,lineWidth:r.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e["".concat(Kr)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:r.tooltipContainerFillColor,opacity:r.tooltipContainerFillOpacity,boxShadow:r.tooltipContainerShadow,borderRadius:"".concat(r.tooltipContainerBorderRadius,"px"),color:r.tooltipTextFillColor,fontSize:"".concat(r.tooltipTextFontSize,"px"),fontFamily:r.fontFamily,lineHeight:"".concat(r.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},e["".concat(Jr)]={marginBottom:"12px",marginTop:"12px"},e["".concat(Ki)]={margin:0,listStyleType:"none",padding:0},e["".concat(Du)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e["".concat(_u)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e["".concat(Eu)]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:r.annotationArcBorderColor,lineWidth:r.annotationArcBorder},animate:!0},line:{style:{stroke:r.annotationLineBorderColor,lineDash:r.annotationLineDash,lineWidth:r.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,textAlign:"start",fontFamily:r.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:r.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:r.annotationRegionBorder,stroke:r.annotationRegionBorderColor,fill:r.annotationRegionFillColor,fillOpacity:r.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:r.brandColor,lineWidth:2}},line:{style:{stroke:r.annotationLineBorderColor,lineWidth:r.annotationLineBorder},length:r.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,fontFamily:r.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:r.annotationRegionFillColor,fillOpacity:r.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,fontFamily:r.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:r.cSliderBackgroundFillColor,opacity:r.cSliderBackgroundFillOpacity},foregroundStyle:{fill:r.cSliderForegroundFillColor,opacity:r.cSliderForegroundFillOpacity},handlerStyle:{width:r.cSliderHandlerWidth,height:r.cSliderHandlerHeight,fill:r.cSliderHandlerFillColor,opacity:r.cSliderHandlerFillOpacity,stroke:r.cSliderHandlerBorderColor,lineWidth:r.cSliderHandlerBorder,radius:r.cSliderHandlerBorderRadius,highLightFill:r.cSliderHandlerHighlightFillColor},textStyle:{fill:r.cSliderTextFillColor,opacity:r.cSliderTextFillOpacity,fontSize:r.cSliderTextFontSize,lineHeight:r.cSliderTextLineHeight,fontWeight:r.cSliderTextFontWeight,stroke:r.cSliderTextBorderColor,lineWidth:r.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:r.scrollbarTrackFillColor,thumbColor:r.scrollbarThumbFillColor}},hover:{style:{thumbColor:r.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:r.labelFillColor,fontSize:r.labelFontSize,fontFamily:r.fontFamily,stroke:r.labelBorderColor,lineWidth:r.labelBorder},fillColorDark:r.labelFillColorDark,fillColorLight:r.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:r.innerLabelFillColor,fontSize:r.innerLabelFontSize,fontFamily:r.fontFamily,stroke:r.innerLabelBorderColor,lineWidth:r.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:r.overflowLabelFillColor,fontSize:r.overflowLabelFontSize,fontFamily:r.fontFamily,stroke:r.overflowLabelBorderColor,lineWidth:r.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:r.labelLineBorder}},autoRotate:!0}}}var Mt={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},ga={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},RL=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],LL=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],BL=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Cb=function(r){r===void 0&&(r={});var e=r.paletteQualitative10,t=e===void 0?RL:e,n=r.paletteQualitative20,a=n===void 0?LL:n,i=r.brandColor,o=i===void 0?t[0]:i,s={backgroundColor:"transparent",brandColor:o,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:t,paletteQualitative20:a,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:BL,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:Mt[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Mt[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:ga[85],axisTickLineBorderColor:Mt[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Mt[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Mt[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Mt[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Mt[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:o,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Mt[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Mt[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Mt[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Mt[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Mt[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Mt[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Mt[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Mt[25],annotationArcBorderColor:Mt[15],annotationArcBorder:1,annotationLineBorderColor:Mt[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Mt[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Mt[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Mt[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Mt[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Mt[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:ga[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Mt[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:ga[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Mt[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:o,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:ga[100],pointBorderOpacity:1,pointActiveBorderColor:Mt[100],pointSelectedBorder:2,pointSelectedBorderColor:Mt[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:o,hollowPointBorderOpacity:.95,hollowPointFillColor:ga[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Mt[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Mt[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:o,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:o,areaFillOpacity:.25,areaActiveFillColor:o,areaActiveFillOpacity:.5,areaSelectedFillColor:o,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:o,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Mt[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Mt[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:o,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Mt[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Mt[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:o,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:ga[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Mt[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Mt[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return b(b({},s),r)};Cb();function Ul(r){var e=r.styleSheet,t=e===void 0?{}:e,n=be(r,["styleSheet"]),a=Cb(t);return G({},bb(a),n)}var FL=Ul({}),cv={default:FL};function Sc(r){return O(cv,qa(r),cv.default)}function $L(r,e){cv[qa(r)]=Ul(e)}function vm(r,e,t){var n=t.translate(r),a=t.translate(e);return Ce(n,a)}function YL(r,e){var t=e.coordinate,n=e.getXScale(),a=n.range,i=a[a.length-1],o=a[0],s=t.invert(r),l=s.x;return t.isPolar&&l>(1+i)/2&&(l=o),n.translate(n.invert(l))}function dm(r,e,t){var n=t.coordinate,a=t.getYScale(),i=a.field,o=n.invert(e),s=a.invert(o.y),l=jr(r,function(u){var c=u[At];return c[i][0]<=s&&c[i][1]>=s});return l||r[r.length-1]}var NL=lu(function(r){if(r.isCategory)return 1;for(var e=r.values,t=e.length,n=r.translate(e[0]),a=n,i=0;i<t;i++){var o=e[i],s=r.translate(o);s<n&&(n=s),s>a&&(a=s)}return(a-n)/(t-1)});function VL(r,e,t){var n=e.getAttribute("position"),a=n.getFields(),i=e.scales,o=J(t)||!t?a[0]:t,s=i[o],l=s?s.getText(r[o]):r[o]||o;return J(t)?t(l,r):l}function HL(r){var e=qv(r.attributes);return hr(e,function(t){return Hn(Ca,t.type)})}function Sb(r){var e,t,n=HL(r),a;try{for(var i=St(n),o=i.next();!o.done;o=i.next()){var s=o.value,l=s.getScale(s.type);if(l&&l.isLinear){var u=O(r.scaleDefs,l.field),c=tb(l,u,s.type,r.type);if(c!=="cat"){a=l;break}}}}catch(v){e={error:v}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}var f=r.getXScale(),h=r.getYScale();return a||h||f}function zL(r,e){var t=e.field,n=r[t];if(Y(n)){var a=n.map(function(i){return e.getText(i)});return a.join("-")}return e.getText(n)}function GL(r,e){var t,n=e.getGroupScales();if(n.length&&(t=n[0]),t){var a=t.field;return t.getText(r[a])}var i=Sb(e);return Ji(i)}function Mb(r,e,t){if(e.length===0)return null;var n=t.type,a=t.getXScale(),i=t.getYScale(),o=a.field,s=i.field,l=null;if(n==="heatmap"||n==="point"){for(var u=t.coordinate,c=u.invert(r),f=a.invert(c.x),h=i.invert(c.y),v=1/0,d=0;d<e.length;d++){var p=e[d],g=p[At],y=Math.pow(g[o]-f,2)+Math.pow(g[s]-h,2);y<v&&(v=y,l=p)}return l}var w=e[0],x=e[e.length-1],m=YL(r,t),C=w[At][o],S=w[At][s],T=x[At][o],A=i.isLinear&&Y(S);if(Y(C)){for(var d=0;d<e.length;d++){var k=e[d],g=k[At];if(a.translate(g[o][0])<=m&&a.translate(g[o][1])>=m)if(A)Y(l)||(l=[]),l.push(k);else{l=k;break}}Y(l)&&(l=dm(l,r,t))}else{var D=void 0;if(!a.isLinear&&a.type!=="timeCat"){for(var d=0;d<e.length;d++){var k=e[d],g=k[At];if(vm(g[o],m,a))if(A)Y(l)||(l=[]),l.push(k);else{l=k;break}else a.translate(g[o])<=m&&(x=k,D=e[d+1])}Y(l)&&(l=dm(l,r,t))}else{if((m>a.translate(T)||m<a.translate(C))&&(m>a.max||m<a.min))return null;for(var $=0,L=e.length-1,F=void 0;$<=L;){F=Math.floor(($+L)/2);var X=e[F][At][o];if(vm(X,m,a))return e[F];a.translate(X)<=a.translate(m)?($=F+1,x=e[F],D=e[F+1]):(L===0&&(x=e[0]),L=F-1)}}x&&D&&Math.abs(a.translate(x[At][o])-m)>Math.abs(a.translate(D[At][o])-m)&&(x=D)}var j=NL(t.getXScale());return!l&&Math.abs(a.translate(x[At][o])-m)<=j/2&&(l=x),l}function Tb(r,e,t,n){var a,i;t===void 0&&(t=""),n===void 0&&(n=!1);var o=r[At],s=VL(o,e,t),l=e.tooltipOption,u=e.theme.defaultColor,c=[],f,h;function v(k,D){if(n||!B(D)&&D!==""){var $={title:s,data:o,mappingData:r,name:k,value:D,color:r.color||u,marker:!0};c.push($)}}if(Vt(l)){var d=l.fields,p=l.callback;if(p){var g=d.map(function(k){return r[At][k]}),y=p.apply(void 0,Dt([],q(g),!1)),w=b({data:r[At],mappingData:r,title:s,color:r.color||u,marker:!0},y);c.push(w)}else{var x=e.scales;try{for(var m=St(d),C=m.next();!C.done;C=m.next()){var S=C.value;if(!B(o[S])){var T=x[S];f=Ji(T),h=T.getText(o[S]),v(f,h)}}}catch(k){a={error:k}}finally{try{C&&!C.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}}}else{var A=Sb(e);h=zL(o,A),f=GL(o,e),v(f,h)}return c}function pm(r,e,t,n){var a,i,o=n.showNil,s=[],l=r.dataArray;if(!Yr(l)){r.sort(l);try{for(var u=St(l),c=u.next();!c.done;c=u.next()){var f=c.value,h=Mb(e,f,r);if(h){var v=r.getElementId(h),d=r.elementsMap[v];if(r.type==="heatmap"||d.visible){var p=Tb(h,r,t,o);p.length&&s.push(p)}}}}catch(g){a={error:g}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}}return s}function gm(r,e,t,n){var a=n.showNil,i=[],o=r.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=Tb(l,r,t,a);u.length&&i.push(u)}return i}function fv(r,e,t){var n,a,i=[],o=r.geometries,s=t.shared,l=t.title,u=t.reversed;try{for(var c=St(o),f=c.next();!f.done;f=c.next()){var h=f.value;if(h.visible&&h.tooltipOption!==!1){var v=h.type,d=void 0;["point","edge","polygon"].includes(v)?d=gm(h,e,l,t):["area","line","path","heatmap"].includes(v)||s!==!1?d=pm(h,e,l,t):d=gm(h,e,l,t),d.length&&(u&&d.reverse(),i.push(d))}}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return i}function WL(r,e,t){var n,a,i=fv(r,e,t);try{for(var o=St(r.views),s=o.next();!s.done;s=o.next()){var l=s.value;i=i.concat(fv(l,e,t))}}catch(u){n={error:u}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return i}function XL(r){return!Pt(r)&&!Y(r)}function Md(r){r===void 0&&(r=0);var e=Y(r)?r:[r];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=Dt(Dt([],q(e),!1),q(e),!1);break;case 3:e=Dt(Dt([],q(e),!1),[e[1]],!1);break;default:e=e.slice(0,4);break}return e}var Td={};function Ka(r,e){Td[r]=e}function UL(){return Object.keys(Td)}function qL(r){return Td[r]}var jL=function(){function r(e){this.option=this.wrapperOption(e)}return r.prototype.update=function(e){return this.option=this.wrapperOption(e),this},r.prototype.hasAction=function(e){var t=this.option.actions;return ou(t,function(n){return n[0]===e})},r.prototype.create=function(e,t){var n=this.option,a=n.type,i=n.cfg,o=a==="theta",s=b({start:e,end:t},i),l=xI(o?"polar":a);return this.coordinate=new l(s),this.coordinate.type=a,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},r.prototype.adjust=function(e,t){return this.coordinate.update({start:e,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},r.prototype.rotate=function(e){return this.option.actions.push(["rotate",e]),this},r.prototype.reflect=function(e){return this.option.actions.push(["reflect",e]),this},r.prototype.scale=function(e,t){return this.option.actions.push(["scale",e,t]),this},r.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},r.prototype.getOption=function(){return this.option},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.wrapperOption=function(e){return b({type:"rect",actions:[],cfg:{}},e)},r.prototype.execActions=function(e){var t=this,n=this.option.actions;M(n,function(a){var i,o=q(a),s=o[0],l=o.slice(1),u=B(e)?!0:e.includes(s);u&&(i=t.coordinate)[s].apply(i,Dt([],q(l),!1))})},r}(),De=function(){function r(e,t,n){this.view=e,this.gEvent=t,this.data=n,this.type=t.type}return r.fromData=function(e,t,n){return new r(e,new so(t,{}),n)},Object.defineProperty(r.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),r.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},r.prototype.clone=function(){return new r(this.view,this.gEvent,this.data)},r}();function QL(r){var e=r.getController("axis"),t=r.getController("legend"),n=r.getController("annotation"),a=r.getController("slider"),i=r.getController("scrollbar");[e,a,i,t,n].forEach(function(o){o&&o.layout()})}var ZL=function(){function r(){this.scales=new Map,this.syncScales=new Map}return r.prototype.createScale=function(e,t,n,a){var i=n,o=this.getScaleMeta(a);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),i=G(l,o.scaleDef,n)}var u=aL(e,t,i);return this.cacheScale(u,n,a),u},r.prototype.sync=function(e,t){var n=this;this.syncScales.forEach(function(a,i){var o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=[];M(a,function(u){var c=n.getScale(u);s=Pt(c.max)?Math.max(s,c.max):s,o=Pt(c.min)?Math.min(o,c.min):o,M(c.values,function(f){l.includes(f)||l.push(f)})}),M(a,function(u){var c=n.getScale(u);if(c.isContinuous)c.change({min:o,max:s,values:l});else if(c.isCategory){var f=c.range,h=n.getScaleMeta(u);l&&!O(h,["scaleDef","range"])&&(f=eb(G({},c,{values:l}),e,t)),c.change({values:l,range:f})}})})},r.prototype.cacheScale=function(e,t,n){var a=this.getScaleMeta(n);a&&a.scale.type===e.type?(iL(a.scale,e),a.scaleDef=t):(a={key:n,scale:e,scaleDef:t},this.scales.set(n,a));var i=this.getSyncKey(a);if(a.syncKey=i,this.removeFromSyncScales(n),i){var o=this.syncScales.get(i);o||(o=[],this.syncScales.set(i,o)),o.push(n)}},r.prototype.getScale=function(e){var t=this.getScaleMeta(e);if(!t){var n=Me(e.split("-")),a=this.syncScales.get(n);a&&a.length&&(t=this.getScaleMeta(a[0]))}return t&&t.scale},r.prototype.deleteScale=function(e){var t=this.getScaleMeta(e);if(t){var n=t.syncKey,a=this.syncScales.get(n);if(a&&a.length){var i=a.indexOf(e);i!==-1&&a.splice(i,1)}}this.scales.delete(e)},r.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},r.prototype.removeFromSyncScales=function(e){var t=this;this.syncScales.forEach(function(n,a){var i=n.indexOf(e);if(i!==-1)return n.splice(i,1),n.length===0&&t.syncScales.delete(a),!1})},r.prototype.getSyncKey=function(e){var t=e.scale,n=e.scaleDef,a=t.field,i=O(n,["sync"]);return i===!0?a:i===!1?void 0:i},r.prototype.getScaleMeta=function(e){return this.scales.get(e)},r}(),Vs=function(){function r(e,t,n,a){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0),this.top=e,this.right=t,this.bottom=n,this.left=a}return r.instance=function(e,t,n,a){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0),new r(e,t,n,a)},r.prototype.max=function(e){var t=q(e,4),n=t[0],a=t[1],i=t[2],o=t[3];return this.top=Math.max(this.top,n),this.right=Math.max(this.right,a),this.bottom=Math.max(this.bottom,i),this.left=Math.max(this.left,o),this},r.prototype.shrink=function(e){var t=q(e,4),n=t[0],a=t[1],i=t[2],o=t[3];return this.top+=n,this.right+=a,this.bottom+=i,this.left+=o,this},r.prototype.inc=function(e,t){var n=e.width,a=e.height;switch(t){case V.TOP:case V.TOP_LEFT:case V.TOP_RIGHT:this.top+=a;break;case V.RIGHT:case V.RIGHT_TOP:case V.RIGHT_BOTTOM:this.right+=n;break;case V.BOTTOM:case V.BOTTOM_LEFT:case V.BOTTOM_RIGHT:this.bottom+=a;break;case V.LEFT:case V.LEFT_TOP:case V.LEFT_BOTTOM:this.left+=n;break}return this},r.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},r.prototype.clone=function(){return new(r.bind.apply(r,Dt([void 0],q(this.getPadding()),!1)))},r}();function KL(r){var e=r.padding;if(!XL(e))return new(Vs.bind.apply(Vs,Dt([void 0],q(Md(e)),!1)));var t=r.viewBBox,n=new Vs,a=[],i=[],o=[];return M(r.getComponents(),function(s){var l=s.type;l===ye.AXIS?a.push(s):[ye.LEGEND,ye.SLIDER,ye.SCROLLBAR].includes(l)?i.push(s):l!==ye.GRID&&l!==ye.TOOLTIP&&o.push(s)}),M(a,function(s){var l=s.component,u=l.getLayoutBBox(),c=new Fe(u.x,u.y,u.width,u.height),f=c.exceed(t);n.max(f)}),M(i,function(s){var l=s.component,u=s.direction,c=l.getLayoutBBox(),f=l.get("padding"),h=new Fe(c.x,c.y,c.width,c.height).expand(f);n.inc(h,u)}),M(o,function(s){var l=s.component,u=s.direction,c=l.getLayoutBBox(),f=new Fe(c.x,c.y,c.width,c.height);n.inc(f,u)}),n}function JL(r,e,t){var n=t.instance();e.forEach(function(a){a.autoPadding=n.max(a.autoPadding.getPadding())})}var Pb=function(r){_(e,r);function e(t){var n=r.call(this,{visible:t.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=UL(),n.scalePool=new ZL,n.layoutFunc=QL,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(x){var m=x.name;if(!m.includes(":")){var C=n.createViewEvent(x);n.doPlotEvent(C),n.emit(m,C)}},n.onDelegateEvents=function(x){var m=x.name;if(m.includes(":")){var C=n.createViewEvent(x);n.emit(m,C)}};var a=t.id,i=a===void 0?kn("view"):a,o=t.parent,s=t.canvas,l=t.backgroundGroup,u=t.middleGroup,c=t.foregroundGroup,f=t.region,h=f===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:f,v=t.padding,d=t.appendPadding,p=t.theme,g=t.options,y=t.limitInPlot,w=t.syncViewPadding;return n.parent=o,n.canvas=s,n.backgroundGroup=l,n.middleGroup=u,n.foregroundGroup=c,n.region=h,n.padding=v,n.appendPadding=d,n.options=b(b({},n.options),g),n.limitInPlot=y,n.id=i,n.syncViewPadding=w,n.themeObject=Vt(p)?G({},Sc("default"),Ul(p)):Sc(p),n.init(),n}return e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},e.prototype.render=function(t,n){t===void 0&&(t=!1),this.emit(Yt.BEFORE_RENDER,De.fromData(this,Yt.BEFORE_RENDER,n)),this.paint(t),this.emit(Yt.AFTER_RENDER,De.fromData(this,Yt.AFTER_RENDER,n)),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(Yt.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var n=this.geometries,a=0;a<n.length;a++)n[a].clear(),n[a].container.remove(!0),n[a].labelsContainer.remove(!0);this.geometries=[];for(var i=this.controllers,a=0;a<i.length;a++)i[a].name==="annotation"?i[a].clear(!0):i[a].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,a=0;a<o.length;a++)o[a].clear();this.emit(Yt.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(Yt.BEFORE_DESTROY);var t=this.interactions;M(t,function(s){s&&s.destroy()}),this.clear();for(var n=this.controllers,a=0,i=n.length;a<i;a++){var o=n[a];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),r.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t);for(var n=this.geometries,a=0,i=n.length;a<i;a++){var o=n[a];o.changeVisible(t)}for(var s=this.controllers,a=0,i=s.length;a<i;a++){var l=s[a];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},e.prototype.data=function(t){return he(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,n){return J(n)?(he(this.options,["filters",t],n),this):(!n&&O(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,n){return Ni(t)?he(this.options,["axes"],t):he(this.options,["axes",t],n),this},e.prototype.legend=function(t,n){return Ni(t)?he(this.options,["legends"],t):ct(t)?(he(this.options,["legends",t],n),Lr(n)&&(n!=null&&n.selected)&&he(this.options,["filters",t],function(a){var i;return(i=n==null?void 0:n.selected[a])!==null&&i!==void 0?i:!0})):he(this.options,["legends"],t),this},e.prototype.scale=function(t,n){var a=this;return ct(t)?he(this.options,["scales",t],n):Vt(t)&&M(t,function(i,o){he(a.options,["scales",o],i)}),this},e.prototype.tooltip=function(t){return he(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,n){return ct(t)?he(this.options,"coordinate",{type:t,cfg:n}):he(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,n){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,n)},e.prototype.facet=function(t,n){this.facetInstance&&this.facetInstance.destroy();var a=uL(t);if(!a)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new a(this,b(b({},n),{type:t})),this},e.prototype.animate=function(t){return he(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),Jt(this.options,t),this.views.forEach(function(n){return n.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},e.prototype.option=function(t,n){if(e.prototype[t])throw new Error(`Can't use built in variable name "`.concat(t,'", please change another one.'));return he(this.options,t,n),this},e.prototype.theme=function(t){return this.themeObject=Vt(t)?G({},this.themeObject,Ul(t)):Sc(t),this},e.prototype.interaction=function(t,n){var a=this.interactions[t];a&&a.destroy();var i=_L(t,this,n);return i&&(i.init(),this.interactions[t]=i),this},e.prototype.removeInteraction=function(t){var n=this.interactions[t];n&&(n.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(Yt.BEFORE_CHANGE_DATA,De.fromData(this,Yt.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var n=this.views,a=0,i=n.length;a<i;a++){var o=n[a];o.changeData(t)}this.emit(Yt.AFTER_CHANGE_DATA,De.fromData(this,Yt.AFTER_CHANGE_DATA,null))},e.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:er(this.options.scales),axes:er(this.options.axes),coordinate:er(this.coordinateController.getOption()),tooltip:er(this.options.tooltip),legends:er(this.options.legends),animate:this.options.animate,visible:this.visible},a=new e(b(b({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Pa.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Pa.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Pa.FORE}),theme:this.themeObject,padding:this.padding},t),{options:b(b({},n),O(t,"options",{}))}));return this.views.push(a),a},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var n=NA(this.views,function(a){return a===t})[0];return n&&n.destroy(),n},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={},n=[];return this.geometries.forEach(function(a){var i=a.getYScale(),o=i.field;t[o]||(t[o]=!0,n.push(i))}),n},e.prototype.getScalesByDim=function(t){for(var n=this.geometries,a={},i=0,o=n.length;i<o;i++){var s=n[i],l=t==="x"?s.getXScale():s.getYScale();l&&!a[l.field]&&(a[l.field]=l)}return a},e.prototype.getScale=function(t,n){var a=n||this.getScaleKey(t);return this.getRootView().scalePool.getScale(a)},e.prototype.getScaleByField=function(t,n){return this.getScale(t,n)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getOriginalData=function(){return this.options.data},e.prototype.getPadding=function(){return this.autoPadding.getPadding()},e.prototype.getGeometries=function(){return this.geometries},e.prototype.getElements=function(){return ox(this.geometries,function(t,n){return t.concat(n.getElements())},[])},e.prototype.getElementsBy=function(t){return this.getElements().filter(function(n){return t(n)})},e.prototype.getLayer=function(t){return t===te.BG?this.backgroundGroup:t===te.MID?this.middleGroup:t===te.FORE?this.foregroundGroup:this.foregroundGroup},e.prototype.isPointInPlot=function(t){return tL(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return ar(this.geometries.map(function(t){return t.getGroupAttributes()}))},e.prototype.getGroupScales=function(){var t=this.geometries.map(function(n){return n.getGroupScales()});return dn(ar(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},e.prototype.getXY=function(t){var n=this.getCoordinate(),a=this.getScalesByDim("x"),i=this.getScalesByDim("y"),o,s;if(M(t,function(l,u){a[u]&&(o=a[u].scale(l)),i[u]&&(s=i[u].scale(l))}),!B(o)&&!B(s))return n.convert({x:o,y:s})},e.prototype.getController=function(t){return jr(this.controllers,function(n){return n.name===t})},e.prototype.showTooltip=function(t){var n=this.getController("tooltip");return n&&n.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var n=this.getController("tooltip");return n?n.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var n=this.geometries,a=[],i=0,o=n.length;i<o;i++){var s=n[i],l=s.dataArray;s.sort(l);for(var u=void 0,c=0,f=l.length;c<f;c++){var h=l[c];u=Mb(t,h,s),u&&a.push(u)}}for(var v=this.views,i=0,o=v.length;i<o;i++){var d=v[i],p=d.getSnapRecords(t);a=a.concat(p)}return a},e.prototype.getComponents=function(){for(var t=[],n=this.controllers,a=0,i=n.length;a<i;a++){var o=n[a];t=t.concat(o.getComponents())}return t},e.prototype.filterData=function(t){var n=this.options.filters;return qe(n)===0?t:hr(t,function(a,i){var o=Object.keys(n);return o.every(function(s){var l=n[s];return l(a[s],a,i)})})},e.prototype.filterFieldData=function(t,n){var a=this.options.filters,i=O(a,t);return ba(i)?n:n.filter(function(o,s){return i(o[t],o,s)})},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),n=t.start,a=t.end,i=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if(ve(n,i)&&ve(a,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(i,o)},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(Yt.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(Yt.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=O(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var n=this.viewBBox,a=n.x,i=n.y,o=n.width,s=n.height;this.backgroundStyleRectShape.attr({fill:t,x:a,y:i,width:o,height:s})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},e.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=KL(this).shrink(Md(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();var n=this.controllers.find(function(l){return l.name==="tooltip"});n.update();for(var a=this.views,i=0,o=a.length;i<o;i++){var s=a[i];s.renderPaddingRecursive(t)}},e.prototype.renderLayoutRecursive=function(t){var n=this.syncViewPadding===!0?JL:J(this.syncViewPadding)?this.syncViewPadding:void 0;n&&(n(this,this.views,Vs),this.views.forEach(function(l){l.coordinateBBox=l.viewBBox.shrink(l.autoPadding.getPadding()),l.adjustCoordinate()})),this.doLayout();for(var a=this.views,i=0,o=a.length;i<o;i++){var s=a[i];s.renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){var n=this.middleGroup;if(this.limitInPlot){var a=bd(this.coordinateInstance),i=a.type,o=a.attrs;n.setClip({type:i,attrs:o})}else n.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++){var c=s[l];c.renderPaintRecursive(t)}},e.prototype.createScale=function(t,n,a,i){var o=O(this.options.scales,[t]),s=b(b({},o),a);return this.parent?this.parent.createScale(t,n,s,i):this.scalePool.createScale(t,n,s,i)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var n=this.views,a=0,i=n.length;a<i;a++){var o=n[a];o.renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,n,a,i;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,n=o.y,a=o.width,i=o.height}else t=0,n=0,a=this.canvas.get("width"),i=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,c=new Fe(t+a*l.x,n+i*l.y,a*(u.x-l.x),i*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(c))&&(this.viewBBox=new Fe(t+a*l.x,n+i*l.y,a*(u.x-l.x),i*(u.y-l.y))),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,n=0,a=t.length;n<a;n++){var i=t[n],o=qL(i);o&&this.controllers.push(new o(this))}},e.prototype.createViewEvent=function(t){var n=t.shape,a=t.name,i=n?n.get("origin"):null,o=new De(this,t,i);return o.type=a,o},e.prototype.doPlotEvent=function(t){var n=t.type,a=t.x,i=t.y,o={x:a,y:i},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(n)){var l=this.isPointInPlot(o),u=t.clone();if(l){var c="plot:".concat(n);u.type=c,this.emit(c,u),(n==="mouseleave"||n==="touchend")&&(this.isPreMouseInPlot=!1)}n==="mousemove"||n==="touchmove"?(this.isPreMouseInPlot&&!l?(n==="mousemove"&&(u.type=Ve.MOUSE_LEAVE,this.emit(Ve.MOUSE_LEAVE,u)),u.type=Ve.LEAVE,this.emit(Ve.LEAVE,u)):!this.isPreMouseInPlot&&l&&(n==="mousemove"&&(u.type=Ve.MOUSE_ENTER,this.emit(Ve.MOUSE_ENTER,u)),u.type=Ve.ENTER,this.emit(Ve.ENTER,u)),this.isPreMouseInPlot=l):(n==="mouseleave"||n==="touchend")&&this.isPreMouseInPlot&&(n==="mouseleave"&&(u.type=Ve.MOUSE_LEAVE,this.emit(Ve.MOUSE_LEAVE,u)),u.type=Ve.LEAVE,this.emit(Ve.LEAVE,u),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var n=this.getCoordinate(),a=O(this.options,"scales",{}),i=this.geometries,o=0,s=i.length;o<s;o++){var l=i[o];l.scales=this.getGeometryScales();var u={coordinate:n,scaleDefs:a,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),n=this.getGroupedFields(),a=this.getOptions(),i=a.data,o=a.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,c=t.length;u<c;u++){var f=t[u],h=s[f],v=this.getScaleKey(f);this.createScale(f,n.includes(f)?i:l,h,v),this.createdScaleKeys.set(v,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),n={},a=0;a<t.length;a++){var i=t[a];n[i]=this.getScaleByField(i)}return n},e.prototype.getScaleFields=function(){for(var t=[],n=new Map,a=this.geometries,i=0;i<a.length;i++){var o=a[i],s=o.getScaleFields();dn(s,t,n)}return t},e.prototype.getGroupedFields=function(){for(var t=[],n=new Map,a=this.geometries,i=0;i<a.length;i++){var o=a[i],s=o.getGroupFields();dn(s,t,n)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,n=Dt([this.getXScale()],q(this.getYScales()),!1).filter(function(o){return!!o}),a=this.getCoordinate(),i=this.options.scales;M(n,function(o){var s=o.field,l=o.values,u=o.isCategory,c=o.isIdentity;(u||c)&&l&&!O(i,[s,"range"])&&(o.range=eb(o,a,t.theme))})},e.prototype.initComponents=function(t){for(var n=this.controllers,a=0;a<n.length;a++){var i=n[a];t?i.update():(i.clear(),i.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,n=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,n)},e.prototype.paintGeometries=function(t){for(var n=this.options.animate,a=this.getCoordinate(),i={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=a,l.canvasRegion=i,n||l.animate(!1),l.paint(t)}},e.prototype.renderComponents=function(t){for(var n=this.getComponents(),a=0;a<n.length;a++){var i=n[a];i.component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){var t=this,n=this.options,a=n.geometries,i=a===void 0?[]:a,o=n.interactions,s=o===void 0?[]:o,l=n.views,u=l===void 0?[]:l,c=n.annotations,f=c===void 0?[]:c,h=n.coordinate,v=n.events,d=n.facets;this.coordinateController?h&&this.coordinateController.update(h):this.coordinateController=new jL(h);for(var p=0;p<i.length;p++){var g=i[p];this.createGeometry(g)}for(var y=0;y<s.length;y++){var w=s[y],x=w.type,m=w.cfg;this.interaction(x,m)}for(var C=0;C<u.length;C++){var S=u[C];this.createView(S)}for(var T=this.getController("annotation"),A=0;A<f.length;A++){var k=f[A];T.annotation(k)}v&&M(v,function(D,$){t.on($,D)}),d&&M(d,function(D){var $=D.type,L=be(D,["type"]);t.facet($,L)})},e.prototype.createGeometry=function(t){var n=t.type,a=t.cfg,i=a===void 0?{}:a;if(this[n]){var o=this[n](i);M(t,function(s,l){J(o[l])&&o[l](s)})}},e.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},e}(Zv);function zr(r,e){Pb.prototype[r.toLowerCase()]=function(t){t===void 0&&(t={});var n=b({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),a=new e(n);return this.geometries.push(a),a}}var tB=function(r){_(e,r);function e(t){var n=this,a=t.container,i=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,u=t.padding,c=t.appendPadding,f=t.renderer,h=f===void 0?"canvas":f,v=t.pixelRatio,d=t.localRefresh,p=d===void 0?!0:d,g=t.visible,y=g===void 0?!0:g,w=t.supportCSSTransform,x=w===void 0?!1:w,m=t.defaultInteractions,C=m===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:m,S=t.options,T=t.limitInPlot,A=t.theme,k=t.syncViewPadding,D=ct(a)?document.getElementById(a):a,$=bn('<div style="position:relative;"></div>');D.appendChild($);var L=Fg(D,l,i,o),F=s2(h),X=new F.Canvas(b({container:$,pixelRatio:v,localRefresh:p,supportCSSTransform:x},L));return n=r.call(this,{parent:null,canvas:X,backgroundGroup:X.addGroup({zIndex:Pa.BG}),middleGroup:X.addGroup({zIndex:Pa.MID}),foregroundGroup:X.addGroup({zIndex:Pa.FORE}),padding:u,appendPadding:c,visible:y,options:S,limitInPlot:T,theme:A,syncViewPadding:k})||this,n.onResize=hx(function(){n.forceFit()},300),n.ele=D,n.canvas=X,n.width=L.width,n.height=L.height,n.autoFit=l,n.localRefresh=p,n.renderer=h,n.wrapperElement=$,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(C),n}return e.prototype.initDefaultInteractions=function(t){var n=this;M(t,function(a){n.interaction(a)})},e.prototype.aria=function(t){var n="aria-label";t===!1?this.ele.removeAttribute(n):this.ele.setAttribute(n,t.label)},e.prototype.changeSize=function(t,n){return this.width===t&&this.height===n?this:(this.emit(Yt.BEFORE_CHANGE_SIZE),this.width=t,this.height=n,this.canvas.changeSize(t,n),this.render(!0),this.emit(Yt.AFTER_CHANGE_SIZE),this)},e.prototype.clear=function(){r.prototype.clear.call(this),this.aria(!1)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),d2(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(t){return r.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=Fg(this.ele,!0,this.width,this.height),n=t.width,a=t.height;this.changeSize(n,a)}},e.prototype.updateCanvasStyle=function(){Ae(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(Pb);const eB=tB;var Ja=function(){function r(e){this.visible=!0,this.components=[],this.view=e}return r.prototype.clear=function(e){M(this.components,function(t){t.component.destroy()}),this.components=[]},r.prototype.destroy=function(){this.clear()},r.prototype.getComponents=function(){return this.components},r.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},r}();function rB(r){for(var e=[],t=function(a){var i=r[a],o=jr(e,function(s){return s.color===i.color&&s.name===i.name&&s.value===i.value&&s.title===i.title});o||e.push(i)},n=0;n<r.length;n++)t(n);return e}var nB=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var n=this.view,a=this.getTooltipItems(t);if(!a.length){this.hideTooltip();return}var i=this.getTitle(a),o={x:a[0].x,y:a[0].y};n.emit("tooltip:show",De.fromData(n,"tooltip:show",b({items:a,title:i},t)));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,c=s.showCrosshairs,f=s.showContent,h=s.marker,v=this.items,d=this.title;if(!ve(d,i)||!ve(v,a)?(n.emit("tooltip:change",De.fromData(n,"tooltip:change",b({items:a,title:i},t))),(J(f)?f(a):f)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Jt({},s,{items:this.getItemsAfterProcess(a),title:i},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(a,h)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=a,this.title=i,c){var p=O(s,["crosshairs","follow"],!1);this.renderCrosshairs(p?t:o,s)}}},e.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var n=this.tooltipMarkersGroup;n&&n.hide();var a=this.xCrosshair,i=this.yCrosshair;a&&a.hide(),i&&i.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",De.fromData(this.view,"tooltip:hide",{})),this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,n=t.tooltip,a=t.xCrosshair,i=t.yCrosshair,o=t.tooltipMarkersGroup;n&&(n.hide(),n.clear()),a&&a.clear(),i&&i.clear(),o&&o.clear(),n!=null&&n.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},e.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var n=this,a=n.tooltip,i=n.tooltipMarkersGroup,o=n.xCrosshair,s=n.yCrosshair;t?(a&&a.show(),i&&i.show(),o&&o.show(),s&&s.show()):(a&&a.hide(),i&&i.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var n,a,i,o,s,l,u=this.findItemsFromView(this.view,t);if(u.length){u=ar(u);try{for(var c=St(u),f=c.next();!f.done;f=c.next()){var h=f.value;try{for(var v=(i=void 0,St(h)),d=v.next();!d.done;d=v.next()){var p=d.value,g=p.mappingData,y=g.x,w=g.y;p.x=Y(y)?y[y.length-1]:y,p.y=Y(w)?w[w.length-1]:w}}catch(D){i={error:D}}finally{try{d&&!d.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}}}catch(D){n={error:D}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}var x=this.getTooltipCfg().shared;if(x===!1&&u.length>1){var m=u[0],C=Math.abs(t.y-m[0].y);try{for(var S=St(u),T=S.next();!T.done;T=S.next()){var A=T.value,k=Math.abs(t.y-A[0].y);k<=C&&(m=A,C=k)}}catch(D){s={error:D}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}u=[m]}return rB(ar(u))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.isCursorEntered=function(t){if(this.tooltip){var n=this.tooltip.getContainer(),a=this.tooltip.get("capture");if(n&&a){var i=n.getBoundingClientRect(),o=i.x,s=i.y,l=i.width,u=i.height;return new Fe(o,s,l,u).isPointIn(t)}}return!1},e.prototype.getTooltipCfg=function(){var t=this.view,n=t.getOptions().tooltip,a=this.processCustomContent(n),i=t.getTheme(),o=O(i,["components","tooltip"],{}),s=O(a,"enterable",o.enterable);return G({},o,a,{capture:!!(s||this.isLocked)})},e.prototype.processCustomContent=function(t){if(Ni(t)||!O(t,"customContent"))return t;var n=t.customContent,a=function(i,o){var s=n(i,o)||"";return ct(s)?'<div class="g2-tooltip">'+s+"</div>":s};return b(b({},t),{customContent:a})},e.prototype.getTitle=function(t){var n=t[0].title||t[0].name;return this.title=n,n},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),n={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},a=this.getTooltipCfg(),i=new Iu(b(b({parent:t.get("el").parentNode,region:n},a),{visible:!1,crosshairs:null}));i.init(),this.tooltip=i},e.prototype.renderTooltipMarkers=function(t,n){var a,i,o=this.getTooltipMarkersGroup(),s=this.view.getRootView(),l=s.limitInPlot;try{for(var u=St(t),c=u.next();!c.done;c=u.next()){var f=c.value,h=f.x,v=f.y;if(l||o!=null&&o.getClip()){var d=bd(s.getCoordinate()),p=d.type,g=d.attrs;o==null||o.setClip({type:p,attrs:g})}else o==null||o.setClip(void 0);var y=this.view.getTheme(),w=O(y,["components","tooltip","marker"],{}),x=b(b({fill:f.color,symbol:"circle",shadowColor:f.color},J(n)?b(b({},w),n(f)):n),{x:h,y:v});o.addShape("marker",{attrs:x})}}catch(m){a={error:m}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}},e.prototype.renderCrosshairs=function(t,n){var a=O(n,["crosshairs","type"],"x");a==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,n)):a==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,n)):a==="xy"&&(this.renderXCrosshairs(t,n),this.renderYCrosshairs(t,n))},e.prototype.renderXCrosshairs=function(t,n){var a=this.getViewWithGeometry(this.view).getCoordinate(),i,o;if(a.isRect)a.isTransposed?(i={x:a.start.x,y:t.y},o={x:a.end.x,y:t.y}):(i={x:t.x,y:a.end.y},o={x:t.x,y:a.start.y});else{var s=za(a,t),l=a.getCenter(),u=a.getRadius();o=se(l.x,l.y,u,s),i=l}var c=G({start:i,end:o,container:this.getTooltipCrosshairsGroup()},O(n,"crosshairs",{}),this.getCrosshairsText("x",t,n));delete c.type;var f=this.xCrosshair;f?f.update(c):(f=new Xw(c),f.init()),f.render(),f.show(),this.xCrosshair=f},e.prototype.renderYCrosshairs=function(t,n){var a=this.getViewWithGeometry(this.view).getCoordinate(),i,o;if(a.isRect){var s=void 0,l=void 0;a.isTransposed?(s={x:t.x,y:a.end.y},l={x:t.x,y:a.start.y}):(s={x:a.start.x,y:t.y},l={x:a.end.x,y:t.y}),i={start:s,end:l},o="Line"}else i={center:a.getCenter(),radius:Ru(a,t),startAngle:a.startAngle,endAngle:a.endAngle},o="Circle";i=G({container:this.getTooltipCrosshairsGroup()},i,O(n,"crosshairs",{}),this.getCrosshairsText("y",t,n)),delete i.type;var u=this.yCrosshair;u?a.isRect&&u.get("type")==="circle"||!a.isRect&&u.get("type")==="line"?(u=new Ky[o](i),u.init()):u.update(i):(u=new Ky[o](i),u.init()),u.render(),u.show(),this.yCrosshair=u},e.prototype.getCrosshairsText=function(t,n,a){var i=O(a,["crosshairs","text"]),o=O(a,["crosshairs","follow"]),s=this.items;if(i){var l=this.getViewWithGeometry(this.view),u=s[0],c=l.getXScale(),f=l.getYScales()[0],h=void 0,v=void 0;if(o){var d=this.view.getCoordinate().invert(n);h=c.invert(d.x),v=f.invert(d.y)}else h=u.data[c.field],v=u.data[f.field];var p=t==="x"?h:v;return J(i)?i=i(t,p,s,n):i.content=p,{text:i}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.findItemsFromView=function(t,n){var a,i;if(t.getOptions().tooltip===!1)return[];var o=this.getTooltipCfg(),s=fv(t,n,o);try{for(var l=St(t.views),u=l.next();!u.done;u=l.next()){var c=u.value;s=s.concat(this.findItemsFromView(c,n))}}catch(f){a={error:f}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return s},e.prototype.getViewWithGeometry=function(t){var n=this;return t.geometries.length?t:jr(t.views,function(a){return n.getViewWithGeometry(a)})},e.prototype.getItemsAfterProcess=function(t){var n=this.getTooltipCfg().customItems,a=n||function(i){return i};return a(t)},e}(Ja),Ob={};function kb(r){return Ob[r.toLowerCase()]}function ir(r,e){Ob[r.toLowerCase()]=e}var Xa={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},aB={interval:function(r){return{enter:{animation:r.isRect?r.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:r.isPolar&&r.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},ym={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(r){var e;return r.isRect?e=r.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",r.isPolar&&r.isTransposed&&(e="wave-in")),{animation:e}},schema:function(r){var e;return r.isRect?e=r.isTransposed?"grow-in-x":"grow-in-y":e="grow-in-xy",{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function iB(r,e){return{delay:J(r.delay)?r.delay(e):r.delay,easing:J(r.easing)?r.easing(e):r.easing,duration:J(r.duration)?r.duration(e):r.duration,callback:r.callback,repeat:r.repeat}}function Ab(r,e,t){var n=aB[r];return n&&(J(n)&&(n=n(e)),n=G({},Xa,n),t)?n[t]:n}function Da(r,e,t){var n=O(r.get("origin"),"data",At),a=e.animation,i=iB(e,n);if(a){var o=kb(a);o&&o(r,i,t)}else r.animate(t.toAttrs,i)}function oB(r,e,t,n,a){if(ym[t]){var i=ym[t](n),o=kb(O(i,"animation",""));if(o){var s=b(b(b({},Xa.appear),i),e);r.stopAnimate(),o(r,s,{coordinate:n,minYPoint:a,toAttrs:null})}}}var Pd="element-background",Db=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;n.labelShape=[],n.states=[];var a=t.shapeFactory,i=t.container,o=t.offscreenGroup,s=t.elementIndex,l=t.visible,u=l===void 0?!0:l;return n.shapeFactory=a,n.container=i,n.offscreenGroup=o,n.visible=u,n.elementIndex=s,n}return e.prototype.draw=function(t,n){n===void 0&&(n=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,n),this.visible===!1&&this.changeVisible(!1)},e.prototype.update=function(t){var n=this,a=n.shapeFactory,i=n.shape;if(i){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(i,t);var o=this.getOffscreenGroup(),s=a.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,s.cfg.element=this,this.syncShapeStyle(i,s,this.getStates(),this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var t=this,n=t.shapeFactory,a=t.shape;if(a){var i=this.getAnimateCfg("leave");i?Da(a,i,{coordinate:n.coordinate,toAttrs:b({},a.attr())}):a.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,r.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(n){n.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(n){n.hide()}))},e.prototype.setState=function(t,n){var a=this,i=a.states,o=a.shapeFactory,s=a.model,l=a.shape,u=a.shapeType,c=i.indexOf(t);if(n){if(c>-1)return;i.push(t),(t==="active"||t==="selected")&&(l==null||l.toFront())}else{if(c===-1)return;if(i.splice(c,1),t==="active"||t==="selected"){var f=this.geometry,h=f.sortZIndex,v=f.zIndexReversed,d=v?this.geometry.elements.length-this.elementIndex:this.elementIndex;h?l.setZIndex(d):l.set("zIndex",d)}}var p=o.drawShape(u,s,this.getOffscreenGroup());i.length?this.syncShapeStyle(l,p,i,null):this.syncShapeStyle(l,p,["reset"],null),p.remove(!0);var g={state:t,stateStatus:n,element:this,target:this.container};this.container.emit("statechange",g),Ew(this.shape,"statechange",g)},e.prototype.clearStates=function(){var t=this,n=this.states;M(n,function(a){t.setState(a,!1)}),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this,n=t.shape,a=t.labelShape,i={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return n&&(i=n.getCanvasBBox()),a&&a.forEach(function(o){var s=o.getCanvasBBox();i.x=Math.min(s.x,i.x),i.y=Math.min(s.y,i.y),i.minX=Math.min(s.minX,i.minX),i.minY=Math.min(s.minY,i.minY),i.maxX=Math.max(s.maxX,i.maxX),i.maxY=Math.max(s.maxY,i.maxY)}),i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,n=t.shapeType,a=t.geometry,i=t.shapeFactory,o=a.stateOption,s=i.defaultShapeType,l=i.theme[n]||i.theme[s];this.statesStyle=G({},l,o)}return this.statesStyle},e.prototype.getStateStyle=function(t,n){var a=this.getStatesStyle(),i=O(a,[t,"style"],{}),o=i[n]||i;return J(o)?o(this):o},e.prototype.getAnimateCfg=function(t){var n=this,a=this.animate;if(a){var i=a[t];return i&&b(b({},i),{callback:function(){var o;J(i.callback)&&i.callback(),(o=n.geometry)===null||o===void 0||o.emit(wn.AFTER_DRAW_ANIMATE)}})}return null},e.prototype.drawShape=function(t,n){var a;n===void 0&&(n=!1);var i=this,o=i.shapeFactory,s=i.container,l=i.shapeType;if(this.shape=o.drawShape(l,t,s),this.shape){this.setShapeInfo(this.shape,t);var u=this.shape.cfg.name;u?ct(u)&&(this.shape.cfg.name=["element",u]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var c=n?"enter":"appear",f=this.getAnimateCfg(c);f&&((a=this.geometry)===null||a===void 0||a.emit(wn.BEFORE_DRAW_ANIMATE),Da(this.shape,f,{coordinate:o.coordinate,toAttrs:b({},this.shape.attr())}))}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,n){var a=this;if(t.cfg.origin=n,t.cfg.element=this,t.isGroup()){var i=t.get("children");i.forEach(function(o){a.setShapeInfo(o,n)})}},e.prototype.syncShapeStyle=function(t,n,a,i,o){var s=this,l;if(a===void 0&&(a=[]),o===void 0&&(o=0),!(!t||!n)){var u=t.get("clipShape"),c=n.get("clipShape");if(this.syncShapeStyle(u,c,a,i),t.isGroup())for(var f=t.get("children"),h=n.get("children"),v=0;v<f.length;v++)this.syncShapeStyle(f[v],h[v],a,i,o+v);else{if(!Yr(a)&&!ve(a,["reset"])){var d=t.get("name");Y(d)&&(d=d[1]),M(a,function(g){if(n.get("name")!==Pd){var y=s.getStateStyle(g,d||o);n.attr(y)}})}var p=Jw(t,n);this.animate?i?((l=this.geometry)===null||l===void 0||l.emit(wn.BEFORE_DRAW_ANIMATE),Da(t,i,{coordinate:this.shapeFactory.coordinate,toAttrs:p,shapeModel:this.model})):Yr(a)?t.attr(p):(t.stopAnimate(),t.animate(p,{duration:300})):t.attr(p)}}},e.prototype.getShapeType=function(t){var n=O(t,"shape");return Y(n)?n[0]:n},e}(Zv),_b={},Eb={};function sB(r){return _b[r.toLowerCase()]}function Fu(r,e){_b[r.toLowerCase()]=e}function lB(r){return Eb[r.toLowerCase()]}function Qe(r,e){Eb[r.toLowerCase()]=e}var uB={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(r,e){var t=this.getShape(r);return t.getPoints?t.getPoints(e):this.getDefaultPoints(e)},getShape:function(r){var e=this[r]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(r){return O(r,[this.defaultShapeType,"default","style"],{})},getMarker:function(r,e){var t=this.getShape(r);if(!t.getMarker){var n=this.defaultShapeType;t=this.getShape(n)}var a=this.theme,i=O(a,[r,"default"],{}),o=t.getMarker(e);return G({},i,o)},drawShape:function(r,e,t){var n=this.getShape(r);return n.draw(e,t)}},cB={coordinate:null,parsePath:function(r){var e=this.coordinate,t=nw(r);return e.isPolar?t=mL(e,t):t=yL(e,t),t},parsePoint:function(r){var e=this.coordinate;return e.convert(r)},parsePoints:function(r){var e=this.coordinate;return r.map(function(t){return e.convert(t)})},draw:function(r,e){}},Od={};function An(r,e){var t=sa(r),n=b(b(b({},uB),e),{geometryType:r});return Od[t]=n,n}function Ft(r,e,t){var n=sa(r),a=Od[n],i=b(b({},cB),t);return a[e]=i,i}function mm(r){var e=sa(r);return Od[e]}function fB(r,e,t){var n,a;if(t===void 0&&(t={}),!e)return[r];var i=lx(r,e),o=[];if(e.length===1&&t[e[0]]){var s=t[e[0]];try{for(var l=St(s),u=l.next();!u.done;u=l.next()){var c=u.value,f=i["_".concat(c)];f&&o.push(f)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}}else for(var h in i)if(i.hasOwnProperty(h)){var v=i[h];o.push(v)}return o}function Ib(r,e){return ou(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!ve(r[t],e[t])})}function yi(r){return Y(r)?r:r.split("*")}function Rb(r,e){for(var t=[],n=[],a=[],i=new Map,o=0;o<e.length;o++){var s=e[o];r[s]?n.push(s):t.push(s),i.set(s,!0)}return Object.keys(r).forEach(function(l){i.has(l)||a.push(l)}),{added:t,updated:n,removed:a}}var Dn=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var a=t.container,i=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=l===void 0?!1:l,c=t.visible,f=c===void 0?!0:c,h=t.theme,v=t.scales,d=v===void 0?{}:v,p=t.scaleDefs,g=p===void 0?{}:p,y=t.intervalPadding,w=t.dodgePadding,x=t.maxColumnWidth,m=t.minColumnWidth,C=t.columnWidthRatio,S=t.roseWidthRatio,T=t.multiplePieWidthRatio,A=t.zIndexReversed,k=t.sortZIndex,D=t.useDeferredLabel;return n.container=a,n.labelsContainer=i,n.coordinate=o,n.data=s,n.sortable=u,n.visible=f,n.userTheme=h,n.scales=d,n.scaleDefs=g,n.intervalPadding=y,n.dodgePadding=w,n.maxColumnWidth=x,n.minColumnWidth=m,n.columnWidthRatio=C,n.roseWidthRatio=S,n.multiplePieWidthRatio=T,n.zIndexReversed=A,n.sortZIndex=k,n.useDeferredLabel=D?typeof D=="number"?D:1/0:null,n}return e.prototype.position=function(t){var n=t;Lr(t)||(n={fields:yi(t)});var a=O(n,"fields");return a.length===1&&(a.unshift("1"),he(n,"fields",a)),he(this.attributeOption,"position",n),this},e.prototype.color=function(t,n){return this.createAttrOption("color",t,n),this},e.prototype.shape=function(t,n){return this.createAttrOption("shape",t,n),this},e.prototype.size=function(t,n){return this.createAttrOption("size",t,n),this},e.prototype.adjust=function(t){var n=t;return(ct(t)||Lr(t))&&(n=[t]),M(n,function(a,i){Vt(a)||(n[i]={type:a})}),this.adjustOption=n,this},e.prototype.style=function(t,n){if(ct(t)){var a=yi(t);this.styleOption={fields:a,callback:n}}else{var i=t,a=i.fields,o=i.callback,s=i.cfg;a||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},e.prototype.tooltip=function(t,n){if(ct(t)){var a=yi(t);this.tooltipOption={fields:a,callback:n}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,n,a){if(ct(t)){var i={},o=yi(t);i.fields=o,J(n)?i.callback=n:Lr(n)&&(i.cfg=n),a&&(i.cfg=a),this.labelOption=i}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.customInfo=function(t){return this.customOption=t,this},e.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){t===void 0&&(t={});var n=t.data,a=t.isDataChanged,i=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;ve(s,l)?n&&(a||!ve(n,this.data))?(this.setCfg(t),this.initAttributes(),this.processData(n)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=i},e.prototype.paint=function(t){var n=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=G({},Ab(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var a=this.getOffscreenGroup();a.clear();var i=this.beforeMappingData,o=this.beforeMapping(i);this.dataArray=new Array(o.length);for(var s=0;s<o.length;s++){var l=o[s];this.dataArray[s]=this.mapping(l)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var u=this.container,c=this.type,f=this.coordinate,h=O(this.animateOption,"appear"),v=this.getYScale(),d=f.convert({x:0,y:v.scale(this.getYMinValue())});oB(u,h,c,f,d)}if(this.labelOption){var p=this.useDeferredLabel,g=function(){return n.renderLabels(ar(n.dataArray),t)}.bind(this);if(typeof p=="number"){var y=typeof p=="number"&&p!==1/0?p:0;if(!window.requestIdleCallback)setTimeout(g,y);else{var w=y&&y!==1/0?{timeout:y}:void 0;window.requestIdleCallback(g,w)}}else g()}this.lastAttributeOption=b({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,n=t.container,a=t.geometryLabel,i=t.offscreenGroup;n&&n.clear(),a&&a.clear(),i&&i.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,r.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return M(this.attributes,function(n){Ca.includes(n.type)&&t.push(n)}),t},e.prototype.getDefaultValue=function(t){var n,a=this.getAttribute(t);return a&&Yr(a.scales)&&(n=a.values[0]),n},e.prototype.getAttributeValues=function(t,n){for(var a=[],i=t.scales,o=0,s=i.length;o<s;o++){var l=i[o],u=l.field;l.isIdentity?a.push(l.values):a.push(n[u])}return t.mapping.apply(t,Dt([],q(a),!1))},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.getData=function(){return this.data},e.prototype.getShapeMarker=function(t,n){var a=this.getShapeFactory();return a.getMarker(t,n)},e.prototype.getElementsBy=function(t){return this.elements.filter(function(n){return t(n)})},e.prototype.getElements=function(){return this.elements},e.prototype.getElementId=function(t){t=Y(t)?t[0]:t;var n=t[At];if(this.idFields.length){for(var a=n[this.idFields[0]],i=1;i<this.idFields.length;i++)a+="-"+n[this.idFields[i]];return a}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",c=l.field||"y",f=n[c],h;s.type==="identity"?h=s.values[0]:h=n[u];var v;o==="interval"||o==="schema"?v="".concat(h):o==="line"||o==="area"||o==="path"?v=o:v="".concat(h,"-").concat(f);for(var d=this.groupScales,i=0,p=d.length;i<p;i++){var g=d[i],y=g.field;v="".concat(v,"-").concat(n[y])}var w=this.getAdjust("dodge");if(w){var x=w.dodgeBy;x&&(v="".concat(v,"-").concat(n[x]))}return this.getAdjust("jitter")&&(v="".concat(v,"-").concat(t.x,"-").concat(t.y)),v},e.prototype.getScaleFields=function(){var t=[],n=new Map,a=this,i=a.attributeOption,o=a.labelOption,s=a.tooltipOption;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];u.fields?dn(u.fields,t,n):u.values&&dn(u.values,t,n)}return o&&o.fields&&dn(o.fields,t,n),Vt(s)&&s.fields&&dn(s.fields,t,n),t},e.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t);for(var n=this.elements,a=0,i=n.length;a<i;a++){var o=n[a];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getFields=function(){var t=new Map,n=[];return Object.values(this.attributeOption).forEach(function(a){var i=(a==null?void 0:a.fields)||[];i.forEach(function(o){t.has(o)||n.push(o),t.set(o,!0)})},[]),n},e.prototype.getGroupFields=function(){for(var t=[],n=new Map,a=0,i=Ca.length;a<i;a++){var o=Ca[a],s=this.attributeOption[o];s&&s.fields&&dn(s.fields,t,n)}return t},e.prototype.getXYFields=function(){var t=q(this.attributeOption.position.fields,2),n=t[0],a=t[1];return[n,a]},e.prototype.getXField=function(){return O(this.getXYFields(),[0])},e.prototype.getYField=function(){return O(this.getXYFields(),[1])},e.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var n=this.getXScale(),a=n.field,i=0;i<t.length;i++){var o=t[i];o.sort(function(s,l){return n.translate(s[At][a])-n.translate(l[At][a])})}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(mm(t))return this.shapeFactory||(this.shapeFactory=er(mm(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var n=this.getXScale(),a=this.getYScale(),i=this.normalizeValues(t[n.field],n),o;return a?o=this.normalizeValues(t[a.field],a):o=t.y?t.y:.1,{x:i,y:o,y0:a?a.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,n,a){a===void 0&&(a=!1);var i=this.container,o=this.getDrawCfg(t),s=this.getShapeFactory(),l=new Db({shapeFactory:s,container:i,offscreenGroup:this.getOffscreenGroup(),elementIndex:n});return l.animate=this.animateOption,l.geometry=this,l.draw(o,a),l},e.prototype.getDrawCfg=function(t){var n=t[At],a={mappingData:t,data:n,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},i=t.shape;!i&&this.getShapeFactory()&&(i=this.getShapeFactory().defaultShapeType),a.shape=i;var o=this.theme.geometries[this.shapeType];a.defaultStyle=O(o,[i,"default"],{}).style,!a.defaultStyle&&this.getShapeFactory()&&(a.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var s=this.styleOption;return s&&(a.style=this.getStyleCfg(s,n)),this.generatePoints&&(a.points=t.points,a.nextPoints=t.nextPoints),a},e.prototype.updateElements=function(t,n){var a,i,o,s,l,u;n===void 0&&(n=!1);for(var c=new Map,f=[],h=new Map,v=0,d=0;d<t.length;d++)for(var p=t[d],g=0;g<p.length;g++){var y=p[g],w=this.getElementId(y),x=c.has(w)?"".concat(w,"-").concat(d,"-").concat(g):w;f.push(x),c.set(x,y),h.set(x,v),v++}this.elements=new Array(v);var m=Rb(this.lastElementsMap,f),C=m.added,S=m.updated,T=m.removed;try{for(var A=St(C),k=A.next();!k.done;k=A.next()){var w=k.value,y=c.get(w),d=h.get(w),D=this.createElement(y,d,n);this.elements[d]=D,this.elementsMap[w]=D,D.shape&&D.shape.set("zIndex",this.zIndexReversed?this.elements.length-d:d)}}catch(ot){a={error:ot}}finally{try{k&&!k.done&&(i=A.return)&&i.call(A)}finally{if(a)throw a.error}}try{for(var $=St(S),L=$.next();!L.done;L=$.next()){var w=L.value,D=this.lastElementsMap[w],y=c.get(w),F=this.getDrawCfg(y),X=D.getModel(),d=h.get(w);(this.isCoordinateChanged||Ib(F,X))&&(D.animate=this.animateOption,D.update(F)),this.elements[d]=D,this.elementsMap[w]=D,D.shape&&D.shape.set("zIndex",this.zIndexReversed?this.elements.length-d:d)}}catch(ot){o={error:ot}}finally{try{L&&!L.done&&(s=$.return)&&s.call($)}finally{if(o)throw o.error}}this.container&&this.container.sort();try{for(var j=St(T),Z=j.next();!Z.done;Z=j.next()){var w=Z.value,D=this.lastElementsMap[w];D.animate=this.animateOption,D.destroy()}}catch(ot){l={error:ot}}finally{try{Z&&!Z.done&&(u=j.return)&&u.call(j)}finally{if(l)throw l.error}}},e.prototype.getLabelType=function(){var t=this,n=t.labelOption,a=t.coordinate,i=t.type,o=a.type,s=a.isTransposed,l=O(n,["cfg","type"]);return l||(o==="polar"?l=s?"pie":"polar":o==="theta"?l="pie":i==="interval"||i==="polygon"?l="interval":l="base"),l},e.prototype.getYMinValue=function(){var t=this.getYScale(),n=t.min,a=t.max,i;return n>=0?i=n:a<=0?i=a:i=0,i},e.prototype.createAttrOption=function(t,n,a){if(B(n)||Vt(n))Vt(n)&&ve(Object.keys(n),["values"])?he(this.attributeOption,t,{fields:n.values}):he(this.attributeOption,t,n);else{var i={};Pt(n)?i.values=[n]:i.fields=yi(n),a&&(J(a)?i.callback=a:i.values=a),he(this.attributeOption,t,i)}},e.prototype.initAttributes=function(){var t=this,n=this,a=n.attributes,i=n.attributeOption,o=n.theme,s=n.shapeType;this.groupScales=[];var l={},u=function(h){if(i.hasOwnProperty(h)){var v=i[h];if(!v)return{value:void 0};var d=b({},v),p=d.callback,g=d.values,y=d.fields,w=y===void 0?[]:y,x=w.map(function(C){var S=t.scales[C];if(!l[C]&&Ca.includes(h)){var T=tb(S,O(t.scaleDefs,C),h,t.type);T==="cat"&&(t.groupScales.push(S),l[C]=!0)}return S});d.scales=x,h!=="position"&&x.length===1&&x[0].type==="identity"?d.values=x[0].values:!p&&!g&&(h==="size"?d.values=o.sizes:h==="shape"?d.values=o.shapes[s]||[]:h==="color"&&(x.length?d.values=x[0].values.length<=10?o.colors10:o.colors20:d.values=o.colors10));var m=Aw(h);a[h]=new m(d)}};for(var c in i){var f=u(c);if(typeof f=="object")return f.value}},e.prototype.processData=function(t){var n,a;this.hasSorted=!1;for(var i=this.getAttribute("position").scales,o=i.filter(function(T){return T.isCategory}),s=this.groupData(t),l=[],u=0,c=s.length;u<c;u++){for(var f=s[u],h=[],v=0,d=f.length;v<d;v++){var p=f[v],g={};for(var y in p)g[y]=p[y];g[At]=p;try{for(var w=(n=void 0,St(o)),x=w.next();!x.done;x=w.next()){var m=x.value,C=m.field;g[C]=m.translate(g[C])}}catch(T){n={error:T}}finally{try{x&&!x.done&&(a=w.return)&&a.call(w)}finally{if(n)throw n.error}}h.push(g)}l.push(h)}var S=this.adjustData(l);return this.beforeMappingData=S,S},e.prototype.adjustData=function(t){var n=this.adjustOption,a=this,i=a.intervalPadding,o=a.dodgePadding,s=a.theme,l=this.maxColumnWidth||s.maxColumnWidth,u=this.minColumnWidth||s.minColumnWidth,c=this.columnWidthRatio||s.columnWidthRatio,f=t;if(n){var h=this.getXScale(),v=this.getYScale(),d=h.field,p=v?v.field:null,g=fo(this.coordinate),y=h.values.length,w=this.getAttribute("size"),x=void 0;w&&(x=w.values[0]);for(var m=0,C=n.length;m<C;m++){var S=n[m],T=b({xField:d,yField:p,intervalPadding:i,dodgePadding:o,xDimensionLength:g,groupNum:y,defaultSize:x,maxColumnWidth:l,minColumnWidth:u,columnWidthRatio:c},S),A=S.type;if(A==="dodge"){var k=[];if(h.isCategory||h.type==="identity")k.push("x");else if(!v)k.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");T.adjustNames=k,T.dodgeRatio=c}else if(A==="stack"){var D=this.coordinate;if(!v){T.height=D.getHeight();var $=this.getDefaultValue("size")||3;T.size=$}!D.isTransposed&&B(T.reverseOrder)&&(T.reverseOrder=!0)}var L=sw(A);T.dimValuesMap={},h&&h.values&&(T.dimValuesMap[h.field]=h.values.map(function(X){return h.translate(X)}));var F=new L(T);f=F.process(f),this.adjusts[A]=F}}return f},e.prototype.groupData=function(t){for(var n=this.getGroupScales(),a=this.scaleDefs,i={},o=[],s=0;s<n.length;s++){var l=n[s],u=l.field;o.push(u),O(a,[u,"values"])&&(i[u]=a[u].values)}return fB(t,o,i)},e.prototype.updateStackRange=function(t,n){for(var a=ar(n),i=t.field,o=t.min,s=t.max,l=0;l<a.length;l++){var u=a[l],c=Math.min.apply(null,u[i]),f=Math.max.apply(null,u[i]);c<o&&(o=c),f>s&&(s=f)}var h=this.scaleDefs,v={};o<t.min&&!O(h,[i,"min"])&&(v.min=o),s>t.max&&!O(h,[i,"max"])&&(v.max=s),t.change(v)},e.prototype.beforeMapping=function(t){var n=t;if(this.sortable&&this.sort(n),this.generatePoints)for(var a=0,i=n.length;a<i;a++){var o=n[a];this.generateShapePoints(o);var s=n[a+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return n},e.prototype.generateShapePoints=function(t){for(var n=this.getShapeFactory(),a=this.getAttribute("shape"),i=0;i<t.length;i++){var o=t[i],s=this.createShapePointsCfg(o),l=a?this.getAttributeValues(a,o):null,u=n.getShapePoints(l,s);o.points=u}},e.prototype.normalizeValues=function(t,n){var a=[];if(Y(t))for(var i=0;i<t.length;i++){var o=t[i];a.push(n.scale(o))}else a=n.scale(t);return a},e.prototype.mapping=function(t){for(var n=this.attributes,a=[],i=0;i<t.length;i++){var o=t[i],s={_origin:o[At],points:o.points,nextPoints:o.nextPoints};for(var l in n)if(n.hasOwnProperty(l)){var u=n[l],c=u.names,f=this.getAttributeValues(u,o);if(c.length>1)for(var h=0;h<f.length;h+=1){var v=f[h],d=c[h];s[d]=Y(v)&&v.length===1?v[0]:v}else s[c[0]]=f.length===1?f[0]:f}this.convertPoint(s),a.push(s)}return a},e.prototype.convertPoint=function(t){var n=t.x,a=t.y,i,o,s,l=this.coordinate;if(Y(n)&&Y(a)){i=[],o=[];for(var u=0,c=0,f=n.length,h=a.length;u<f&&c<h;u+=1,c+=1)s=l.convert({x:n[u],y:a[c]}),i.push(s.x),o.push(s.y)}else if(Y(a)){o=[];for(var v=0;v<a.length;v++){var d=a[v];s=l.convert({x:n,y:d}),i&&i!==s.x?(Y(i)||(i=[i]),i.push(s.x)):i=s.x,o.push(s.y)}}else if(Y(n)){i=[];for(var v=0;v<n.length;v++){var p=n[v];s=l.convert({x:p,y:a}),o&&o!==s.y?(Y(o)||(o=[o]),o.push(s.y)):o=s.y,i.push(s.x)}}else{var g=l.convert({x:n,y:a});i=g.x,o=g.y}t.x=i,t.y=o},e.prototype.getStyleCfg=function(t,n){var a=t.fields,i=a===void 0?[]:a,o=t.callback,s=t.cfg;if(s)return s;var l=i.map(function(u){return n[u]});return o.apply(void 0,Dt([],q(l),!1))},e.prototype.setCfg=function(t){var n=this,a=t.coordinate,i=t.data,o=t.theme,s=t.scaleDefs;a&&(this.coordinate=a),i&&(this.data=i),s&&(this.scaleDefs=s,this.idFields=[],M(s,function(l,u){l&&l.key&&n.idFields.push(u)})),o&&(this.theme=this.userTheme?G({},o,this.userTheme):o)},e.prototype.renderLabels=function(t,n){return n===void 0&&(n=!1),Fi(this,void 0,void 0,function(){var a,i,o,s,l,u,c,f,h,v,d,p,g=this;return $i(this,function(y){switch(y.label){case 0:return a=this.geometryLabel,this.emit(wn.BEFORE_RENDER_LABEL),a||(i=this.getLabelType(),o=sB(i),a=new o(this),this.geometryLabel=a),[4,a.render(t,n)];case 1:y.sent(),s=a.labelsRenderer.shapesMap,l=new Map,M(s,function(w,x){for(var m=w.getChildren()||[],C=0;C<m.length;C++){var S=m[C],T=g.elementsMap[S.get("elementId")||x.split(" ")[0]];if(T){S.cfg.name=["element","label"],S.cfg.element=T;var A=l.get(T)||new Set;A.add(w),l.set(T,A)}}});try{for(u=St(l.entries()),c=u.next();!c.done;c=u.next())f=q(c.value,2),h=f[0],v=f[1],h.labelShape=Dt([],q(v),!1)}catch(w){d={error:w}}finally{try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(d)throw d.error}}return this.emit(wn.AFTER_RENDER_LABEL),[2]}})})},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(O(this.animateOption,"appear")===void 0||O(this.animateOption,"appear")&&O(this.animateOption,["appear","animation"])===void 0)},e}(Zv),Lb=oe;function $u(r,e,t){var n=Lb(r.getMatrix(),[["t",e,t]]);r.setMatrix(n)}function hB(r,e){var t=r.attr(),n=t.x,a=t.y,i=Lb(r.getMatrix(),[["t",-n,-a],["r",e],["t",n,a]]);return i}function Bb(r,e){var t=hB(r,e);r.setMatrix(t)}function Pn(r){return r.find(function(e){return e.get("type")==="text"})}function Fb(r,e,t){t===void 0&&(t=[0,0,0,0]);var n=r&&r.getChildren()[0];if(n){var a=n.clone();e!=null&&e.rotate&&Bb(a,-e.rotate);var i=a.getCanvasBBox(),o=i.x,s=i.y,l=i.width,u=i.height;a.destroy();var c=t;return B(c)?c=[2,2,2,2]:Pt(c)&&(c=new Array(4).fill(c)),{x:o-c[3],y:s-c[0],width:l+c[1]+c[3],height:u+c[0]+c[2],rotation:(e==null?void 0:e.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function vB(r,e,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(r.x+r.width+t,e.x+e.width+t)-Math.max(r.x-t,e.x-t)),a=Math.max(0,Math.min(r.y+r.height+t,e.y+e.height+t)-Math.max(r.y-t,e.y-t));return n*a}function dB(r,e){var t=r.getBBox();return ou(e,function(n){var a=n.getBBox();return vB(t,a,2)>0})}function $b(r,e,t){var n=t.data,a=t.origin,i=t.animateCfg,o=t.coordinate,s=O(i,"update");r.set("data",n),r.set("origin",a),r.set("animateCfg",i),r.set("coordinate",o),r.set("visible",e.get("visible")),(r.getChildren()||[]).forEach(function(l,u){var c=e.getChildByIndex(u);if(!c)r.removeChild(l),l.remove(!0);else{l.set("data",n),l.set("origin",a),l.set("animateCfg",i),l.set("coordinate",o);var f=Jw(l,c);s?Da(l,s,{toAttrs:f,coordinate:o}):l.attr(f),c.isGroup()&&$b(l,c,t)}}),M(e.getChildren(),function(l,u){u>=r.getCount()&&(l.destroyed||r.add(l))})}var pB=function(){function r(e){this.shapesMap={};var t=e.layout,n=e.container;this.layout=t,this.container=n}return r.prototype.render=function(e,t,n){return n===void 0&&(n=!1),Fi(this,void 0,void 0,function(){var a,i,o,s,l,u,c,f,h=this;return $i(this,function(v){switch(v.label){case 0:if(a={},i=this.createOffscreenGroup(),!e.length)return[3,2];try{for(o=St(e),s=o.next();!s.done;s=o.next())l=s.value,l&&(a[l.id]=this.renderLabel(l,i))}catch(d){c={error:d}}finally{try{s&&!s.done&&(f=o.return)&&f.call(o)}finally{if(c)throw c.error}}return[4,this.doLayout(e,t,a)];case 1:v.sent(),this.renderLabelLine(e,a),this.renderLabelBackground(e,a),this.adjustLabel(e,a),v.label=2;case 2:return u=this.shapesMap,M(a,function(d,p){if(d.destroyed)delete a[p];else{if(u[p]){var g=d.get("data"),y=d.get("origin"),w=d.get("coordinate"),x=d.get("animateCfg"),m=u[p];$b(m,a[p],{data:g,origin:y,animateCfg:x,coordinate:w}),a[p]=m}else{if(h.container.destroyed)return;h.container.add(d);var C=O(d.get("animateCfg"),n?"enter":"appear");C&&Da(d,C,{toAttrs:b({},d.attr()),coordinate:d.get("coordinate")})}delete u[p]}}),M(u,function(d){var p=O(d.get("animateCfg"),"leave");p?Da(d,p,{toAttrs:null,coordinate:d.get("coordinate")}):d.remove(!0)}),this.shapesMap=a,i.destroy(),[2]}})})},r.prototype.clear=function(){this.container.clear(),this.shapesMap={}},r.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},r.prototype.renderLabel=function(e,t){var n=e.id,a=e.elementId,i=e.data,o=e.mappingData,s=e.coordinate,l=e.animate,u=e.content,c=e.capture,f={id:n,elementId:a,capture:c,data:i,origin:b(b({},o),{data:o[At]}),coordinate:s},h=t.addGroup(b({name:"label",animateCfg:this.animate===!1||l===null||l===!1?!1:G({},this.animate,l)},f)),v;if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var d=u.getCanvasBBox(),p=d.width,g=d.height,y=O(e,"textAlign","left"),w=e.x,x=e.y-g/2;y==="center"?w=w-p/2:(y==="right"||y==="end")&&(w=w-p),$u(u,w,x),v=u,h.add(u)}else{var m=O(e,["style","fill"]);v=h.addShape("text",b({attrs:b(b({x:e.x,y:e.y,textAlign:e.textAlign,textBaseline:O(e,"textBaseline","middle"),text:e.content},e.style),{fill:qA(m)?e.color:m})},f))}return e.rotate&&Bb(v,e.rotate),h},r.prototype.doLayout=function(e,t,n){return Fi(this,void 0,void 0,function(){var a,i=this;return $i(this,function(o){switch(o.label){case 0:return this.layout?(a=Y(this.layout)?this.layout:[this.layout],[4,Promise.all(a.map(function(s){var l=lB(O(s,"type",""));if(l){var u=[],c=[];return M(n,function(f,h){u.push(f),c.push(t[f.get("elementId")])}),l(e,u,c,i.region,s.cfg)}}))]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},r.prototype.renderLabelLine=function(e,t){M(e,function(n){var a=O(n,"coordinate");if(!(!n||!a)){var i=a.getCenter(),o=a.getRadius();if(n.labelLine){var s=O(n,"labelLine",{}),l=n.id,u=s.path;if(!u){var c=se(i.x,i.y,o,n.angle);u=[["M",c.x,c.y],["L",n.x,n.y]]}var f=t[l];f.destroyed||f.addShape("path",{capture:!1,attrs:b({path:u,stroke:n.color?n.color:O(n,["style","fill"],"#000"),fill:null},s.style),id:l,origin:n.mappingData,data:n.data,coordinate:n.coordinate})}}})},r.prototype.renderLabelBackground=function(e,t){M(e,function(n){var a=O(n,"coordinate"),i=O(n,"background");if(!(!i||!a)){var o=n.id,s=t[o];if(!s.destroyed){var l=s.getChildren()[0];if(l){var u=Fb(s,n,i.padding),c=u.rotation,f=be(u,["rotation"]),h=s.addShape("rect",{attrs:b(b({},f),i.style||{}),id:o,origin:n.mappingData,data:n.data,coordinate:n.coordinate});if(h.setZIndex(-1),c){var v=l.getMatrix();h.setMatrix(v)}}}}})},r.prototype.createOffscreenGroup=function(){var e=this.container,t=e.getGroupBase(),n=new t({});return n},r.prototype.adjustLabel=function(e,t){M(e,function(n){if(n){var a=n.id,i=t[a];if(!i.destroyed){var o=i.findAll(function(s){return s.get("type")!=="path"});M(o,function(s){s&&(n.offsetX&&s.attr("x",s.attr("x")+n.offsetX),n.offsetY&&s.attr("y",s.attr("y")+n.offsetY))})}}})},r}();function xm(r){var e=0;return M(r,function(t){e+=t}),e/r.length}var kd=function(){function r(e){this.geometry=e}return r.prototype.getLabelItems=function(e){var t=this,n=[],a=this.getLabelCfgs(e);return M(e,function(i,o){var s=a[o];if(!s||B(i.x)||B(i.y)){n.push(null);return}var l=Y(s.content)?s.content:[s.content];s.content=l;var u=l.length;M(l,function(c,f){if(B(c)||c===""){n.push(null);return}var h=b(b({},s),t.getLabelPoint(s,i,f));h.textAlign||(h.textAlign=t.getLabelAlign(h,f,u)),h.offset<=0&&(h.labelLine=null),n.push(h)})}),n},r.prototype.render=function(e,t){return t===void 0&&(t=!1),Fi(this,void 0,void 0,function(){var n,a,i;return $i(this,function(o){switch(o.label){case 0:return n=this.getLabelItems(e),a=this.getLabelsRenderer(),i=this.getGeometryShapes(),[4,a.render(n,i,t)];case 1:return o.sent(),[2]}})})},r.prototype.clear=function(){var e=this.labelsRenderer;e&&e.clear()},r.prototype.destroy=function(){var e=this.labelsRenderer;e&&e.destroy(),this.labelsRenderer=null},r.prototype.getCoordinate=function(){return this.geometry.coordinate},r.prototype.getDefaultLabelCfg=function(e,t){var n=this.geometry,a=n.type,i=n.theme;return a==="polygon"||a==="interval"&&t==="middle"||e<0&&!["line","point","path"].includes(a)?O(i,"innerLabels",{}):O(i,"labels",{})},r.prototype.getThemedLabelCfg=function(e){var t=this.geometry,n=this.getDefaultLabelCfg(),a=t.type,i=t.theme,o;return a==="polygon"||e.offset<0&&!["line","point","path"].includes(a)?o=G({},n,i.innerLabels,e):o=G({},n,i.labels,e),o},r.prototype.setLabelPosition=function(e,t,n,a){},r.prototype.getLabelOffset=function(e){var t=this.getCoordinate(),n=this.getOffsetVector(e);return t.isTransposed?n[0]:n[1]},r.prototype.getLabelOffsetPoint=function(e,t,n){var a=e.offset,i=this.getCoordinate(),o=i.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return t>0||n===1?u[s]=a*l:u[s]=a*l*-1,u},r.prototype.getLabelPoint=function(e,t,n){var a=this.getCoordinate(),i=e.content.length;function o(g,y,w){w===void 0&&(w=!1);var x=g;return Y(x)&&(e.content.length===1?w?x=xm(x):x.length<=2?x=x[g.length-1]:x=xm(x):x=x[y]),x}var s={content:e.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},l=Y(t.shape)?t.shape[0]:t.shape,u=l==="funnel"||l==="pyramid";if(this.geometry.type==="polygon"){var c=QR(t.x,t.y);s.x=c[0],s.y=c[1]}else this.geometry.type==="interval"&&!u?(s.x=o(t.x,n,!0),s.y=o(t.y,n)):(s.x=o(t.x,n),s.y=o(t.y,n));if(u){var f=O(t,"nextPoints"),h=O(t,"points");if(f){var v=a.convert(h[1]),d=a.convert(f[1]);s.x=(v.x+d.x)/2,s.y=(v.y+d.y)/2}else if(l==="pyramid"){var v=a.convert(h[1]),d=a.convert(h[2]);s.x=(v.x+d.x)/2,s.y=(v.y+d.y)/2}}e.position&&this.setLabelPosition(s,t,n,e.position);var p=this.getLabelOffsetPoint(e,n,i);return s.start={x:s.x,y:s.y},s.x+=p.x,s.y+=p.y,s.color=t.color,s},r.prototype.getLabelAlign=function(e,t,n){var a="center",i=this.getCoordinate();if(i.isTransposed){var o=e.offset;o<0?a="right":o===0?a="center":a="left",n>1&&t===0&&(a==="right"?a="left":a==="left"&&(a="right"))}return a},r.prototype.getLabelId=function(e){var t=this.geometry,n=t.type,a=t.getXScale(),i=t.getYScale(),o=e[At],s=t.getElementId(e);return n==="line"||n==="area"?s+=" ".concat(o[a.field]):n==="path"&&(s+=" ".concat(o[a.field],"-").concat(o[i.field])),s},r.prototype.getLabelsRenderer=function(){var e=this.geometry,t=e.labelsContainer,n=e.labelOption,a=e.canvasRegion,i=e.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new pB({container:t,layout:O(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=a,s.animate=i?Ab("label",o):!1,s},r.prototype.getLabelCfgs=function(e){var t=this,n=this.geometry,a=n.labelOption,i=n.scales,o=n.coordinate,s=a,l=s.fields,u=s.callback,c=s.cfg,f=l.map(function(v){return i[v]}),h=[];return M(e,function(v,d){var p=v[At],g=t.getLabelText(p,f),y;if(u){var w=l.map(function(T){return p[T]});if(y=u.apply(void 0,Dt([],q(w),!1)),B(y)){h.push(null);return}}var x=b(b({id:t.getLabelId(v),elementId:t.geometry.getElementId(v),data:p,mappingData:v,coordinate:o},c),y);J(x.position)&&(x.position=x.position(p,v,d));var m=t.getLabelOffset(x.offset||0),C=t.getDefaultLabelCfg(m,x.position);x=G({},C,x),x.offset=t.getLabelOffset(x.offset||0);var S=x.content;J(S)?x.content=S(p,v,d):ba(S)&&(x.content=g[0]),h.push(x)}),h},r.prototype.getLabelText=function(e,t){var n=[];return M(t,function(a){var i=e[a.field];Y(i)?i=i.map(function(o){return a.getText(o)}):i=a.getText(i),B(i)||i===""?n.push(null):n.push(i)}),n},r.prototype.getOffsetVector=function(e){e===void 0&&(e=0);var t=this.getCoordinate(),n=0;return Pt(e)&&(n=e),t.isTransposed?t.applyMatrix(n,0):t.applyMatrix(0,n)},r.prototype.getGeometryShapes=function(){var e=this.geometry,t={};return M(e.elementsMap,function(n,a){t[a]=n.shape}),M(e.getOffscreenGroup().getChildren(),function(n){var a=e.getElementId(n.get("origin").mappingData);t[a]=n}),t},r}();function wm(r,e,t){if(!r)return t;var n;if(r.callback&&r.callback.length>1){var a=Array(r.callback.length-1).fill("");n=r.mapping.apply(r,Dt([e],q(a),!1)).join("")}else n=r.mapping(e).join("");return n||t}var ra={hexagon:function(r,e,t){var n=t/2*Math.sqrt(3);return[["M",r,e-t],["L",r+n,e-t/2],["L",r+n,e+t/2],["L",r,e+t],["L",r-n,e+t/2],["L",r-n,e-t/2],["Z"]]},bowtie:function(r,e,t){var n=t-1.5;return[["M",r-t,e-n],["L",r+t,e+n],["L",r+t,e-n],["L",r-t,e+n],["Z"]]},cross:function(r,e,t){return[["M",r-t,e-t],["L",r+t,e+t],["M",r+t,e-t],["L",r-t,e+t]]},tick:function(r,e,t){return[["M",r-t/2,e-t],["L",r+t/2,e-t],["M",r,e-t],["L",r,e+t],["M",r-t/2,e+t],["L",r+t/2,e+t]]},plus:function(r,e,t){return[["M",r-t,e],["L",r+t,e],["M",r,e-t],["L",r,e+t]]},hyphen:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},line:function(r,e,t){return[["M",r,e-t],["L",r,e+t]]}},gB=["line","cross","tick","plus","hyphen"];function yB(r,e){return J(e)?e(r):G({},r,e)}function mB(r,e){var t=r.symbol;if(ct(t)&&gB.indexOf(t)!==-1){var n=O(r,"style",{}),a=O(n,"lineWidth",1),i=n.stroke||n.fill||e;r.style=G({},r.style,{lineWidth:a,stroke:i,fill:null})}}function Yb(r){var e=r.symbol;ct(e)&&ra[e]&&(r.symbol=ra[e])}function Mc(r){return r.startsWith(V.LEFT)||r.startsWith(V.RIGHT)?"vertical":"horizontal"}function xB(r,e,t,n,a){var i=t.getScale(t.type);if(i.isCategory){var o=i.field,s=e.getAttribute("color"),l=e.getAttribute("shape"),u=r.getTheme().defaultColor,c=e.coordinate.isPolar;return i.getTicks().map(function(f,h){var v,d=f.text,p=f.value,g=d,y=i.invert(p),w=r.filterFieldData(o,[(v={},v[o]=y,v)]).length===0;M(r.views,function(T){var A;T.filterFieldData(o,[(A={},A[o]=y,A)]).length||(w=!0)});var x=wm(s,y,u),m=wm(l,y,"point"),C=e.getShapeMarker(m,{color:x,isInPolar:c}),S=a;return J(S)&&(S=S(g,h,b({name:g,value:y},G({},n,C)))),C=G({},n,C,ze(b({},S),["style"])),mB(C,x),S&&S.style&&(C.style=yB(C.style,S.style)),Yb(C),{id:y,name:g,value:y,marker:C,unchecked:w}})}return[]}function wB(r,e,t){return t.map(function(n,a){var i=e;J(i)&&(i=i(n.name,a,G({},r,n)));var o=J(n.marker)?n.marker(n.name,a,G({},r,n)):n.marker,s=G({},r,i,o);return Yb(s),n.marker=s,n})}function bm(r,e){var t=O(r,["components","legend"],{});return G({},O(t,["common"],{}),G({},O(t,[e],{})))}function Tc(r){return r?!1:r==null||isNaN(r)}function Cm(r){if(Y(r))return Tc(r[1].y);var e=r.y;return Y(e)?Tc(e[0]):Tc(e)}function Ad(r,e,t){if(e===void 0&&(e=!1),t===void 0&&(t=!0),!r.length||r.length===1&&!t)return[];if(e){for(var n=[],a=0,i=r.length;a<i;a++){var o=r[a];Cm(o)||n.push(o)}return[n]}for(var s=[],l=[],a=0,i=r.length;a<i;a++){var o=r[a];Cm(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function Nb(r){for(var e=[],t=0;t<r.length;t++){var n=r[t];if(n){var a=t===0?"M":"L";e.push([a,n.x,n.y])}}var i=r[0];return i&&(e.push(["L",i.x,i.y]),e.push(["z"])),e}function Vb(r){for(var e=r.length/2,t=[],n=[],a=0;a<r.length;a++)a<e?t.push(r[a]):n.push(r[a]);var i=Xl(t,!1),o=Xl(n,!1);n.length&&i.push(["L",n[0].x,n[0].y]),o.shift();var s=i.concat(o);return t.length&&s.push(["L",t[0].x,t[0].y]),s.push(["z"]),s}function re(r,e,t,n){n===void 0&&(n="");var a=r.style,i=a===void 0?{}:a,o=r.defaultStyle,s=r.color,l=r.size,u=b(b({},o),i);return s&&(e&&(i.stroke||(u.stroke=s)),t&&(i.fill||(u.fill=s))),n&&B(i[n])&&!B(l)&&(u[n]=l),u}function Hb(r){return G({},{fill:"#CCD6EC",fillOpacity:.3},O(r,["background","style"]))}function Dd(r){var e=r.x,t=Y(r.y)?r.y:[r.y];return t.map(function(n,a){return{x:Y(e)?e[a]:e,y:n}})}var bB={line:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},dot:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},dash:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},smooth:function(r,e,t){return[["M",r-t,e],["A",t/2,t/2,0,1,1,r,e],["A",t/2,t/2,0,1,0,r+t,e]]},hv:function(r,e,t){return[["M",r-t-1,e-2.5],["L",r,e-2.5],["L",r,e+2.5],["L",r+t+1,e+2.5]]},vh:function(r,e,t){return[["M",r-t-1,e+2.5],["L",r,e+2.5],["L",r,e-2.5],["L",r+t+1,e-2.5]]},hvh:function(r,e,t){return[["M",r-(t+1),e+2.5],["L",r-t/2,e+2.5],["L",r-t/2,e-2.5],["L",r+t/2,e-2.5],["L",r+t/2,e+2.5],["L",r+t+1,e+2.5]]},vhv:function(r,e){return[["M",r-5,e+2.5],["L",r-5,e],["L",r,e],["L",r,e-3],["L",r,e+3],["L",r+6.5,e+3]]}};function zb(r,e){var t=r.color;return{symbol:bB[e],style:{lineWidth:2,r:6,stroke:t}}}function CB(r,e,t){for(var n=r.isStack,a=r.connectNulls,i=r.isInCircle,o=r.showSinglePoint,s=re(r,!0,!1,"lineWidth"),l=Ad(r.points,a,o),u=[],c=0,f=l.length;c<f;c++){var h=l[c];u=u.concat(MB(h,i,n,e,t,s))}return s.path=u,s}function hv(r,e,t,n,a){if(r.length===1)return[["M",r[0].x,r[0].y-a.lineWidth/2],["L",r[0].x,r[0].y],["L",r[0].x,r[0].y+a.lineWidth/2]];var i;return t?(e&&r.length&&r.push({x:r[0].x,y:r[0].y}),i=Xl(r,!1,n)):(i=ho(r,!1),e&&i.push(["Z"])),i}function SB(r,e,t,n,a,i){var o=[],s=[];M(r,function(c){var f=Dd(c);o.push(f[1]),s.push(f[0])});var l=hv(o,e,n,a,i),u=hv(s,e,n,a,i);return t?l:l.concat(u)}function MB(r,e,t,n,a,i){if(r.length){var o=r[0];return Y(o.y)?SB(r,e,t,n,a,i):hv(r,e,n,a,i)}return[]}An("line",{defaultShapeType:"line"});M(["line","dot","dash","smooth"],function(r){Ft("line",r,{draw:function(e,t){var n=r==="smooth",a;if(n){var i=this.coordinate,o=i.start,s=i.end;a=[[o.x,s.y],[s.x,o.y]]}var l=CB(e,n,a),u=t.addShape({type:"path",attrs:l,name:"line",capture:!n});return u},getMarker:function(e){return zb(e,r)}})});var an={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},kt={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},yr=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],TB=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],PB=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],OB=function(r){r===void 0&&(r={});var e=r.paletteQualitative10,t=e===void 0?yr:e,n=r.paletteQualitative20,a=n===void 0?TB:n,i=r.brandColor,o=i===void 0?t[0]:i,s={backgroundColor:"#141414",brandColor:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:t,paletteQualitative20:a,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:PB,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:kt[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:kt[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:an[85],axisTickLineBorderColor:kt[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:kt[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:kt[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:kt[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:kt[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:yr[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:kt[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:kt[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:kt[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:kt[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:kt[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:kt[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:an[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:an[25],annotationArcBorderColor:kt[15],annotationArcBorder:1,annotationLineBorderColor:kt[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:kt[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:kt[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:kt[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:kt[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:kt[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:an[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:kt[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:an[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:kt[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:yr[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:an[100],pointBorderOpacity:1,pointActiveBorderColor:kt[100],pointSelectedBorder:2,pointSelectedBorderColor:kt[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:yr[0],hollowPointBorderOpacity:.95,hollowPointFillColor:an[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:kt[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:kt[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:yr[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:yr[0],areaFillOpacity:.25,areaActiveFillColor:yr[0],areaActiveFillOpacity:.5,areaSelectedFillColor:yr[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:yr[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:kt[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:kt[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:yr[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:kt[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:kt[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:yr[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:an[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:kt[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:kt[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return b(b({},s),r)},kB=OB();function AB(){return window?window.devicePixelRatio:1}function Gb(r,e,t,n){var a=r-t,i=e-n;return Math.sqrt(a*a+i*i)}function Gn(r,e,t,n,a,i){return a>=r&&a<=r+t&&i>=e&&i<=e+n}function ro(r,e){return!(e.minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)}function DB(r,e){return!r||!e?r||e:{minX:Math.min(r.minX,e.minX),minY:Math.min(r.minY,e.minY),maxX:Math.max(r.maxX,e.maxX),maxY:Math.max(r.maxY,e.maxY)}}function Sm(r,e){return r[0]===e[0]&&r[1]===e[1]}var _B=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,EB=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,IB=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Wb=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Xb(r,e){var t=r.match(Wb);M(t,function(n){var a=n.split(":");e.addColorStop(a[0],a[1])})}function RB(r,e,t){var n=_B.exec(t),a=parseFloat(n[1])%360*(Math.PI/180),i=n[2],o=e.getBBox(),s,l;a>=0&&a<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=a&&a<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=a&&a<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(a),c=u*u,f=(l.x-s.x+u*(l.y-s.y))/(c+1)+s.x,h=u*(l.x-s.x+u*(l.y-s.y))/(c+1)+s.y,v=r.createLinearGradient(s.x,s.y,f,h);return Xb(i,v),v}function LB(r,e,t){var n=EB.exec(t),a=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),s=n[4];if(o===0){var l=s.match(Wb);return l[l.length-1].split(":")[1]}var u=e.getBBox(),c=u.maxX-u.minX,f=u.maxY-u.minY,h=Math.sqrt(c*c+f*f)/2,v=r.createRadialGradient(u.minX+c*a,u.minY+f*i,0,u.minX+c/2,u.minY+f/2,o*h);return Xb(s,v),v}function BB(r,e,t){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var n,a,i=IB.exec(t),o=i[1],s=i[2];function l(){n=r.createPattern(a,o),e.set("pattern",n),e.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return a=new Image,s.match(/^data:/i)||(a.crossOrigin="Anonymous"),a.src=s,a.complete?l():(a.onload=l,a.src=a.src),n}function FB(r,e,t){var n=e.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return t;if(ct(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return RB(r,e,t);if(t[0]==="r")return LB(r,e,t);if(t[0]==="p")return BB(r,e,t)}return t}if(t instanceof CanvasPattern)return t}function $B(r){var e=0,t=0,n=0,a=0;return Y(r)?r.length===1?e=t=n=a=r[0]:r.length===2?(e=n=r[0],t=a=r[1]):r.length===3?(e=r[0],t=a=r[1],n=r[2]):(e=r[0],t=r[1],n=r[2],a=r[3]):e=t=n=a=r,[e,t,n,a]}function Fo(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function vv(r,e){return Fo(r)*Fo(e)?(r[0]*e[0]+r[1]*e[1])/(Fo(r)*Fo(e)):1}function Mm(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(vv(r,e))}function ql(r,e){var t=e[1],n=e[2],a=Xv(Uv(e[3]),Math.PI*2),i=e[4],o=e[5],s=r[0],l=r[1],u=e[6],c=e[7],f=Math.cos(a)*(s-u)/2+Math.sin(a)*(l-c)/2,h=-1*Math.sin(a)*(s-u)/2+Math.cos(a)*(l-c)/2,v=f*f/(t*t)+h*h/(n*n);v>1&&(t*=Math.sqrt(v),n*=Math.sqrt(v));var d=t*t*(h*h)+n*n*(f*f),p=d?Math.sqrt((t*t*(n*n)-d)/d):1;i===o&&(p*=-1),isNaN(p)&&(p=0);var g=n?p*t*h/n:0,y=t?p*-n*f/t:0,w=(s+u)/2+Math.cos(a)*g-Math.sin(a)*y,x=(l+c)/2+Math.sin(a)*g+Math.cos(a)*y,m=[(f-g)/t,(h-y)/n],C=[(-1*f-g)/t,(-1*h-y)/n],S=Mm([1,0],m),T=Mm(m,C);return vv(m,C)<=-1&&(T=Math.PI),vv(m,C)>=1&&(T=0),o===0&&T>0&&(T=T-2*Math.PI),o===1&&T<0&&(T=T+2*Math.PI),{cx:w,cy:x,rx:Sm(r,[u,c])?0:t,ry:Sm(r,[u,c])?0:n,startAngle:S,endAngle:S+T,xRotation:a,arcFlag:i,sweepFlag:o}}var jl=Math.sin,Ql=Math.cos,_d=Math.atan2,$o=Math.PI;function Ub(r,e,t,n,a,i,o){var s=e.stroke,l=e.lineWidth,u=t-a,c=n-i,f=_d(c,u),h=new Bd({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Ql($o/6)+","+10*jl($o/6)+" L0,0 L"+10*Ql($o/6)+",-"+10*jl($o/6),stroke:s,lineWidth:l}});h.translate(a,i),h.rotateAtPoint(a,i,f),r.set(o?"startArrowShape":"endArrowShape",h)}function qb(r,e,t,n,a,i,o){var s=e.startArrow,l=e.endArrow,u=e.stroke,c=e.lineWidth,f=o?s:l,h=f.d,v=f.fill,d=f.stroke,p=f.lineWidth,g=be(f,["d","fill","stroke","lineWidth"]),y=t-a,w=n-i,x=_d(w,y);h&&(a=a-Ql(x)*h,i=i-jl(x)*h);var m=new Bd({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:b(b({},g),{stroke:d||u,lineWidth:p||c,fill:v})});m.translate(a,i),m.rotateAtPoint(a,i,x),r.set(o?"startArrowShape":"endArrowShape",m)}function Zn(r,e,t,n,a){var i=_d(n-e,t-r);return{dx:Ql(i)*a,dy:jl(i)*a}}function Ed(r,e,t,n,a,i){typeof e.startArrow=="object"?qb(r,e,t,n,a,i,!0):e.startArrow?Ub(r,e,t,n,a,i,!0):r.set("startArrowShape",null)}function Id(r,e,t,n,a,i){typeof e.endArrow=="object"?qb(r,e,t,n,a,i,!1):e.endArrow?Ub(r,e,t,n,a,i,!1):r.set("startArrowShape",null)}var Tm={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Ua(r,e){var t=e.attr();for(var n in t){var a=t[n],i=Tm[n]?Tm[n]:n;i==="matrix"&&a?r.transform(a[0],a[1],a[3],a[4],a[6],a[7]):i==="lineDash"&&r.setLineDash?Y(a)&&r.setLineDash(a):(i==="strokeStyle"||i==="fillStyle"?a=FB(r,e,a):i==="globalAlpha"&&(a=a*r.globalAlpha),r[i]=a)}}function dv(r,e,t){for(var n=0;n<e.length;n++){var a=e[n];a.cfg.visible?a.draw(r,t):a.skipDraw()}}function YB(r,e,t){var n=r.get("refreshElements");M(n,function(a){if(a!==r)for(var i=a.cfg.parent;i&&i!==r&&!i.cfg.refresh;)i.cfg.refresh=!0,i=i.cfg.parent}),n[0]===r?Rd(e):pv(e,t)}function pv(r,e){for(var t=0;t<r.length;t++){var n=r[t];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&Rd(n.cfg.children);else if(n.cfg.refresh)n.isGroup()&&pv(n.cfg.children,e);else{var a=NB(n,e);n.cfg.refresh=a,a&&n.isGroup()&&pv(n.cfg.children,e)}}}function jb(r){for(var e=0;e<r.length;e++){var t=r[e];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&jb(t.cfg.children)}}function Rd(r,e){for(var t=0;t<r.length;t++){var n=r[t];n.cfg.visible&&(n.cfg.refresh=!0,n.isGroup()&&Rd(n.get("children")))}}function NB(r,e){var t=r.cfg.cacheCanvasBBox,n=r.cfg.isInView&&t&&ro(t,e);return n}function Qb(r,e,t,n){var a=t.path,i=t.startArrow,o=t.endArrow;if(a){var s=[0,0],l=[0,0],u={dx:0,dy:0};e.beginPath();for(var c=0;c<a.length;c++){var f=a[c],h=f[0];if(c===0&&i&&i.d){var v=r.getStartTangent();u=Zn(v[0][0],v[0][1],v[1][0],v[1][1],i.d)}else if(c===a.length-2&&a[c+1][0]==="Z"&&o&&o.d){var d=a[c+1];if(d[0]==="Z"){var v=r.getEndTangent();u=Zn(v[0][0],v[0][1],v[1][0],v[1][1],o.d)}}else if(c===a.length-1&&o&&o.d&&a[0]!=="Z"){var v=r.getEndTangent();u=Zn(v[0][0],v[0][1],v[1][0],v[1][1],o.d)}var p=u.dx,g=u.dy;switch(h){case"M":e.moveTo(f[1]-p,f[2]-g),l=[f[1],f[2]];break;case"L":e.lineTo(f[1]-p,f[2]-g);break;case"Q":e.quadraticCurveTo(f[1],f[2],f[3]-p,f[4]-g);break;case"C":e.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-p,f[6]-g);break;case"A":{var y=void 0;n?(y=n[c],y||(y=ql(s,f),n[c]=y)):y=ql(s,f);var w=y.cx,x=y.cy,m=y.rx,C=y.ry,S=y.startAngle,T=y.endAngle,A=y.xRotation,k=y.sweepFlag;if(e.ellipse)e.ellipse(w,x,m,C,A,S,T,1-k);else{var D=m>C?m:C,$=m>C?1:m/C,L=m>C?C/m:1;e.translate(w,x),e.rotate(A),e.scale($,L),e.arc(0,0,D,S,T,1-k),e.scale(1/$,1/L),e.rotate(-A),e.translate(-w,-x)}break}case"Z":e.closePath();break}if(h==="Z")s=l;else{var F=f.length;s=[f[F-2],f[F-1]]}}}}function Zb(r,e){var t=r.get("canvas");t&&(e==="remove"&&(r._cacheCanvasBBox=r.get("cacheCanvasBBox")),r.get("hasChanged")||(r.set("hasChanged",!0),r.cfg.parent&&r.cfg.parent.get("hasChanged")||(t.refreshElement(r,e,t),t.get("autoDraw")&&t.draw())))}function VB(r){var e;if(r.destroyed)e=r._cacheCanvasBBox;else{var t=r.get("cacheCanvasBBox"),n=t&&!!(t.width&&t.height),a=r.getCanvasBBox(),i=a&&!!(a.width&&a.height);n&&i?e=DB(t,a):n?e=t:i&&(e=a)}return e}function HB(r){if(!r.length)return null;var e=[],t=[],n=[],a=[];return M(r,function(i){var o=VB(i);o&&(e.push(o.minX),t.push(o.minY),n.push(o.maxX),a.push(o.maxY))}),{minX:$r(e),minY:$r(t),maxX:Cr(n),maxY:Cr(a)}}function zB(r,e){return!r||!e||!ro(r,e)?null:{minX:Math.max(r.minX,e.minX),minY:Math.max(r.minY,e.minY),maxX:Math.min(r.maxX,e.maxX),maxY:Math.min(r.maxY,e.maxY)}}var Ld=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onCanvasChange=function(t){Zb(this,t)},e.prototype.getShapeBase=function(){return eu},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,n){n&&(t.save(),Ua(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,n=[],a=[];M(t,function(h){var v=h.cfg.cacheCanvasBBox;v&&h.cfg.isInView&&(n.push(v.minX,v.maxX),a.push(v.minY,v.maxY))});var i=null;if(n.length){var o=$r(n),s=Cr(n),l=$r(a),u=Cr(a);i={minX:o,minY:l,x:o,y:l,maxX:s,maxY:u,width:s-o,height:u-l};var c=this.cfg.canvas;if(c){var f=c.getViewRange();this.set("isInView",ro(i,f))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",i)},e.prototype.draw=function(t,n){var a=this.cfg.children,i=n?this.cfg.refresh:!0;a.length&&i&&(t.save(),Ua(t,this),this._applyClip(t,this.getClip()),dv(t,a,n),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(du),Mr=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return eu},e.prototype.getGroupBase=function(){return Ld},e.prototype.onCanvasChange=function(t){Zb(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),n=this.getHitLineWidth(),a=gu(t),i=a(this),o=n/2,s=i.x-o,l=i.y-o,u=i.x+i.width+o,c=i.y+i.height+o;return{x:s,minX:s,y:l,minY:l,width:i.width+n,height:i.height+n,maxX:u,maxY:c}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,n){n&&(t.save(),Ua(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},e.prototype.draw=function(t,n){var a=this.cfg.clipShape;if(n){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var i=this.getCanvasBBox();if(!ro(n,i)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),Ua(t,this),this._applyClip(t,a),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var n=this.getCanvasBBox(),a=ro(n,t);this.set("isInView",a),a?this.set("cacheCanvasBBox",n):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var n=this.attrs,a=n.lineWidth,i=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isFill()&&(!B(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=i):this.fill(t)),this.isStroke()&&a>0&&(!B(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,n){var a=this.isStroke(),i=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,n,a,i,o)},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(pu),GB=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){var s=this.attr(),l=s.x,u=s.y,c=s.r,f=o/2,h=Gb(l,u,t,n);return i&&a?h<=c+f:i?h<=c:a?h>=c-f&&h<=c+f:!1},e.prototype.createPath=function(t){var n=this.attr(),a=n.x,i=n.y,o=n.r;t.beginPath(),t.arc(a,i,o,0,Math.PI*2,!1),t.closePath()},e}(Mr);function Yo(r,e,t,n){return r/(t*t)+e/(n*n)}var WB=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){var s=this.attr(),l=o/2,u=s.x,c=s.y,f=s.rx,h=s.ry,v=(t-u)*(t-u),d=(n-c)*(n-c);return i&&a?Yo(v,d,f+l,h+l)<=1:i?Yo(v,d,f,h)<=1:a?Yo(v,d,f-l,h-l)>=1&&Yo(v,d,f+l,h+l)<=1:!1},e.prototype.createPath=function(t){var n=this.attr(),a=n.x,i=n.y,o=n.rx,s=n.ry;if(t.beginPath(),t.ellipse)t.ellipse(a,i,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,c=o>s?s/o:1;t.save(),t.translate(a,i),t.scale(u,c),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},e}(Mr);function Pm(r){return r instanceof HTMLElement&&ct(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS"}var XB=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var n=this,a=this.attrs;if(ct(t)){var i=new Image;i.onload=function(){if(n.destroyed)return!1;n.attr("img",i),n.set("loading",!1),n._afterLoading();var o=n.get("callback");o&&o.call(n)},i.crossOrigin="Anonymous",i.src=t,this.set("loading",!0)}else t instanceof Image?(a.width||(a.width=t.width),a.height||(a.height=t.height)):Pm(t)&&(a.width||(a.width=Number(t.getAttribute("width"))),a.height||(a.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),t==="img"&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var n=this.attr(),a=n.x,i=n.y,o=n.width,s=n.height,l=n.sx,u=n.sy,c=n.swidth,f=n.sheight,h=n.img;(h instanceof Image||Pm(h))&&(!B(l)&&!B(u)&&!B(c)&&!B(f)?t.drawImage(h,l,u,c,f,a,i,o,s):t.drawImage(h,a,i,o,s))},e}(Mr);function yn(r,e,t,n,a,i,o){var s=Math.min(r,t),l=Math.max(r,t),u=Math.min(e,n),c=Math.max(e,n),f=a/2;return i>=s-f&&i<=l+f&&o>=u-f&&o<=c+f?Se.pointToLine(r,e,t,n,i,o)<=a/2:!1}var UB=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&Ed(this,t,i,o,n,a),l&&Id(this,t,n,a,i,o)},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){if(!a||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,c=s.x2,f=s.y2;return yn(l,u,c,f,o,t,n)},e.prototype.createPath=function(t){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,s=n.y2,l=n.startArrow,u=n.endArrow,c={dx:0,dy:0},f={dx:0,dy:0};l&&l.d&&(c=Zn(a,i,o,s,n.startArrow.d)),u&&u.d&&(f=Zn(a,i,o,s,n.endArrow.d)),t.beginPath(),t.moveTo(a+c.dx,i+c.dy),t.lineTo(o-f.dx,s-f.dy)},e.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(t),a&&a.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,a=t.y1,i=t.x2,o=t.y2;return Se.length(n,a,i,o)},e.prototype.getPoint=function(t){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,s=n.y2;return Se.pointAt(a,i,o,s,t)},e}(Mr),qB={circle:function(r,e,t){return[["M",r-t,e],["A",t,t,0,1,0,r+t,e],["A",t,t,0,1,0,r-t,e]]},square:function(r,e,t){return[["M",r-t,e-t],["L",r+t,e-t],["L",r+t,e+t],["L",r-t,e+t],["Z"]]},diamond:function(r,e,t){return[["M",r-t,e],["L",r,e-t],["L",r+t,e],["L",r,e+t],["Z"]]},triangle:function(r,e,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",r-t,e+n],["L",r,e-n],["L",r+t,e+n],["Z"]]},"triangle-down":function(r,e,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",r-t,e-n],["L",r+t,e-n],["L",r,e+n],["Z"]]}},jB=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return B(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t=this.attr(),n=t.x,a=t.y,i=t.symbol||"circle",o=this._getR(t),s,l;if(J(i))s=i,l=s(n,a,o),l=aw(l);else{if(s=e.Symbols[i],!s)return console.warn(i+" marker is not supported."),null;l=s(n,a,o)}return l},e.prototype.createPath=function(t){var n=this._getPath(),a=this.get("paramsCache");Qb(this,t,{path:n},a)},e.Symbols=qB,e}(Mr);function Kb(r,e,t){var n=mu();return r.createPath(n),n.isPointInPath(e,t)}var QB=1e-6;function Pc(r){return Math.abs(r)<QB?0:r<0?-1:1}function ZB(r,e,t){return(t[0]-r[0])*(e[1]-r[1])===(e[0]-r[0])*(t[1]-r[1])&&Math.min(r[0],e[0])<=t[0]&&t[0]<=Math.max(r[0],e[0])&&Math.min(r[1],e[1])<=t[1]&&t[1]<=Math.max(r[1],e[1])}function Jb(r,e,t){var n=!1,a=r.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=r[i],s=r[(i+1)%a];if(ZB(o,s,[e,t]))return!0;Pc(o[1]-t)>0!=Pc(s[1]-t)>0&&Pc(e-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function Oi(r,e,t,n,a,i,o,s){var l=(Math.atan2(s-e,o-r)+Math.PI*2)%(Math.PI*2);if(l<n||l>a)return!1;var u={x:r+t*Math.cos(l),y:e+t*Math.sin(l)};return Gb(u.x,u.y,o,s)<=i/2}var KB=oe;function JB(r){for(var e=!1,t=r.length,n=0;n<t;n++){var a=r[n],i=a[0];if(i==="C"||i==="A"||i==="Q"){e=!0;break}}return e}function tF(r,e,t,n,a){for(var i=!1,o=e/2,s=0;s<r.length;s++){var l=r[s],u=l.currentPoint,c=l.params,f=l.prePoint,h=l.box;if(!(h&&!Gn(h.x-o,h.y-o,h.width+e,h.height+e,t,n))){switch(l.command){case"L":case"Z":i=yn(f[0],f[1],u[0],u[1],e,t,n);break;case"Q":var v=Jx.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],t,n);i=v<=e/2;break;case"C":var d=Ai.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],t,n,a);i=d<=e/2;break;case"A":var p=l.arcParams,g=p.cx,y=p.cy,w=p.rx,x=p.ry,m=p.startAngle,C=p.endAngle,S=p.xRotation,T=[t,n,1],A=w>x?w:x,k=w>x?1:w/x,D=w>x?x/w:1,$=KB(null,[["t",-g,-y],["r",-S],["s",1/k,1/D]]);Hi(T,T,$),i=Oi(0,0,A,m,C,e,T[0],T[1]);break}if(i)break}}return i}function eF(r){for(var e=r.length,t=[],n=[],a=[],i=0;i<e;i++){var o=r[i],s=o[0];s==="M"?(a.length&&(n.push(a),a=[]),a.push([o[1],o[2]])):s==="Z"?a.length&&(t.push(a),a=[]):a.push([o[1],o[2]])}return a.length>0&&n.push(a),{polygons:t,polylines:n}}const No=b({hasArc:JB,extractPolygons:eF,isPointInStroke:tF},Kv);function Om(r,e,t){for(var n=!1,a=0;a<r.length;a++){var i=r[a];if(n=Jb(i,e,t),n)break}return n}var Bd=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),t==="path"&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=aw(t);var n=No.hasArc(t);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=iw(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),n=t.startArrow,a=t.endArrow;if(n){var i=this.getStartTangent();Ed(this,t,i[0][0],i[0][1],i[1][0],i[1][1])}if(a){var i=this.getEndTangent();Id(this,t,i[0][0],i[0][1],i[1][0],i[1][1])}},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(a){var c=this.getTotalLength();u=No.isPointInStroke(s,o,t,n,c)}if(!u&&i)if(l)u=Kb(this,t,n);else{var f=this.attr("path"),h=No.extractPolygons(f);u=Om(h.polygons,t,n)||Om(h.polylines,t,n)}return u},e.prototype.createPath=function(t){var n=this.attr(),a=this.get("paramsCache");Qb(this,t,n,a)},e.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(t),a&&a.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return B(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var a,i,o=this.get("curve");if(!n||n.length===0)return o?{x:o[0][1],y:o[0][2]}:null;M(n,function(c,f){t>=c[0]&&t<=c[1]&&(a=(t-c[0])/(c[1]-c[0]),i=f)});var s=o[i];if(B(s)||B(i))return null;var l=s.length,u=o[i+1];return Ai.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],a)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",No.pathToCurve(t))},e.prototype._setTcache=function(){var t=0,n=0,a=[],i,o,s,l,u=this.get("curve");if(u){if(M(u,function(c,f){s=u[f+1],l=c.length,s&&(t+=Ai.length(c[l-2],c[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}M(u,function(c,f){s=u[f+1],l=c.length,s&&(i=[],i[0]=n/t,o=Ai.length(c[l-2],c[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),n+=o||0,i[1]=n/t,a.push(i))}),this.set("tCache",a)}},e.prototype.getStartTangent=function(){var t=this.getSegments(),n;if(t.length>1){var a=t[0].currentPoint,i=t[1].currentPoint,o=t[1].startTangent;n=[],o?(n.push([a[0]-o[0],a[1]-o[1]]),n.push([a[0],a[1]])):(n.push([i[0],i[1]]),n.push([a[0],a[1]]))}return n},e.prototype.getEndTangent=function(){var t=this.getSegments(),n=t.length,a;if(n>1){var i=t[n-2].currentPoint,o=t[n-1].currentPoint,s=t[n-1].endTangent;a=[],s?(a.push([o[0]-s[0],o[1]-s[1]]),a.push([o[0],o[1]])):(a.push([i[0],i[1]]),a.push([o[0],o[1]]))}return a},e}(Mr);function tC(r,e,t,n,a){var i=r.length;if(i<2)return!1;for(var o=0;o<i-1;o++){var s=r[o][0],l=r[o][1],u=r[o+1][0],c=r[o+1][1];if(yn(s,l,u,c,e,t,n))return!0}if(a){var f=r[0],h=r[i-1];if(yn(f[0],f[1],h[0],h[1],e,t,n))return!0}return!1}var rF=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isInStrokeOrPath=function(t,n,a,i,o){var s=this.attr().points,l=!1;return a&&(l=tC(s,o,t,n,!0)),!l&&i&&(l=Jb(s,t,n)),l},e.prototype.createPath=function(t){var n=this.attr(),a=n.points;if(!(a.length<2)){t.beginPath();for(var i=0;i<a.length;i++){var o=a[i];i===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},e}(Mr),nF=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),n=this.attrs,a=n.points,i=n.startArrow,o=n.endArrow,s=a.length,l=a[0][0],u=a[0][1],c=a[s-1][0],f=a[s-1][1];i&&Ed(this,t,a[1][0],a[1][1],l,u),o&&Id(this,t,a[s-2][0],a[s-2][1],c,f)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){if(!a||!o)return!1;var s=this.attr().points;return tC(s,o,t,n,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var n=this.attr(),a=n.points,i=n.startArrow,o=n.endArrow,s=a.length;if(!(a.length<2)){var l=a[0][0],u=a[0][1],c=a[s-1][0],f=a[s-1][1];if(i&&i.d){var h=Zn(l,u,a[1][0],a[1][1],i.d);l+=h.dx,u+=h.dy}if(o&&o.d){var h=Zn(a[s-2][0],a[s-2][1],c,f,o.d);c-=h.dx,f-=h.dy}t.beginPath(),t.moveTo(l,u);for(var v=0;v<s-1;v++){var d=a[v];t.lineTo(d[0],d[1])}t.lineTo(c,f)}},e.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(t),a&&a.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return B(n)?(this.set("totalLength",rw.length(t)),this.get("totalLength")):n},e.prototype.getPoint=function(t){var n=this.attr().points,a=this.get("tCache");a||(this._setTcache(),a=this.get("tCache"));var i,o;return M(a,function(s,l){t>=s[0]&&t<=s[1]&&(i=(t-s[0])/(s[1]-s[0]),o=l)}),Se.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],i)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var a=0,i=[],o,s;M(t,function(l,u){t[u+1]&&(o=[],o[0]=a/n,s=Se.length(l[0],l[1],t[u+1][0],t[u+1][1]),a+=s,o[1]=a/n,i.push(o))}),this.set("tCache",i)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},e.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,a=[];return a.push([t[n-1][0],t[n-1][1]]),a.push([t[n][0],t[n][1]]),a},e}(Mr);function aF(r,e,t,n,a,i,o){var s=a/2;return Gn(r-s,e-s,t,a,i,o)||Gn(r+t-s,e-s,a,n,i,o)||Gn(r+s,e+n-s,t,a,i,o)||Gn(r-s,e+s,a,n,i,o)}function iF(r,e,t,n,a,i,o,s){return yn(r+a,e,r+t-a,e,i,o,s)||yn(r+t,e+a,r+t,e+n-a,i,o,s)||yn(r+t-a,e+n,r+a,e+n,i,o,s)||yn(r,e+n-a,r,e+a,i,o,s)||Oi(r+t-a,e+a,a,1.5*Math.PI,2*Math.PI,i,o,s)||Oi(r+t-a,e+n-a,a,0,.5*Math.PI,i,o,s)||Oi(r+a,e+n-a,a,.5*Math.PI,Math.PI,i,o,s)||Oi(r+a,e+a,a,Math.PI,1.5*Math.PI,i,o,s)}var oF=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,n,a,i,o){var s=this.attr(),l=s.x,u=s.y,c=s.width,f=s.height,h=s.radius;if(h){var d=!1;return a&&(d=iF(l,u,c,f,h,o,t,n)),!d&&i&&(d=Kb(this,t,n)),d}else{var v=o/2;if(i&&a)return Gn(l-v,u-v,c+v,f+v,t,n);if(i)return Gn(l,u,c,f,t,n);if(a)return aF(l,u,c,f,o,t,n)}},e.prototype.createPath=function(t){var n=this.attr(),a=n.x,i=n.y,o=n.width,s=n.height,l=n.radius;if(t.beginPath(),l===0)t.rect(a,i,o,s);else{var u=$B(l),c=u[0],f=u[1],h=u[2],v=u[3];t.moveTo(a+c,i),t.lineTo(a+o-f,i),f!==0&&t.arc(a+o-f,i+f,f,-Math.PI/2,0),t.lineTo(a+o,i+s-h),h!==0&&t.arc(a+o-h,i+s-h,h,0,Math.PI/2),t.lineTo(a+v,i+s),v!==0&&t.arc(a+v,i+s-v,v,Math.PI/2,Math.PI),t.lineTo(a,i+c),c!==0&&t.arc(a+c,i+c,c,Math.PI,Math.PI*1.5),t.closePath()}},e}(Mr),sF=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=wu(t)},e.prototype._setText=function(t){var n=null;ct(t)&&t.indexOf(`
`)!==-1&&(n=t.split(`
`)),this.set("textArr",n)},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,n=t.lineHeight,a=t.fontSize*1;return n?n-a:a*.14},e.prototype._drawTextArr=function(t,n,a){var i=this.attrs,o=i.textBaseline,s=i.x,l=i.y,u=i.fontSize*1,c=this._getSpaceingY(),f=xu(i.text,i.fontSize,i.lineHeight),h;M(n,function(v,d){h=l+d*(c+u)-f+u,o==="middle"&&(h+=f-u-(f-u)/2),o==="top"&&(h+=f-u),B(v)||(a?t.fillText(v,s,h):t.strokeText(v,s,h))})},e.prototype._drawText=function(t,n){var a=this.attr(),i=a.x,o=a.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,n);else{var l=a.text;B(l)||(n?t.fillText(l,i,o):t.strokeText(l,i,o))}},e.prototype.strokeAndFill=function(t){var n=this.attrs,a=n.lineWidth,i=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isStroke()&&a>0&&(!B(o)&&o!==1&&(t.globalAlpha=i),this.stroke(t)),this.isFill()&&(!B(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=i):this.fill(t)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(Mr);function lF(r,e){if(e){var t=fu(e);return Ur(t,r)}return r}function eC(r,e,t){var n=r.getTotalMatrix();if(n){var a=lF([e,t,1],n),i=a[0],o=a[1];return[i,o]}return[e,t]}function km(r,e,t){if(r.isCanvas&&r.isCanvas())return!0;if(!Vi(r)||r.cfg.isInView===!1)return!1;if(r.cfg.clipShape){var n=eC(r,e,t),a=n[0],i=n[1];if(r.isClipped(a,i))return!1}var o=r.cfg.cacheCanvasBBox||r.getCanvasBBox();return e>=o.minX&&e<=o.maxX&&t>=o.minY&&t<=o.maxY}function rC(r,e,t){if(!km(r,e,t))return null;for(var n=null,a=r.getChildren(),i=a.length,o=i-1;o>=0;o--){var s=a[o];if(s.isGroup())n=rC(s,e,t);else if(km(s,e,t)){var l=s,u=eC(s,e,t),c=u[0],f=u[1];l.isInShape(c,f)&&(n=s)}if(n)break}return n}var uF=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},e.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return eu},e.prototype.getGroupBase=function(){return Ld},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||AB();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),n=t.getContext("2d");return this.set("context",n),t},e.prototype.setDOMSize=function(t,n){r.prototype.setDOMSize.call(this,t,n);var a=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*t,i.height=o*n,o>1&&a.scale(o,o)},e.prototype.clear=function(){r.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(t,n){var a;return this.get("quickHit")?a=rC(this,t,n):a=r.prototype.getShape.call(this,t,n,null),a},e.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),n=this.getViewRange(),a;if(t.length&&t[0]===this)a=n;else if(a=HB(t),a){a.minX=Math.floor(a.minX),a.minY=Math.floor(a.minY),a.maxX=Math.ceil(a.maxX),a.maxY=Math.ceil(a.maxY),a.maxY+=1;var i=this.get("clipView");i&&(a=zB(a,n))}return a},e.prototype.refreshElement=function(t){var n=this.get("refreshElements");n.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(KA(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),n=this.get("el"),a=this.getChildren();t.clearRect(0,0,n.width,n.height),Ua(t,this),dv(t,a),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),n=this.get("refreshElements"),a=this.getChildren(),i=this._getRefreshRegion();i?(t.clearRect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.save(),t.beginPath(),t.rect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.clip(),Ua(t,this),YB(this,a,i),dv(t,a,i),t.restore()):n.length&&jb(n),M(n,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,n=this.get("drawFrame");n||(n=ZA(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",n))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(vu),cF="0.5.12";const fF=Object.freeze(Object.defineProperty({__proto__:null,AbstractCanvas:vu,AbstractGroup:du,AbstractShape:pu,Base:uu,Canvas:uF,Event:so,Group:Ld,PathUtil:Kv,Shape:eu,assembleFont:wu,getArcParams:ql,getBBoxMethod:gu,getOffScreenContext:mu,getTextHeight:xu,invert:fu,isAllowCapture:Vi,multiplyVec2:Ur,registerBBox:vr,registerEasing:Ux,version:cF},Symbol.toStringTag,{value:"Module"}));var gv={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},bt={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function fr(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function nC(r){var e=gv[r.type],t=r.getParent();if(!e)throw new Error("the type "+r.type+" is not supported by svg");var n=fr(e);if(r.get("id")&&(n.id=r.get("id")),r.set("el",n),r.set("attrs",{}),t){var a=t.get("el");a||(a=t.createDom(),t.set("el",a)),a.appendChild(n)}return n}function aC(r,e){var t=r.get("el"),n=a2(t.children).sort(e),a=document.createDocumentFragment();n.forEach(function(i){a.appendChild(i)}),t.appendChild(a)}function hF(r,e){var t=r.parentNode,n=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),a=n[e],i=n.indexOf(r);if(a){if(i>e)t.insertBefore(r,a);else if(i<e){var o=n[e+1];o?t.insertBefore(r,o):t.appendChild(r)}}else t.appendChild(r)}function vF(r,e){var t=r.cfg.el,n=r.attr(),a={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(!a.dx&&!a.dy&&!a.blur&&!a.color)t.removeAttribute("filter");else{var i=e.find("filter",a);i||(i=e.addShadow(a)),t.setAttribute("filter","url(#"+i+")")}}function vo(r){var e=r.attr().matrix;if(e){for(var t=r.cfg.el,n=[],a=0;a<9;a+=3)n.push(e[a]+","+e[a+1]);n=n.join(","),n.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",e)}}function no(r,e){var t=r.getClip(),n=r.get("el");if(!t)n.removeAttribute("clip-path");else if(t&&!n.hasAttribute("clip-path")){nC(t),t.createPath(e);var a=e.addClip(t);n.setAttribute("clip-path","url(#"+a+")")}}function iC(r,e){e.forEach(function(t){t.draw(r)})}function oC(r,e){var t=r.get("canvas");if(t&&t.get("autoDraw")){var n=t.get("context"),a=r.getParent(),i=a?a.getChildren():[t],o=r.get("el");if(e==="remove"){var s=r.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(e==="show")o.setAttribute("visibility","visible");else if(e==="hide")o.setAttribute("visibility","hidden");else if(e==="zIndex")hF(o,i.indexOf(r));else if(e==="sort"){var c=r.get("children");c&&c.length&&aC(r,function(f,h){return c.indexOf(f)-c.indexOf(h)?1:0})}else e==="clear"?o&&(o.innerHTML=""):e==="matrix"?vo(r):e==="clip"?no(r,n):e==="attr"||e==="add"&&r.draw(n)}}var Fd=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=fr("g");this.set("el",t);var n=this.getParent();if(n){var a=n.get("el");a||(a=n.createDom(),n.set("el",a)),a.appendChild(t)}return t},e.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var a=n.get("context");this.createPath(a,t)}},e.prototype.onCanvasChange=function(t){oC(this,t)},e.prototype.getShapeBase=function(){return ru},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var n=this.getChildren(),a=this.get("el");this.get("destroyed")?a&&a.parentNode.removeChild(a):(a||this.createDom(),no(this,t),this.createPath(t),n.length&&iC(t,n))},e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");M(n||a,function(o,s){bt[s]&&i.setAttribute(bt[s],o)}),vo(this)},e}(du),dr=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var a=n.get("context");this.draw(a,t)}},e.prototype.getShapeBase=function(){return ru},e.prototype.getGroupBase=function(){return Fd},e.prototype.onCanvasChange=function(t){oC(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),n=null;if(t)n=t.getBBox();else{var a=gu(this.get("type"));a&&(n=a(this))}if(n){var i=n.x,o=n.y,s=n.width,l=n.height,u=this.getHitLineWidth(),c=u/2,f=i-c,h=o-c,v=i+s+c,d=o+l+c;return{x:f,y:h,minX:f,minY:h,maxX:v,maxY:d,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),n=t.fill,a=t.fillStyle;return(n||a||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),n=t.stroke,a=t.strokeStyle;return(n||a)&&this.canStroke},e.prototype.draw=function(t,n){var a=this.get("el");this.get("destroyed")?a&&a.parentNode.removeChild(a):(a||nC(this),no(this,t),this.createPath(t,n),this.shadow(t,n),this.strokeAndFill(t,n),this.transform(n))},e.prototype.createPath=function(t,n){},e.prototype.strokeAndFill=function(t,n){var a=n||this.attr(),i=a.fill,o=a.fillStyle,s=a.stroke,l=a.strokeStyle,u=a.fillOpacity,c=a.strokeOpacity,f=a.lineWidth,h=this.get("el");this.canFill&&(n?"fill"in a?this._setColor(t,"fill",i):"fillStyle"in a&&this._setColor(t,"fill",o):this._setColor(t,"fill",i||o),u&&h.setAttribute(bt.fillOpacity,u)),this.canStroke&&f>0&&(n?"stroke"in a?this._setColor(t,"stroke",s):"strokeStyle"in a&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),c&&h.setAttribute(bt.strokeOpacity,c),f&&h.setAttribute(bt.lineWidth,f))},e.prototype._setColor=function(t,n,a){var i=this.get("el");if(!a){i.setAttribute(bt[n],"none");return}if(a=a.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(a)){var o=t.find("gradient",a);o||(o=t.addGradient(a)),i.setAttribute(bt[n],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(a)){var o=t.find("pattern",a);o||(o=t.addPattern(a)),i.setAttribute(bt[n],"url(#"+o+")")}else i.setAttribute(bt[n],a)},e.prototype.shadow=function(t,n){var a=this.attr(),i=n||a,o=i.shadowOffsetX,s=i.shadowOffsetY,l=i.shadowBlur,u=i.shadowColor;(o||s||l||u)&&vF(this,t)},e.prototype.transform=function(t){var n=this.attr(),a=(t||n).matrix;a&&vo(this)},e.prototype.isInShape=function(t,n){return this.isPointInPath(t,n)},e.prototype.isPointInPath=function(t,n){var a=this.get("el"),i=this.get("canvas"),o=i.get("el").getBoundingClientRect(),s=t+o.left,l=n+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(a))},e.prototype.getHitLineWidth=function(){var t=this.attrs,n=t.lineWidth,a=t.lineAppendWidth;return this.isStroke()?n+a:0},e}(pu),dF=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{x:0,y:0,r:0})},e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");M(n||a,function(o,s){s==="x"||s==="y"?i.setAttribute("c"+s,o):bt[s]&&i.setAttribute(bt[s],o)})},e}(dr),pF=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");if(M(n||a,function(u,c){bt[c]&&i.setAttribute(bt[c],u)}),typeof a.html=="function"){var o=a.html.call(this,a);if(o instanceof Element||o instanceof HTMLDocument){for(var s=i.childNodes,l=s.length-1;l>=0;l--)i.removeChild(s[l]);i.appendChild(o)}else i.innerHTML=o}else i.innerHTML=a.html},e}(dr),gF=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");M(n||a,function(o,s){s==="x"||s==="y"?i.setAttribute("c"+s,o):bt[s]&&i.setAttribute(bt[s],o)})},e}(dr),yF=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el");M(n||i,function(s,l){l==="img"?a._setImage(i.img):bt[l]&&o.setAttribute(bt[l],s)})},e.prototype.setAttr=function(t,n){this.attrs[t]=n,t==="img"&&this._setImage(n)},e.prototype._setImage=function(t){var n=this.attr(),a=this.get("el");if(ct(t))a.setAttribute("href",t);else if(t instanceof window.Image)n.width||(a.setAttribute("width",t.width),this.attr("width",t.width)),n.height||(a.setAttribute("height",t.height),this.attr("height",t.height)),a.setAttribute("href",t.src);else if(t instanceof HTMLElement&&ct(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")a.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var i=document.createElement("canvas");i.setAttribute("width",""+t.width),i.setAttribute("height",""+t.height),i.getContext("2d").putImageData(t,0,0),n.width||(a.setAttribute("width",""+t.width),this.attr("width",t.width)),n.height||(a.setAttribute("height",""+t.height),this.attr("height",t.height)),a.setAttribute("href",i.toDataURL())}},e}(dr),mF=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");M(n||a,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=Vt(o)?t.addArrow(a,bt[s]):t.getDefaultArrow(a,bt[s]);i.setAttribute(bt[s],"url(#"+l+")")}else i.removeAttribute(bt[s]);else bt[s]&&i.setAttribute(bt[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,a=t.y1,i=t.x2,o=t.y2;return Se.length(n,a,i,o)},e.prototype.getPoint=function(t){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,s=n.y2;return Se.pointAt(a,i,o,s,t)},e}(dr),Vo={circle:function(r,e,t){return[["M",r,e],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(r,e,t){return[["M",r-t,e-t],["L",r+t,e-t],["L",r+t,e+t],["L",r-t,e+t],["Z"]]},diamond:function(r,e,t){return[["M",r-t,e],["L",r,e-t],["L",r+t,e],["L",r,e+t],["Z"]]},triangle:function(r,e,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",r-t,e+n],["L",r,e-n],["L",r+t,e+n],["z"]]},triangleDown:function(r,e,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",r-t,e-n],["L",r+t,e-n],["L",r,e+n],["Z"]]}};const Am={get:function(r){return Vo[r]},register:function(r,e){Vo[r]=e},remove:function(r){delete Vo[r]},getAll:function(){return Vo}};var xF=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t){var n=this.get("el");n.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return Y(t)?t.map(function(n){return n.join(" ")}).join(""):t},e.prototype._getPath=function(){var t=this.attr(),n=t.x,a=t.y,i=t.r||t.radius,o=t.symbol||"circle",s;return J(o)?s=o:s=Am.get(o),s?s(n,a,i):(console.warn(s+" symbol is not exist."),null)},e.symbolsFactory=Am,e}(dr),wF=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el");M(n||i,function(s,l){if(l==="path"&&Y(s))o.setAttribute("d",a._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=Vt(s)?t.addArrow(i,bt[l]):t.getDefaultArrow(i,bt[l]);o.setAttribute(bt[l],"url(#"+u+")")}else o.removeAttribute(bt[l]);else bt[l]&&o.setAttribute(bt[l],s)})},e.prototype._formatPath=function(t){var n=t.map(function(a){return a.join(" ")}).join("");return~n.indexOf("NaN")?"":n},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var n=this.get("el"),a=this.getTotalLength();if(a===0)return null;var i=n?n.getPointAtLength(t*a):null;return i?{x:i.x,y:i.y}:null},e}(dr),bF=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");M(n||a,function(o,s){s==="points"&&Y(o)&&o.length>=2?i.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):bt[s]&&i.setAttribute(bt[s],o)})},e}(dr),CF=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(t,n,a){r.prototype.onAttrChange.call(this,t,n,a),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");M(n||a,function(o,s){s==="points"&&Y(o)&&o.length>=2?i.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):bt[s]&&i.setAttribute(bt[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return B(n)?(this.set("totalLength",rw.length(t)),this.get("totalLength")):n},e.prototype.getPoint=function(t){var n=this.attr().points,a=this.get("tCache");a||(this._setTcache(),a=this.get("tCache"));var i,o;return M(a,function(s,l){t>=s[0]&&t<=s[1]&&(i=(t-s[0])/(s[1]-s[0]),o=l)}),Se.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],i)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var a=0,i=[],o,s;M(t,function(l,u){t[u+1]&&(o=[],o[0]=a/n,s=Se.length(l[0],l[1],t[u+1][0],t[u+1][1]),a+=s,o[1]=a/n,i.push(o))}),this.set("tCache",i)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},e.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,a=[];return a.push([t[n-1][0],t[n-1][1]]),a.push([t[n][0],t[n][1]]),a},e}(dr);function SF(r){var e=0,t=0,n=0,a=0;return Y(r)?r.length===1?e=t=n=a=r[0]:r.length===2?(e=n=r[0],t=a=r[1]):r.length===3?(e=r[0],t=a=r[1],n=r[2]):(e=r[0],t=r[1],n=r[2],a=r[3]):e=t=n=a=r,{r1:e,r2:t,r3:n,r4:a}}var MF=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];M(n||i,function(u,c){l.indexOf(c)!==-1&&!s?(o.setAttribute("d",a._assembleRect(i)),s=!0):l.indexOf(c)===-1&&bt[c]&&o.setAttribute(bt[c],u)})},e.prototype._assembleRect=function(t){var n=t.x,a=t.y,i=t.width,o=t.height,s=t.radius;if(!s)return"M "+n+","+a+" l "+i+",0 l 0,"+o+" l"+-i+" 0 z";var l=SF(s);Y(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(n+l.r1)+","+a],["l "+(i-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-i)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},e}(dr),Dm=.3,TF={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},PF={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},OF={left:"left",start:"left",center:"middle",right:"end",end:"end"},kF=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return b(b({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el");this._setFont(),M(n||i,function(s,l){l==="text"?a._setText(""+s):l==="matrix"&&s?vo(a):bt[l]&&o.setAttribute(bt[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),n=this.attr(),a=n.textBaseline,i=n.textAlign,o=Px();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",PF[a]||"alphabetic"):t.setAttribute("alignment-baseline",TF[a]||"baseline"),t.setAttribute("text-anchor",OF[i]||"left")},e.prototype._setText=function(t){var n=this.get("el"),a=this.attr(),i=a.x,o=a.textBaseline,s=o===void 0?"bottom":o;if(!t)n.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),u=l.length-1,c="";M(l,function(f,h){h===0?s==="alphabetic"?c+='<tspan x="'+i+'" dy="'+-u+'em">'+f+"</tspan>":s==="top"?c+='<tspan x="'+i+'" dy="0.9em">'+f+"</tspan>":s==="middle"?c+='<tspan x="'+i+'" dy="'+-(u-1)/2+'em">'+f+"</tspan>":s==="bottom"?c+='<tspan x="'+i+'" dy="-'+(u+Dm)+'em">'+f+"</tspan>":s==="hanging"&&(c+='<tspan x="'+i+'" dy="'+(-(u-1)-Dm)+'em">'+f+"</tspan>"):c+='<tspan x="'+i+'" dy="1em">'+f+"</tspan>"}),n.innerHTML=c}else n.innerHTML=t},e}(dr),AF=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,DF=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,_F=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function sC(r){var e=r.match(_F);if(!e)return"";var t="";return e.sort(function(n,a){return n=n.split(":"),a=a.split(":"),Number(n[0])-Number(a[0])}),M(e,function(n){n=n.split(":"),t+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),t}function EF(r,e){var t=AF.exec(r),n=Xv(Uv(parseFloat(t[1])),Math.PI*2),a=t[2],i,o;n>=0&&n<.5*Math.PI?(i={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(i={x:1,y:0},o={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(i={x:1,y:1},o={x:0,y:0}):(i={x:0,y:1},o={x:1,y:0});var s=Math.tan(n),l=s*s,u=(o.x-i.x+s*(o.y-i.y))/(l+1)+i.x,c=s*(o.x-i.x+s*(o.y-i.y))/(l+1)+i.y;e.setAttribute("x1",i.x),e.setAttribute("y1",i.y),e.setAttribute("x2",u),e.setAttribute("y2",c),e.innerHTML=sC(a)}function IF(r,e){var t=DF.exec(r),n=parseFloat(t[1]),a=parseFloat(t[2]),i=parseFloat(t[3]),o=t[4];e.setAttribute("cx",n),e.setAttribute("cy",a),e.setAttribute("r",i),e.innerHTML=sC(o)}var RF=function(){function r(e){this.cfg={};var t=null,n=kn("gradient_");return e.toLowerCase()[0]==="l"?(t=fr("linearGradient"),EF(e,t)):(t=fr("radialGradient"),IF(e,t)),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=e,this}return r.prototype.match=function(e,t){return this.cfg===t},r}(),LF={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},BF={x:"-40%",y:"-40%",width:"200%",height:"200%"},FF=function(){function r(e){this.type="filter",this.cfg={},this.type="filter";var t=fr("filter");return M(BF,function(n,a){t.setAttribute(a,n)}),this.el=t,this.id=kn("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return r.prototype.match=function(e,t){if(this.type!==e)return!1;var n=!0,a=this.cfg;return M(Object.keys(a),function(i){if(a[i]!==t[i])return n=!1,!1}),n},r.prototype.update=function(e,t){var n=this.cfg;return n[LF[e]]=t,this._parseShadow(n,this.el),this},r.prototype._parseShadow=function(e,t){var n=`<feDropShadow
      dx="`+(e.dx||0)+`"
      dy="`+(e.dy||0)+`"
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;t.innerHTML=n},r}(),_m=function(){function r(e,t){this.cfg={};var n=fr("marker"),a=kn("marker_");n.setAttribute("id",a);var i=fr("path");i.setAttribute("stroke",e.stroke||"none"),i.setAttribute("fill",e.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=a;var o=e[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",o===!0?this._setDefaultPath(t,i):(this.cfg=o,this._setMarker(e.lineWidth,i)),this}return r.prototype.match=function(){return!1},r.prototype._setDefaultPath=function(e,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},r.prototype._setMarker=function(e,t){var n=this.el,a=this.cfg.path,i=this.cfg.d;Y(a)&&(a=a.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",a),n.appendChild(t),i&&n.setAttribute("refX",""+i/e)},r.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},r}(),$F=function(){function r(e){this.type="clip",this.cfg={};var t=fr("clipPath");this.el=t,this.id=kn("clip_"),t.id=this.id;var n=e.cfg.el;return t.appendChild(n),this.cfg=e,this}return r.prototype.match=function(){return!1},r.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},r}(),YF=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,NF=function(){function r(e){this.cfg={};var t=fr("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=fr("image");t.appendChild(n);var a=kn("pattern_");t.id=a,this.el=t,this.id=a,this.cfg=e;var i=YF.exec(e),o=i[2];n.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return r.prototype.match=function(e,t){return this.cfg===t},r}(),VF=function(){function r(e){var t=fr("defs"),n=kn("defs_");t.id=n,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return r.prototype.find=function(e,t){for(var n=this.children,a=null,i=0;i<n.length;i++)if(n[i].match(e,t)){a=n[i].id;break}return a},r.prototype.findById=function(e){for(var t=this.children,n=null,a=0;a<t.length;a++)if(t[a].id===e){n=t[a];break}return n},r.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},r.prototype.getDefaultArrow=function(e,t){var n=e.stroke||e.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var a=new _m(e,t);return this.defaultArrow[n]=a,this.el.appendChild(a.el),this.add(a),a.id},r.prototype.addGradient=function(e){var t=new RF(e);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addArrow=function(e,t){var n=new _m(e,t);return this.el.appendChild(n.el),this.add(n),n.id},r.prototype.addShadow=function(e){var t=new FF(e);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addPattern=function(e){var t=new NF(e);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addClip=function(e){var t=new $F(e);return this.el.appendChild(t.el),this.add(t),t.id},r}(),HF=function(r){_(e,r);function e(t){return r.call(this,b(b({},t),{autoDraw:!0,renderer:"svg"}))||this}return e.prototype.getShapeBase=function(){return ru},e.prototype.getGroupBase=function(){return Fd},e.prototype.getShape=function(t,n,a){var i=a.target||a.srcElement;if(!gv[i.tagName]){for(var o=i.parentNode;o&&!gv[o.tagName];)o=o.parentNode;i=o}return this.find(function(s){return s.get("el")===i})},e.prototype.createDom=function(){var t=fr("svg"),n=new VF(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",n),t},e.prototype.onCanvasChange=function(t){var n=this.get("context"),a=this.get("el");if(t==="sort"){var i=this.get("children");i&&i.length&&aC(this,function(s,l){return i.indexOf(s)-i.indexOf(l)?1:0})}else if(t==="clear"){if(a){a.innerHTML="";var o=n.el;o.innerHTML="",a.appendChild(o)}}else t==="matrix"?vo(this):t==="clip"?no(this,n):t==="changeSize"&&(a.setAttribute("width",""+this.get("width")),a.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),n=this.getChildren();no(this,t),n.length&&iC(t,n)},e}(vu),zF="0.5.6";const GF=Object.freeze(Object.defineProperty({__proto__:null,AbstractCanvas:vu,AbstractGroup:du,AbstractShape:pu,Base:uu,Canvas:HF,Event:so,Group:Fd,PathUtil:Kv,Shape:ru,assembleFont:wu,getBBoxMethod:gu,getOffScreenContext:mu,getTextHeight:xu,invert:fu,isAllowCapture:Vi,multiplyVec2:Ur,registerBBox:vr,registerEasing:Ux,version:zF},Symbol.toStringTag,{value:"Module"}));var $d=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;n.type="path",n.shapeType="line";var a=t.connectNulls,i=a===void 0?!1:a,o=t.showSinglePoint,s=o===void 0?!0:o;return n.connectNulls=i,n.showSinglePoint=s,n}return e.prototype.updateElements=function(t,n){var a,i,o,s,l,u;n===void 0&&(n=!1);for(var c=new Map,f=new Map,h=[],v=0,d=0;d<t.length;d++){var p=t[d],g=this.getElementId(p);h.push(g),c.set(g,p),f.set(g,v),v++}this.elements=new Array(v);var y=Rb(this.lastElementsMap,h),w=y.added,x=y.updated,m=y.removed;try{for(var C=St(w),S=C.next();!S.done;S=C.next()){var g=S.value,p=c.get(g),T=this.getShapeFactory(),A=this.getShapeInfo(p),d=f.get(g),k=new Db({shapeFactory:T,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:d});k.geometry=this,k.animate=this.animateOption,k.draw(A,n),this.elementsMap[g]=k,this.elements[d]=k}}catch(j){a={error:j}}finally{try{S&&!S.done&&(i=C.return)&&i.call(C)}finally{if(a)throw a.error}}try{for(var D=St(x),$=D.next();!$.done;$=D.next()){var g=$.value,p=c.get(g),k=this.lastElementsMap[g],d=f.get(g),A=this.getShapeInfo(p),L=k.getModel();(this.isCoordinateChanged||Ib(L,A))&&(k.animate=this.animateOption,k.update(A)),this.elementsMap[g]=k,this.elements[d]=k}}catch(j){o={error:j}}finally{try{$&&!$.done&&(s=D.return)&&s.call(D)}finally{if(o)throw o.error}}try{for(var F=St(m),X=F.next();!X.done;X=F.next()){var g=X.value,k=this.lastElementsMap[g];k.animate=this.animateOption,k.destroy()}}catch(j){l={error:j}}finally{try{X&&!X.done&&(u=F.return)&&u.call(F)}finally{if(l)throw l.error}}},e.prototype.getPointsAndData=function(t){for(var n=[],a=[],i=0,o=t.length;i<o;i++){var s=t[i];n.push({x:s.x,y:s.y}),a.push(s[At])}return{points:n,data:a}},e.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),a=this.getPointsAndData(t),i=a.points,o=a.data;return n.mappingData=t,n.data=o,n.isStack=!!this.getAdjust("stack"),n.points=i,n.connectNulls=this.connectNulls,n.showSinglePoint=this.showSinglePoint,n},e}(Dn);function WF(r,e,t,n,a){var i=[];if(r.length){for(var o=[],s=[],l=0,u=r.length;l<u;l++){var c=r[l];o.push(c[1]),s.push(c[0])}s=s.reverse(),M([o,s],function(f,h){var v=[],d=n.parsePoints(f),p=d[0];o.length===1&&s.length===1?v=h===0?[["M",p.x-.5,p.y],["L",p.x+.5,p.y]]:[["L",p.x+.5,p.y],["L",p.x-.5,p.y]]:(e&&d.push({x:p.x,y:p.y}),t?v=Xl(d,!1,a):v=ho(d,!1),h>0&&(v[0][0]="L")),i=i.concat(v)}),i.push(["Z"])}return i}function Yu(r,e,t,n,a){for(var i=re(r,e,!e,"lineWidth"),o=r.connectNulls,s=r.isInCircle,l=r.points,u=r.showSinglePoint,c=Ad(l,o,u),f=[],h=0,v=c.length;h<v;h++){var d=c[h];f=f.concat(WF(d,s,t,n,a))}return i.path=f,i}function lC(r){var e=r.start,t=r.end;return[[e.x,t.y],[t.x,e.y]]}An("area",{defaultShapeType:"area",getDefaultPoints:function(r){var e=r.x,t=r.y0,n=Y(r.y)?r.y:[t,r.y];return n.map(function(a){return{x:e,y:a}})}});Ft("area","area",{draw:function(r,e){var t=Yu(r,!1,!1,this),n=e.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){return a===void 0&&(a=5.5),[["M",t-a,n-4],["L",t+a,n-4],["L",t+a,n+4],["L",t-a,n+4],["Z"]]},style:{r:5,fill:e,fillOpacity:1}}}});var XF=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var a=t.startOnZero,i=a===void 0?!0:a,o=t.sortable,s=o===void 0?!1:o,l=t.showSinglePoint,u=l===void 0?!1:l;return n.startOnZero=i,n.sortable=s,n.showSinglePoint=u,n}return e.prototype.getPointsAndData=function(t){for(var n=[],a=[],i=0,o=t.length;i<o;i++){var s=t[i];n.push(s.points),a.push(s[At])}return{points:n,data:a}},e.prototype.getYMinValue=function(){if(this.startOnZero)return r.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},e}($d);An("edge",{defaultShapeType:"line",getDefaultPoints:function(r){return Dd(r)}});Ft("edge","line",{draw:function(r,e){var t=re(r,!0,!1,"lineWidth"),n=ho(this.parsePoints(r.points),this.coordinate.isPolar);return e.addShape("path",{attrs:b(b({},t),{path:n})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});var UF=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return e}(Dn),qF=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return e.prototype.updateElements=function(t,n){for(var a=0;a<t.length;a++){var i=t[a],o=this.prepareRange(i),s=this.prepareSize(),l=O(this.styleOption,["cfg","shadowBlur"]);Pt(l)||(l=s/2),this.prepareGreyScaleBlurredCircle(s,l),this.drawWithRange(i,o,s,l)}},e.prototype.color=function(t,n){return this.createAttrOption("color",t,typeof n!="function"?n:""),this},e.prototype.clear=function(){r.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var n=this.getAttribute("color"),a=n.getFields()[0],i=1/0,o=-1/0;return t.forEach(function(s){var l=s[At][a];l>o&&(o=l),l<i&&(i=l)}),i===o&&(i=o-1),[i,o]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return Pt(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,n){var a=this.getGrayScaleBlurredCanvas(),i=t+n,o=a.getContext("2d");a.width=a.height=i*2,o.clearRect(0,0,a.width,a.height),o.shadowOffsetX=o.shadowOffsetY=i*2,o.shadowBlur=n,o.shadowColor="black",o.beginPath(),o.arc(-i,-i,t,0,Math.PI*2,!0),o.closePath(),o.fill()},e.prototype.drawWithRange=function(t,n,a,i){var o,s,l=this.coordinate,u=l.start,c=l.end,f=this.coordinate.getWidth(),h=this.coordinate.getHeight(),v=this.getAttribute("color"),d=v.getFields()[0];this.clearShadowCanvasCtx();var p=this.getShadowCanvasCtx();n&&(t=t.filter(function(D){return D[At][d]<=n[1]&&D[At][d]>=n[0]}));var g=this.scales[d];try{for(var y=St(t),w=y.next();!w.done;w=y.next()){var x=w.value,m=this.getDrawCfg(x),C=m.x,S=m.y,T=g.scale(x[At][d]);this.drawGrayScaleBlurredCircle(C-u.x,S-c.y,a+i,T,p)}}catch(D){o={error:D}}finally{try{w&&!w.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}var A=p.getImageData(0,0,f,h);this.clearShadowCanvasCtx(),this.colorize(A),p.putImageData(A,0,0);var k=this.getImageShape();k.attr("x",u.x),k.attr("y",c.y),k.attr("width",f),k.attr("height",h),k.attr("img",p.canvas),k.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),n=this.coordinate;return Math.min(n.getWidth()/(t.scales[0].ticks.length*4),n.getHeight()/(t.scales[1].ticks.length*4))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,n,a,i,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=i,o.drawImage(s,t-a,n-a)},e.prototype.colorize=function(t){for(var n=this.getAttribute("color"),a=t.data,i=this.paletteCache,o=3;o<a.length;o+=4){var s=a[o];if(Pt(s)){var l=i[s]?i[s]:qi.rgb2arr(n.gradient(s/256));a[o-3]=l[0],a[o-2]=l[1],a[o-1]=l[2],a[o]=s}}},e.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var n=this.container;return t=n.addShape({type:"image",attrs:{}}),this.imageShape=t,t},e.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),a=t.map(function(i){return i[At]});return b(b({},n),{mappingData:t,data:a})},e}(Dn);function Yd(r){var e,t,n=r.x,a=r.y,i=r.y0,o=r.size,s,l;Y(a)?(e=q(a,2),s=e[0],l=e[1]):(s=i,l=a);var u,c;Y(n)?(t=q(n,2),u=t[0],c=t[1]):(u=n-o/2,c=n+o/2);var f=[{x:u,y:s},{x:u,y:l}];return f.push({x:c,y:l},{x:c,y:s}),f}function Nd(r,e){e===void 0&&(e=!0);var t=[],n=r[0];t.push(["M",n.x,n.y]);for(var a=1,i=r.length;a<i;a++)t.push(["L",r[a].x,r[a].y]);return e&&(t.push(["L",n.x,n.y]),t.push(["z"])),t}function uC(r,e){var t=0,n=0,a=0,i=0;return Y(r)?r.length===1?t=n=a=i=r[0]:r.length===2?(t=a=r[0],n=i=r[1]):r.length===3?(t=r[0],n=i=r[1],a=r[2]):(t=r[0],n=r[1],a=r[2],i=r[3]):t=n=a=i=r,t+n>e&&(t=t?e/(1+n/t):0,n=e-t),a+i>e&&(a=a?e/(1+i/a):0,i=e-a),[t||0,n||0,a||0,i||0]}function cC(r,e,t){var n=[];if(t.isRect){var a=t.isTransposed?{x:t.start.x,y:e[0].y}:{x:e[0].x,y:t.start.y},i=t.isTransposed?{x:t.end.x,y:e[2].y}:{x:e[3].x,y:t.end.y},o=O(r,["background","style","radius"]);if(o){var s=t.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,l=t.isTransposed?t.getWidth():t.getHeight(),u=q(uC(o,Math.min(s,l)),4),c=u[0],f=u[1],h=u[2],v=u[3],d=t.isTransposed&&t.isReflect("y"),p=d?0:1,g=function(S){return d?-S:S};n.push(["M",a.x,i.y+g(c)]),c!==0&&n.push(["A",c,c,0,0,p,a.x+c,i.y]),n.push(["L",i.x-f,i.y]),f!==0&&n.push(["A",f,f,0,0,p,i.x,i.y+g(f)]),n.push(["L",i.x,a.y-g(h)]),h!==0&&n.push(["A",h,h,0,0,p,i.x-h,a.y]),n.push(["L",a.x+v,a.y]),v!==0&&n.push(["A",v,v,0,0,p,a.x,a.y-g(v)])}else n.push(["M",a.x,a.y]),n.push(["L",i.x,a.y]),n.push(["L",i.x,i.y]),n.push(["L",a.x,i.y]),n.push(["L",a.x,a.y]);n.push(["z"])}if(t.isPolar){var y=t.getCenter(),w=Gl(r,t),x=w.startAngle,m=w.endAngle;if(t.type!=="theta"&&!t.isTransposed)n=Qn(y.x,y.y,t.getRadius(),x,m);else{var C=function(A){return Math.pow(A,2)},c=Math.sqrt(C(y.x-e[0].x)+C(y.y-e[0].y)),f=Math.sqrt(C(y.x-e[2].x)+C(y.y-e[2].y));n=Qn(y.x,y.y,c,t.startAngle,t.endAngle,f)}}return n}function jF(r,e,t){var n=t.getWidth(),a=t.getHeight(),i=t.type==="rect",o=[],s=(r[2].x-r[1].x)/2,l=t.isTransposed?s*a/n:s*n/a;return e==="round"?(i?(o.push(["M",r[0].x,r[0].y+l]),o.push(["L",r[1].x,r[1].y-l]),o.push(["A",s,s,0,0,1,r[2].x,r[2].y-l]),o.push(["L",r[3].x,r[3].y+l]),o.push(["A",s,s,0,0,1,r[0].x,r[0].y+l])):(o.push(["M",r[0].x,r[0].y]),o.push(["L",r[1].x,r[1].y]),o.push(["A",s,s,0,0,1,r[2].x,r[2].y]),o.push(["L",r[3].x,r[3].y]),o.push(["A",s,s,0,0,1,r[0].x,r[0].y])),o.push(["z"])):o=Nd(r),o}function fC(r,e,t){var n=[];return B(e)?t?n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",(r[2].x+r[3].x)/2,(r[2].y+r[3].y)/2],["Z"]):n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[3].x,r[3].y],["Z"]):n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),n}function mi(r,e){return[e,r]}function QF(r,e,t){var n,a,i,o,s,l,u,c=q(Dt([],q(r),!1),4),f=c[0],h=c[1],v=c[2],d=c[3],p=q(typeof t=="number"?Array(4).fill(t):t,4),g=p[0],y=p[1],w=p[2],x=p[3];e.isTransposed&&(n=q(mi(h,d),2),h=n[0],d=n[1]),e.isReflect("y")&&(a=q(mi(f,h),2),f=a[0],h=a[1],i=q(mi(v,d),2),v=i[0],d=i[1]),e.isReflect("x")&&(o=q(mi(f,d),2),f=o[0],d=o[1],s=q(mi(h,v),2),h=s[0],v=s[1]);var m=[],C=function(S){return Math.abs(S)};return l=q(uC([g,y,w,x],Math.min(C(d.x-f.x),C(h.y-f.y))).map(function(S){return C(S)}),4),g=l[0],y=l[1],w=l[2],x=l[3],e.isTransposed&&(u=q([x,g,y,w],4),g=u[0],y=u[1],w=u[2],x=u[3]),f.y<h.y?(m.push(["M",d.x,d.y+w]),w!==0&&m.push(["A",w,w,0,0,0,d.x-w,d.y]),m.push(["L",f.x+x,f.y]),x!==0&&m.push(["A",x,x,0,0,0,f.x,f.y+x]),m.push(["L",h.x,h.y-g]),g!==0&&m.push(["A",g,g,0,0,0,h.x+g,h.y]),m.push(["L",v.x-y,v.y]),y!==0&&m.push(["A",y,y,0,0,0,v.x,v.y-y]),m.push(["L",d.x,d.y+w]),m.push(["z"])):d.x<f.x?(m.push(["M",v.x+y,v.y]),y!==0&&m.push(["A",y,y,0,0,0,v.x,v.y+y]),m.push(["L",d.x,d.y-w]),w!==0&&m.push(["A",w,w,0,0,0,d.x+w,d.y]),m.push(["L",f.x-x,f.y]),x!==0&&m.push(["A",x,x,0,0,0,f.x,f.y-x]),m.push(["L",h.x,h.y+g]),g!==0&&m.push(["A",g,g,0,0,0,h.x-g,h.y]),m.push(["L",v.x+y,v.y]),m.push(["z"])):(m.push(["M",h.x,h.y+g]),g!==0&&m.push(["A",g,g,0,0,1,h.x+g,h.y]),m.push(["L",v.x-y,v.y]),y!==0&&m.push(["A",y,y,0,0,1,v.x,v.y+y]),m.push(["L",d.x,d.y-w]),w!==0&&m.push(["A",w,w,0,0,1,d.x-w,d.y]),m.push(["L",f.x+x,f.y]),x!==0&&m.push(["A",x,x,0,0,1,f.x,f.y-x]),m.push(["L",h.x,h.y+g]),m.push(["z"])),m}An("interval",{defaultShapeType:"rect",getDefaultPoints:function(r){return Yd(r)}});Ft("interval","rect",{draw:function(r,e){var t=re(r,!1,!0),n=e,a=r==null?void 0:r.background;if(a){n=e.addGroup({name:"interval-group"});var i=Hb(r),o=cC(r,this.parsePoints(r.points),this.coordinate);n.addShape("path",{attrs:b(b({},i),{path:o}),capture:!1,zIndex:-1,name:Pd})}var s;t.radius&&this.coordinate.isRect?s=QF(this.parsePoints(r.points),this.coordinate,t.radius):s=this.parsePath(jF(r.points,t.lineCap,this.coordinate));var l=n.addShape("path",{attrs:b(b({},t),{path:s}),name:"interval"});return a?n:l},getMarker:function(r){var e=r.color,t=r.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});function ZF(r,e){var t=r.length,n=r;ct(n[0])&&(n=r.map(function(s){return e.translate(s)}));for(var a=n[1]-n[0],i=2;i<t;i++){var o=n[i]-n[i-1];a>o&&(a=o)}return a}function KF(r,e){if(e){var t=ar(r),n=Zr(t,e);return n.length}return r.length}function Vd(r){var e=r.theme,t=r.coordinate,n=r.getXScale(),a=n.values,i=r.beforeMappingData,o=a.length,s=fo(r.coordinate),l=r.intervalPadding,u=r.dodgePadding,c=r.maxColumnWidth||e.maxColumnWidth,f=r.minColumnWidth||e.minColumnWidth,h=r.columnWidthRatio||e.columnWidthRatio,v=r.multiplePieWidthRatio||e.multiplePieWidthRatio,d=r.roseWidthRatio||e.roseWidthRatio;if(n.isLinear&&a.length>1){a.sort();var p=ZF(a,n);o=(n.max-n.min)/p,a.length>o&&(o=a.length)}var g=n.range,y=1/o,w=1;if(t.isPolar?t.isTransposed&&o>1?w=v:w=d:(n.isLinear&&(y*=g[1]-g[0]),w=h),!B(l)&&l>=0){var x=l/s;y=(1-(o-1)*x)/o}else y*=w;if(r.getAdjust("dodge")){var m=r.getAdjust("dodge"),C=m.dodgeBy,S=KF(i,C);if(!B(u)&&u>=0){var T=u/s;y=(y-T*(S-1))/S}else!B(l)&&l>=0&&(y*=w),y=y/S;y=y>=0?y:0}if(!B(c)&&c>=0){var A=c/s;y>A&&(y=A)}if(!B(f)&&f>=0){var k=f/s;y<k&&(y=k)}return y}var JF=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var a=t.background;return n.background=a,n}return e.prototype.createShapePointsCfg=function(t){var n=r.prototype.createShapePointsCfg.call(this,t),a,i=this.getAttribute("size");if(i){a=this.getAttributeValues(i,t)[0];var o=this.coordinate,s=fo(o);a=a/s}else this.defaultSize||(this.defaultSize=Vd(this)),a=this.defaultSize;return n.size=a,n},e.prototype.adjustScale=function(){r.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:oL(t)});else{var n=this.scaleDefs,a=t.field,i=t.min,o=t.max,s=t.type;s!=="time"&&(i>0&&!O(n,[a,"min"])&&t.change({min:0}),o<=0&&!O(n,[a,"max"])&&t.change({max:0}))}},e.prototype.getDrawCfg=function(t){var n=r.prototype.getDrawCfg.call(this,t);return n.background=this.background,n},e}(Dn),t$=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;n.type="line";var a=t.sortable,i=a===void 0?!1:a;return n.sortable=i,n}return e}($d),hC=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],e$=["cross","tick","plus","hyphen","line"];function Hd(r,e,t,n,a){var i,o,s=re(e,a,!a,"r"),l=r.parsePoints(e.points),u=l[0];if(e.isStack)u=l[1];else if(l.length>1){var c=t.addGroup();try{for(var f=St(l),h=f.next();!h.done;h=f.next()){var v=h.value;c.addShape({type:"marker",attrs:b(b(b({},s),{symbol:ra[n]||n}),v)})}}catch(d){i={error:d}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return c}return t.addShape({type:"marker",attrs:b(b(b({},s),{symbol:ra[n]||n}),u)})}An("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(r){return Dd(r)}});M(hC,function(r){Ft("point","hollow-".concat(r),{draw:function(e,t){return Hd(this,e,t,r,!0)},getMarker:function(e){var t=e.color;return{symbol:ra[r]||r,style:{r:4.5,stroke:t,fill:null}}}})});var r$=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return e.prototype.getDrawCfg=function(t){var n=r.prototype.getDrawCfg.call(this,t);return b(b({},n),{isStack:!!this.getAdjust("stack")})},e}(Dn);function n$(r){for(var e=r[0],t=1,n=[["M",e.x,e.y]];t<r.length;){var a=r[t];(a.x!==r[t-1].x||a.y!==r[t-1].y)&&(n.push(["L",a.x,a.y]),a.x===e.x&&a.y===e.y&&t<r.length-1&&(e=r[t+1],n.push(["Z"]),n.push(["M",e.x,e.y]),t++)),t++}return ve(Me(n),e)||n.push(["L",e.x,e.y]),n.push(["Z"]),n}An("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(r){var e=[];return M(r.x,function(t,n){var a=r.y[n];e.push({x:t,y:a})}),e}});Ft("polygon","polygon",{draw:function(r,e){if(!Yr(r.points)){var t=re(r,!0,!0),n=this.parsePath(n$(r.points));return e.addShape("path",{attrs:b(b({},t),{path:n}),name:"polygon"})}},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});var a$=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var n=r.prototype.createShapePointsCfg.call(this,t),a=n.x,i=n.y,o;if(!(Y(a)&&Y(i))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,c=l.values.length,f=.5*1/u,h=.5*1/c;s.isCategory&&l.isCategory?(a=[a-f,a-f,a+f,a+f],i=[i-h,i+h,i+h,i-h]):Y(a)?(o=a,a=[o[0],o[0],o[1],o[1]],i=[i-h/2,i+h/2,i+h/2,i-h/2]):Y(i)&&(o=i,i=[o[0],o[1],o[1],o[0]],a=[a-f/2,a-f/2,a+f/2,a+f/2]),n.x=a,n.y=i}return n},e}(Dn);An("schema",{defaultShapeType:""});var i$=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var n=r.prototype.createShapePointsCfg.call(this,t),a,i=this.getAttribute("size");if(i){a=this.getAttributeValues(i,t)[0];var o=this.coordinate,s=fo(o);a=a/s}else this.defaultSize||(this.defaultSize=Vd(this)),a=this.defaultSize;return n.size=a,n},e}(Dn);function o$(r){if(!Y(r))return[];var e=Cr(r);return Le(r,function(t){return t/e})}An("violin",{defaultShapeType:"violin",getDefaultPoints:function(r){var e=r.size/2,t=[],n=o$(r._size);return M(r.y,function(a,i){var o=n[i]*e,s=i===0,l=i===r.y.length-1;t.push({isMin:s,isMax:l,x:r.x-o,y:a}),t.unshift({isMin:s,isMax:l,x:r.x+o,y:a})}),t}});Ft("violin","violin",{draw:function(r,e){var t=re(r,!0,!0),n=this.parsePath(Nb(r.points));return e.addShape("path",{attrs:b(b({},t),{path:n}),name:"violin"})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4,fill:e}}}});var s$=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var n=r.prototype.createShapePointsCfg.call(this,t),a,i=this.getAttribute("size");if(i){a=this.getAttributeValues(i,t)[0];var o=this.coordinate,s=fo(o);a=a/s}else this.defaultSize||(this.defaultSize=Vd(this)),a=this.defaultSize;return n.size=a,n._size=O(t[At],[this._sizeField]),n},e.prototype.initAttributes=function(){var t=this.attributeOption,n=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete t.size,r.prototype.initAttributes.call(this)},e}(Dn);Ft("area","line",{draw:function(r,e){var t=Yu(r,!0,!1,this),n=e.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){return a===void 0&&(a=5.5),[["M",t-a,n-4],["L",t+a,n-4],["L",t+a,n+4],["L",t-a,n+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});Ft("area","smooth",{draw:function(r,e){var t=this.coordinate,n=Yu(r,!1,!0,this,lC(t)),a=e.addShape({type:"path",attrs:n,name:"area"});return a},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){return a===void 0&&(a=5.5),[["M",t-a,n-4],["L",t+a,n-4],["L",t+a,n+4],["L",t-a,n+4],["Z"]]},style:{r:5,fill:e,fillOpacity:1}}}});Ft("area","smooth-line",{draw:function(r,e){var t=this.coordinate,n=Yu(r,!0,!0,this,lC(t)),a=e.addShape({type:"path",attrs:n,name:"area"});return a},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){return a===void 0&&(a=5.5),[["M",t-a,n-4],["L",t+a,n-4],["L",t+a,n+4],["L",t-a,n+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});function yv(r,e){return["C",r.x*1/2+e.x*1/2,r.y,r.x*1/2+e.x*1/2,e.y,e.x,e.y]}function mv(r,e){var t=[];t.push({x:e.x,y:e.y}),t.push(r);var n=["Q"];return M(t,function(a){n.push(a.x,a.y)}),n}function l$(r,e,t){var n=mv(e,t),a=[["M",r.x,r.y]];return a.push(n),a}function u$(r,e){var t=mv(r[1],e),n=mv(r[3],e),a=[["M",r[0].x,r[0].y]];return a.push(n),a.push(["L",r[3].x,r[3].y]),a.push(["L",r[2].x,r[2].y]),a.push(t),a.push(["L",r[1].x,r[1].y]),a.push(["L",r[0].x,r[0].y]),a.push(["Z"]),a}Ft("edge","arc",{draw:function(r,e){var t=re(r,!0,!1,"lineWidth"),n=r.points,a=n.length>2?"weight":"normal",i;if(r.isInCircle){var o={x:0,y:1};return a==="normal"?i=l$(n[0],n[1],o):(t.fill=t.stroke,i=u$(n,o)),i=this.parsePath(i),e.addShape("path",{attrs:b(b({},t),{path:i})})}else{if(a==="normal")return n=this.parsePoints(n),i=Kw((n[1].x+n[0].x)/2,n[0].y,Math.abs(n[1].x-n[0].x)/2,Math.PI,Math.PI*2),e.addShape("path",{attrs:b(b({},t),{path:i})});var s=yv(n[1],n[3]),l=yv(n[2],n[0]);return i=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],s,["L",n[3].x,n[3].y],["L",n[2].x,n[2].y],l,["Z"]],i=this.parsePath(i),t.fill=t.stroke,e.addShape("path",{attrs:b(b({},t),{path:i})})}},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});function c$(r,e){var t=yv(r,e),n=[["M",r.x,r.y]];return n.push(t),n}Ft("edge","smooth",{draw:function(r,e){var t=re(r,!0,!1,"lineWidth"),n=r.points,a=this.parsePath(c$(n[0],n[1]));return e.addShape("path",{attrs:b(b({},t),{path:a})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});var Ho=1/3;function f$(r,e){var t=[];t.push({x:r.x,y:r.y*(1-Ho)+e.y*Ho}),t.push({x:e.x,y:r.y*(1-Ho)+e.y*Ho}),t.push(e);var n=[["M",r.x,r.y]];return M(t,function(a){n.push(["L",a.x,a.y])}),n}Ft("edge","vhv",{draw:function(r,e){var t=re(r,!0,!1,"lineWidth"),n=r.points,a=this.parsePath(f$(n[0],n[1]));return e.addShape("path",{attrs:b(b({},t),{path:a})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});Ft("interval","funnel",{getPoints:function(r){return r.size=r.size*2,Yd(r)},draw:function(r,e){var t=re(r,!1,!0),n=this.parsePath(fC(r.points,r.nextPoints,!1)),a=e.addShape("path",{attrs:b(b({},t),{path:n}),name:"interval"});return a},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});Ft("interval","hollow-rect",{draw:function(r,e){var t=re(r,!0,!1),n=e,a=r==null?void 0:r.background;if(a){n=e.addGroup();var i=Hb(r),o=cC(r,this.parsePoints(r.points),this.coordinate);n.addShape("path",{attrs:b(b({},i),{path:o}),capture:!1,zIndex:-1,name:Pd})}var s=this.parsePath(Nd(r.points)),l=n.addShape("path",{attrs:b(b({},t),{path:s}),name:"interval"});return a?n:l},getMarker:function(r){var e=r.color,t=r.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}});function h$(r){var e=r.x,t=r.y,n=r.y0;return Y(t)?t.map(function(a,i){return{x:Y(e)?e[i]:e,y:a}}):[{x:e,y:n},{x:e,y:t}]}Ft("interval","line",{getPoints:function(r){return h$(r)},draw:function(r,e){var t=re(r,!0,!1,"lineWidth"),n=ze(b({},t),["fill"]),a=this.parsePath(Nd(r.points,!1)),i=e.addShape("path",{attrs:b(b({},n),{path:a}),name:"interval"});return i},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){return[["M",t,n-a],["L",t,n+a]]},style:{r:5,stroke:e}}}});Ft("interval","pyramid",{getPoints:function(r){return r.size=r.size*2,Yd(r)},draw:function(r,e){var t=re(r,!1,!0),n=this.parsePath(fC(r.points,r.nextPoints,!0)),a=e.addShape("path",{attrs:b(b({},t),{path:n}),name:"interval"});return a},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});function v$(r){var e,t=r.x,n=r.y,a=r.y0,i=r.size,o,s;Y(n)?(e=q(n,2),o=e[0],s=e[1]):(o=a,s=n);var l=t+i/2,u=t-i/2;return[{x:t,y:o},{x:t,y:s},{x:u,y:o},{x:l,y:o},{x:u,y:s},{x:l,y:s}]}function d$(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y]]}Ft("interval","tick",{getPoints:function(r){return v$(r)},draw:function(r,e){var t=re(r,!0,!1),n=this.parsePath(d$(r.points)),a=e.addShape("path",{attrs:b(b({},t),{path:n}),name:"interval"});return a},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){return[["M",t-a/2,n-a],["L",t+a/2,n-a],["M",t,n-a],["L",t,n+a],["M",t-a/2,n+a],["L",t+a/2,n+a]]},style:{r:5,stroke:e}}}});var p$=function(r,e,t){var n=r.x,a=r.y,i=e.x,o=e.y,s;switch(t){case"hv":s=[{x:i,y:a}];break;case"vh":s=[{x:n,y:o}];break;case"hvh":var l=(i+n)/2;s=[{x:l,y:a},{x:l,y:o}];break;case"vhv":var u=(a+o)/2;s=[{x:n,y:u},{x:i,y:u}];break}return s};function g$(r,e){var t=[];return M(r,function(n,a){var i=r[a+1];if(t.push(n),i){var o=p$(n,i,e);t=t.concat(o)}}),t}function y$(r){return r.map(function(e,t){return t===0?["M",e.x,e.y]:["L",e.x,e.y]})}function m$(r,e){var t=Ad(r.points,r.connectNulls,r.showSinglePoint),n=[];return M(t,function(a){var i=g$(a,e);n=n.concat(y$(i))}),b(b({},re(r,!0,!1,"lineWidth")),{path:n})}M(["hv","vh","hvh","vhv"],function(r){Ft("line",r,{draw:function(e,t){var n=m$(e,r),a=t.addShape({type:"path",attrs:n,name:"line"});return a},getMarker:function(e){return zb(e,r)}})});M(e$,function(r){Ft("point",r,{draw:function(e,t){return Hd(this,e,t,r,!0)},getMarker:function(e){var t=e.color;return{symbol:ra[r],style:{r:4.5,stroke:t,fill:null}}}})});Ft("point","image",{draw:function(r,e){var t,n,a=re(r,!1,!1,"r").r,i=this.parsePoints(r.points),o=i[0];if(r.isStack)o=i[1];else if(i.length>1){var s=e.addGroup();try{for(var l=St(i),u=l.next();!u.done;u=l.next()){var c=u.value;s.addShape("image",{attrs:{x:c.x-a/2,y:c.y-a,width:a,height:a,img:r.shape[1]}})}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return s}return e.addShape("image",{attrs:{x:o.x-a/2,y:o.y-a,width:a,height:a,img:r.shape[1]}})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4.5,fill:e}}}});M(hC,function(r){Ft("point",r,{draw:function(e,t){return Hd(this,e,t,r,!1)},getMarker:function(e){var t=e.color;return{symbol:ra[r]||r,style:{r:4.5,fill:t}}}})});function Em(r){var e=Y(r)?r:[r],t=e[0],n=e[e.length-1],a=e.length>1?e[1]:t,i=e.length>3?e[3]:n,o=e.length>2?e[2]:a;return{min:t,max:n,min1:a,max1:i,median:o}}function Im(r,e,t){var n=t/2,a;if(Y(e)){var i=Em(e),o=i.min,s=i.max,l=i.median,u=i.min1,c=i.max1,f=r-n,h=r+n;a=[[f,s],[h,s],[r,s],[r,c],[f,u],[f,c],[h,c],[h,u],[r,u],[r,o],[f,o],[h,o],[f,l],[h,l]]}else{e=B(e)?.5:e;var v=Em(r),o=v.min,s=v.max,l=v.median,u=v.min1,c=v.max1,d=e-n,p=e+n;a=[[o,d],[o,p],[o,e],[u,e],[u,d],[u,p],[c,p],[c,d],[c,e],[s,e],[s,d],[s,p],[l,d],[l,p]]}return a.map(function(g){return{x:g[0],y:g[1]}})}function x$(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x,r[10].y],["L",r[11].x,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]}Ft("schema","box",{getPoints:function(r){var e=r.x,t=r.y,n=r.size;return Im(e,t,n)},draw:function(r,e){var t=re(r,!0,!1),n=this.parsePath(x$(r.points)),a=e.addShape("path",{attrs:b(b({},t),{path:n,name:"schema"})});return a},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){var i=[n-6,n-3,n,n+3,n+6],o=Im(t,i,a);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:e}}}});function w$(r){var e=Y(r)?r:[r],t=e.sort(function(n,a){return a-n});return ZR(t,4,t[t.length-1])}function Rm(r,e,t){var n=w$(e);return[{x:r,y:n[0]},{x:r,y:n[1]},{x:r-t/2,y:n[2]},{x:r-t/2,y:n[1]},{x:r+t/2,y:n[1]},{x:r+t/2,y:n[2]},{x:r,y:n[2]},{x:r,y:n[3]}]}function b$(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]}Ft("schema","candle",{getPoints:function(r){var e=r.x,t=r.y,n=r.size;return Rm(e,t,n)},draw:function(r,e){var t=re(r,!0,!0),n=this.parsePath(b$(r.points)),a=e.addShape("path",{attrs:b(b({},t),{path:n,name:"schema"})});return a},getMarker:function(r){var e=r.color;return{symbol:function(t,n,a){var i=[n+7.5,n+3,n-3,n-7.5],o=Rm(t,i,a);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}});function C$(r,e){var t=Math.abs(r[0].x-r[2].x),n=Math.abs(r[0].y-r[2].y),a=Math.min(t,n);e&&(a=Ut(e,0,Math.min(t,n))),a=a/2;var i=(r[0].x+r[2].x)/2,o=(r[0].y+r[2].y)/2;return{x:i-a,y:o-a,width:a*2,height:a*2}}Ft("polygon","square",{draw:function(r,e){if(!Yr(r.points)){var t=re(r,!0,!0),n=this.parsePoints(r.points);return e.addShape("rect",{attrs:b(b({},t),C$(n,r.size)),name:"polygon"})}},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});Ft("violin","smooth",{draw:function(r,e){var t=re(r,!0,!0),n=this.parsePath(Vb(r.points));return e.addShape("path",{attrs:b(b({},t),{path:n})})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{stroke:null,r:4,fill:e}}}});Ft("violin","hollow",{draw:function(r,e){var t=re(r,!0,!1),n=this.parsePath(Nb(r.points));return e.addShape("path",{attrs:b(b({},t),{path:n})})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}});Ft("violin","hollow-smooth",{draw:function(r,e){var t=re(r,!0,!1),n=this.parsePath(Vb(r.points));return e.addShape("path",{attrs:b(b({},t),{path:n})})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}});var S$=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getLabelValueDir=function(t){var n="y",a=t.points;return a[0][n]<=a[2][n]?1:-1},e.prototype.getLabelOffsetPoint=function(t,n,a,i){var o,s=r.prototype.getLabelOffsetPoint.call(this,t,n,a),l=this.getCoordinate(),u=l.isTransposed,c=u?"x":"y",f=this.getLabelValueDir(t.mappingData);return s=b(b({},s),(o={},o[c]=s[c]*f,o)),l.isReflect("x")&&(s=b(b({},s),{x:s.x*-1})),l.isReflect("y")&&(s=b(b({},s),{y:s.y*-1})),s},e.prototype.getThemedLabelCfg=function(t){var n=this.geometry,a=this.getDefaultLabelCfg(),i=n.theme;return G({},a,i.labels,t.position==="middle"?{offset:0}:{},t)},e.prototype.setLabelPosition=function(t,n,a,i){var o=this.getCoordinate(),s=o.isTransposed,l=n.points,u=o.convert(l[0]),c=o.convert(l[2]),f=this.getLabelValueDir(n),h,v,d,p,g=Y(n.shape)?n.shape[0]:n.shape;if(g==="funnel"||g==="pyramid"){var y=O(n,"nextPoints"),w=O(n,"points");if(y){var x=o.convert(w[0]),m=o.convert(w[1]),C=o.convert(y[0]),S=o.convert(y[1]);s?(h=Math.min(C.y,x.y),d=Math.max(C.y,x.y),v=(m.x+S.x)/2,p=(x.x+C.x)/2):(h=Math.min((m.y+S.y)/2,(x.y+C.y)/2),d=Math.max((m.y+S.y)/2,(x.y+C.y)/2),v=S.x,p=x.x)}else h=Math.min(c.y,u.y),d=Math.max(c.y,u.y),v=c.x,p=u.x}else h=Math.min(c.y,u.y),d=Math.max(c.y,u.y),v=c.x,p=u.x;switch(i){case"right":t.x=v,t.y=(h+d)/2,t.textAlign=O(t,"textAlign",f>0?"left":"right");break;case"left":t.x=p,t.y=(h+d)/2,t.textAlign=O(t,"textAlign",f>0?"left":"right");break;case"bottom":s&&(t.x=(v+p)/2),t.y=d,t.textAlign=O(t,"textAlign","center"),t.textBaseline=O(t,"textBaseline",f>0?"bottom":"top");break;case"middle":s&&(t.x=(v+p)/2),t.y=(h+d)/2,t.textAlign=O(t,"textAlign","center"),t.textBaseline=O(t,"textBaseline","middle");break;case"top":s&&(t.x=(v+p)/2),t.y=h,t.textAlign=O(t,"textAlign","center"),t.textBaseline=O(t,"textBaseline",f>0?"bottom":"top");break}},e}(kd),zo=Math.PI/2,vC=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getLabelOffset=function(t){var n=this.getCoordinate(),a=0;if(Pt(t))a=t;else if(ct(t)&&t.indexOf("%")!==-1){var i=n.getRadius();n.innerRadius>0&&(i=i*(1-n.innerRadius)),a=parseFloat(t)*.01*i}return a},e.prototype.getLabelItems=function(t){var n=r.prototype.getLabelItems.call(this,t),a=this.geometry.getYScale();return Le(n,function(i){if(i&&a){var o=a.scale(O(i.data,a.field));return b(b({},i),{percent:o})}return i})},e.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),a;if(t.labelEmit)a=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!n.isTransposed)a="center";else{var i=n.getCenter(),o=t.offset;Math.abs(t.x-i.x)<1?a="center":t.angle>Math.PI||t.angle<=0?a=o>0?"left":"right":a=o>0?"right":"left"}return a},e.prototype.getLabelPoint=function(t,n,a){var i=1,o,s=t.content[a];this.isToMiddle(n)?o=this.getMiddlePoint(n.points):(t.content.length===1&&a===0?a=1:a===0&&(i=-1),o=this.getArcPoint(n,a));var l=t.offset*i,u=this.getPointAngle(o),c=t.labelEmit,f=this.getCirclePoint(u,l,o,c);return f.r===0?f.content="":(f.content=s,f.angle=u,f.color=n.color),f.rotate=t.autoRotate?this.getLabelRotate(u,l,c):t.rotate,f.start={x:o.x,y:o.y},f},e.prototype.getArcPoint=function(t,n){return n===void 0&&(n=0),!Y(t.x)&&!Y(t.y)?{x:t.x,y:t.y}:{x:Y(t.x)?t.x[n]:t.x,y:Y(t.y)?t.y[n]:t.y}},e.prototype.getPointAngle=function(t){return za(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,n,a,i){var o=this.getCoordinate(),s=o.getCenter(),l=Ru(o,a);if(l===0)return b(b({},s),{r:l});var u=t;if(o.isTransposed&&l>n&&!i){var c=Math.asin(n/(2*l));u=t+c*2}else l=l+n;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},e.prototype.getLabelRotate=function(t,n,a){var i=t+zo;return a&&(i-=zo),i&&(i>zo?i=i-Math.PI:i<-zo&&(i=i+Math.PI)),i},e.prototype.getMiddlePoint=function(t){var n=this.getCoordinate(),a=t.length,i={x:0,y:0};return M(t,function(o){i.x+=o.x,i.y+=o.y}),i.x/=a,i.y/=a,i=n.convert(i),i},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(kd),M$=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return e.prototype.getDefaultLabelCfg=function(t,n){var a=r.prototype.getDefaultLabelCfg.call(this,t,n);return G({},a,O(this.geometry.theme,"pieLabels",{}))},e.prototype.getLabelOffset=function(t){return r.prototype.getLabelOffset.call(this,t)||0},e.prototype.getLabelRotate=function(t,n,a){var i;return n<0&&(i=t,i>Math.PI/2&&(i=i-Math.PI),i<-Math.PI/2&&(i=i+Math.PI)),i},e.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),a=n.getCenter(),i;return t.angle<=Math.PI/2&&t.x>=a.x?i="left":i="right",t.offset<=0&&(i==="right"?i="left":i="right"),i},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var n=this.getCoordinate(),a={x:Y(t.x)?t.x[0]:t.x,y:t.y[0]},i={x:Y(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=za(n,a);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=za(n,i);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},e.prototype.getCirclePoint=function(t,n){var a=this.getCoordinate(),i=a.getCenter(),o=a.getRadius()+n;return b(b({},se(i.x,i.y,o,t)),{angle:t,r:o})},e}(vC),Lm=4;function T$(r,e,t,n,a,i){var o,s,l=!0,u=n.start,c=n.end,f=Math.min(u.y,c.y),h=Math.abs(u.y-c.y),v,d=0,p=Number.MIN_VALUE,g=e.map(function(T){return T.y>d&&(d=T.y),T.y<p&&(p=T.y),{size:t,targets:[T.y-f]}});for(p-=f,d-f>h&&(h=d-f);l;)for(g.forEach(function(T){var A=(Math.min.apply(p,T.targets)+Math.max.apply(p,T.targets))/2;T.pos=Math.min(Math.max(p,A-T.size/2),h-T.size)}),l=!1,v=g.length;v--;)if(v>0){var y=g[v-1],w=g[v];y.pos+y.size>w.pos&&(y.size+=w.size,y.targets=y.targets.concat(w.targets),y.pos+y.size>h&&(y.pos=h-y.size),g.splice(v,1),l=!0)}v=0,g.forEach(function(T){var A=f+t/2;T.targets.forEach(function(){e[v].y=T.pos+A,A+=t,v++})});var x={};try{for(var m=St(r),C=m.next();!C.done;C=m.next()){var S=C.value;x[S.get("id")]=S}}catch(T){o={error:T}}finally{try{C&&!C.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}e.forEach(function(T){var A=T.r*T.r,k=Math.pow(Math.abs(T.y-a.y),2);if(A<k)T.x=a.x;else{var D=Math.sqrt(A-k);i?T.x=a.x+D:T.x=a.x-D}var $=x[T.id];$.attr("x",T.x),$.attr("y",T.y);var L=jr($.getChildren(),function(F){return F.get("type")==="text"});L&&(L.attr("y",T.y),L.attr("x",T.x))})}function P$(r,e,t,n){if(!(!r.length||!e.length)){var a=r[0]?r[0].offset:0,i=e[0].get("coordinate"),o=i.getRadius(),s=i.getCenter();if(a>0){var l=14,u=o+a,c=u*2+l*2,f={start:i.start,end:i.end},h=[[],[]];r.forEach(function(v){v&&(v.textAlign==="right"?h[0].push(v):h[1].push(v))}),h.forEach(function(v,d){var p=c/l;v.length>p&&(v.sort(function(g,y){return y["..percent"]-g["..percent"]}),v.splice(p,v.length-p)),v.sort(function(g,y){return g.y-y.y}),T$(e,v,l,f,s,d)})}M(r,function(v){if(v&&v.labelLine){var d=v.offset,p=v.angle,g=se(s.x,s.y,o,p),y=se(s.x,s.y,o+d/2,p),w=v.x+O(v,"offsetX",0),x=v.y+O(v,"offsetY",0),m={x:w-Math.cos(p)*Lm,y:x-Math.sin(p)*Lm};Vt(v.labelLine)||(v.labelLine={}),v.labelLine.path=["M ".concat(g.x),"".concat(g.y," Q").concat(y.x),"".concat(y.y," ").concat(m.x),m.y].join(",")}})}}function dC(r,e,t){var n=r.filter(function(d){return!d.invisible});n.sort(function(d,p){return d.y-p.y});var a=!0,i=t.minY,o=t.maxY,s=Math.abs(i-o),l,u=0,c=Number.MIN_VALUE,f=n.map(function(d){return d.y>u&&(u=d.y),d.y<c&&(c=d.y),{content:d.content,size:e,targets:[d.y-i],pos:null}});for(c-=i,u-i>s&&(s=u-i);a;)for(f.forEach(function(d){var p=(Math.min.apply(c,d.targets)+Math.max.apply(c,d.targets))/2;d.pos=Math.min(Math.max(c,p-d.size/2),s-d.size),d.pos=Math.max(0,d.pos)}),a=!1,l=f.length;l--;)if(l>0){var h=f[l-1],v=f[l];h.pos+h.size>v.pos&&(h.size+=v.size,h.targets=h.targets.concat(v.targets),h.pos+h.size>s&&(h.pos=s-h.size),f.splice(l,1),a=!0)}l=0,f.forEach(function(d){var p=i+e/2;d.targets.forEach(function(){n[l].y=d.pos+p,p+=e,l++})})}var Bm=4;function O$(r,e){var t=e.getCenter(),n=e.getRadius();if(r&&r.labelLine){var a=r.angle,i=r.offset,o=se(t.x,t.y,n,a),s=r.x+O(r,"offsetX",0)*(Math.cos(a)>0?1:-1),l=r.y+O(r,"offsetY",0)*(Math.sin(a)>0?1:-1),u={x:s-Math.cos(a)*Bm,y:l-Math.sin(a)*Bm},c=r.labelLine.smooth,f=[],h=u.x-t.x,v=u.y-t.y,d=Math.atan(v/h);if(h<0&&(d+=Math.PI),c===!1){Vt(r.labelLine)||(r.labelLine={});var p=0;(a<0&&a>-Math.PI/2||a>Math.PI*1.5)&&u.y>o.y&&(p=1),a>=0&&a<Math.PI/2&&u.y>o.y&&(p=1),a>=Math.PI/2&&a<Math.PI&&o.y>u.y&&(p=1),(a<-Math.PI/2||a>=Math.PI&&a<Math.PI*1.5)&&o.y>u.y&&(p=1);var g=i/2>4?4:Math.max(i/2-1,0),y=se(t.x,t.y,n+g,a),w=se(t.x,t.y,n+i/2,d),x=0;f.push("M ".concat(o.x," ").concat(o.y)),f.push("L ".concat(y.x," ").concat(y.y)),f.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(x," ").concat(p," ").concat(w.x," ").concat(w.y)),f.push("L ".concat(u.x," ").concat(u.y))}else{var y=se(t.x,t.y,n+(i/2>4?4:Math.max(i/2-1,0)),a),m=o.x<t.x?1:-1;f.push("M ".concat(u.x," ").concat(u.y));var C=(o.y-t.y)/(o.x-t.x),S=(u.y-t.y)/(u.x-t.x);Math.abs(C-S)>Math.pow(Math.E,-16)&&f.push.apply(f,["C",u.x+m*4,u.y,2*y.x-o.x,2*y.y-o.y,o.x,o.y]),f.push("L ".concat(o.x," ").concat(o.y))}r.labelLine.path=f.join(" ")}}function k$(r,e,t,n){var a,i,o=hr(r,function(A){return!B(A)}),s=e[0]&&e[0].get("coordinate");if(s){var l=s.getCenter(),u=s.getRadius(),c={};try{for(var f=St(e),h=f.next();!h.done;h=f.next()){var v=h.value;c[v.get("id")]=v}}catch(A){a={error:A}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var d=O(o[0],"labelHeight",14),p=O(o[0],"offset",0);if(!(p<=0)){var g="left",y="right",w=On(o,function(A){return A.x<l.x?g:y}),x=s.start,m=s.end,C=Math.min((u+p+d)*2,s.getHeight()),S=C/2,T={minX:x.x,maxX:m.x,minY:l.y-S,maxY:l.y+S};M(w,function(A,k){var D=Math.floor(C/d);A.length>D&&(A.sort(function($,L){return L.percent-$.percent}),M(A,function($,L){L+1>D&&(c[$.id].set("visible",!1),$.invisible=!0)})),dC(A,d,T)}),M(w,function(A,k){M(A,function(D){var $=k===y,L=c[D.id],F=L.getChildByIndex(0);if(F){var X=u+p,j=D.y-l.y,Z=Math.pow(X,2),ot=Math.pow(j,2),dt=Z-ot>0?Z-ot:0,ut=Math.sqrt(dt),nt=Math.abs(Math.cos(D.angle)*X);$?D.x=l.x+Math.max(ut,nt):D.x=l.x-Math.max(ut,nt)}F&&(F.attr("y",D.y),F.attr("x",D.x)),O$(D,s)})})}}}var xv=4,A$=4,Fm=4;function D$(r,e,t){var n=e.getCenter(),a=e.getRadius(),i={x:r.x-(t?Fm:-Fm),y:r.y},o=se(n.x,n.y,a+xv,r.angle),s={x:i.x,y:i.y},l={x:o.x,y:o.y},u=se(n.x,n.y,a,r.angle),c="";if(i.y!==o.y){var f=t?4:-4;s.y=i.y,r.angle<0&&r.angle>=-Math.PI/2&&(s.x=Math.max(o.x,i.x-f),i.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-f))),r.angle>0&&r.angle<Math.PI/2&&(s.x=Math.max(o.x,i.x-f),i.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-f))),r.angle>Math.PI/2&&(s.x=Math.min(o.x,i.x-f),i.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-f))),r.angle<-Math.PI/2&&(s.x=Math.min(o.x,i.x-f),i.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-f)))}c=["M ".concat(i.x,",").concat(i.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(u.x,",").concat(u.y)].join(" "),r.labelLine=G({},r.labelLine,{path:c})}function _$(r,e,t,n){var a,i,o=e[0]&&e[0].get("coordinate");if(o){var s=o.getCenter(),l=o.getRadius(),u={};try{for(var c=St(e),f=c.next();!f.done;f=c.next()){var h=f.value;u[h.get("id")]=h}}catch(A){a={error:A}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}var v=O(r[0],"labelHeight",14),d=Math.max(O(r[0],"offset",0),xv);M(r,function(A){if(A){var k=O(u,[A.id]);if(k){var D=A.x>s.x||A.x===s.x&&A.y>s.y,$=B(A.offsetX)?A$:A.offsetX,L=se(s.x,s.y,l+xv,A.angle),F=d+$;A.x=s.x+(D?1:-1)*(l+F),A.y=L.y}}});var p=o.start,g=o.end,y="left",w="right",x=On(r,function(A){return A.x<s.x?y:w}),m=(l+d)*2+v;M(x,function(A){var k=A.length*v;k>m&&(m=Math.min(k,Math.abs(p.y-g.y)))});var C={minX:p.x,maxX:g.x,minY:s.y-m/2,maxY:s.y+m/2};M(x,function(A,k){var D=m/v;A.length>D&&(A.sort(function($,L){return L.percent-$.percent}),M(A,function($,L){L>D&&(u[$.id].set("visible",!1),$.invisible=!0)})),dC(A,v,C)});var S=C.minY,T=C.maxY;M(x,function(A,k){var D=k===w;M(A,function($){var L=O(u,$&&[$.id]);if(L){if($.y<S||$.y>T){L.set("visible",!1);return}var F=L.getChildByIndex(0),X=F.getCanvasBBox(),j={x:D?X.x:X.maxX,y:X.y+X.height/2};$u(F,$.x-j.x,$.y-j.y),$.labelLine&&D$($,o,D)}})})}}function E$(r,e,t,n){M(e,function(a){var i=n.minX,o=n.minY,s=n.maxX,l=n.maxY,u=a.getCanvasBBox(),c=u.minX,f=u.minY,h=u.maxX,v=u.maxY,d=u.x,p=u.y,g=u.width,y=u.height,w=d,x=p;(c<i||h<i)&&(w=i),(f<o||v<o)&&(x=o),c>s?w=s-g:h>s&&(w=w-(h-s)),f>l?x=l-y:v>l&&(x=x-(v-l)),(w!==d||x!==p)&&$u(a,w-d,x-p)})}function I$(r,e,t,n){M(e,function(a,i){var o=a.getCanvasBBox(),s=t[i].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&a.remove(!0)})}var R$=100,pC=function(){function r(e){e===void 0&&(e={}),this.bitmap={};var t=e.xGap,n=t===void 0?1:t,a=e.yGap,i=a===void 0?8:a;this.xGap=n,this.yGap=i}return r.prototype.hasGap=function(e){for(var t=!0,n=this.bitmap,a=Math.round(e.minX),i=Math.round(e.maxX),o=Math.round(e.minY),s=Math.round(e.maxY),l=a;l<=i;l+=1){if(!n[l]){n[l]={};continue}if(l===a||l===i){for(var u=o;u<=s;u++)if(n[l][u]){t=!1;break}}else if(n[l][o]||n[l][s]){t=!1;break}}return t},r.prototype.fillGap=function(e){for(var t=this.bitmap,n=Math.round(e.minX),a=Math.round(e.maxX),i=Math.round(e.minY),o=Math.round(e.maxY),s=n;s<=a;s+=1)t[s]||(t[s]={});for(var s=n;s<=a;s+=this.xGap){for(var l=i;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=i;s<=o;s+=1)t[n][s]=!0,t[a][s]=!0;if(this.xGap!==1)for(var s=n;s<=a;s+=1)t[s][i]=!0,t[s][o]=!0},r.prototype.destroy=function(){this.bitmap={}},r}();function L$(r,e,t){t===void 0&&(t=R$);var n=-1,a=r.attr(),i=a.x,o=a.y,s=r.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,c=-n,f=0,h=0,v=function(y){var w=y*.1;return[w*Math.cos(w),w*Math.sin(w)]};if(e.hasGap(s))return e.fillGap(s),!0;for(var d=!1,p=0,g={};Math.min(Math.abs(f),Math.abs(h))<l&&p<t;)if(u=v(c+=n),f=~~u[0],h=~~u[1],!(!f&&!h||g["".concat(f,"-").concat(h)])&&(r.attr({x:i+f,y:o+h}),f+h<0&&r.attr("textAlign","right"),p++,e.hasGap(r.getCanvasBBox()))){e.fillGap(r.getCanvasBBox()),d=!0,g["".concat(f,"-").concat(h)]=!0;break}return d}function B$(r,e,t,n){var a=r.getCanvasBBox(),i=a.width,o=a.height,s={x:e,y:t,textAlign:"center"};switch(n){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=i+1,s.textAlign="left";break;case 8:s.x-=i+1,s.textAlign="right";break}return r.attr(s),r.getCanvasBBox()}function F$(r,e,t,n){var a=new pC;M(e,function(i){var o=i.find(function(s){return s.get("type")==="text"});L$(o,a)||i.remove(!0)}),a.destroy()}function $$(r,e,t,n){var a=new pC;M(e,function(i){for(var o=i.find(function(v){return v.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,c=!1,f=0;f<=8;f++){var h=B$(o,l,u,f);if(a.hasGap(h)){a.fillGap(h),c=!0;break}}c||i.remove(!0)}),a.destroy()}function Y$(r,e){return(r[0]||0)*(e[0]||0)+(r[1]||0)*(e[1]||0)+(r[2]||0)*(e[2]||0)}function $m(r){if(r.length>4)return[];var e=function(a,i){return[i.x-a.x,i.y-a.y]},t=e(r[0],r[1]),n=e(r[1],r[2]);return[t,n]}function Go(r,e,t){e===void 0&&(e=0),t===void 0&&(t={x:0,y:0});var n=r.x,a=r.y;return{x:(n-t.x)*Math.cos(-e)+(a-t.y)*Math.sin(-e)+t.x,y:(t.x-n)*Math.sin(-e)+(a-t.y)*Math.cos(-e)+t.y}}function Ym(r){var e=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],t=r.rotation;return t?[Go(e[0],t,e[0]),Go(e[1],t,e[0]),Go(e[2],t,e[0]),Go(e[3],t,e[0])]:e}function Nm(r,e){if(r.length>4)return{min:0,max:0};var t=[];return r.forEach(function(n){t.push(Y$([n.x,n.y],e))}),{min:Math.min.apply(Math,Dt([],q(t),!1)),max:Math.max.apply(Math,Dt([],q(t),!1))}}function N$(r,e){return r.max>e.min&&r.min<e.max}function V$(r){return typeof r=="number"&&!Number.isNaN(r)&&r!==1/0&&r!==-1/0}function Vm(r){return["x","y","width","height"].every(function(e){return V$(r[e])})}function H$(r,e,t){return t===void 0&&(t=0),!(e.x>r.x+r.width+t||e.x+e.width<r.x-t||e.y>r.y+r.height+t||e.y+e.height<r.y-t)}function z$(r,e,t){if(t===void 0&&(t=0),!Vm(r)||!Vm(e))return!1;if(!r.rotation&&!e.rotation)return H$(r,e,t);for(var n=Ym(r),a=Ym(e),i=$m(n).concat($m(a)),o=0;o<i.length;o++){var s=i[o],l=Nm(n,s),u=Nm(a,s);if(!N$(l,u))return!1}return!0}var G$=function(){function r(e){var t=this;this.queue=[],this.worker=new Worker(e),this.worker.onmessage=function(n){var a;(a=t.queue.shift())===null||a===void 0||a.resolve(n)},this.worker.onmessageerror=function(n){var a;console.warn("[AntV G2] Web worker is not available"),(a=t.queue.shift())===null||a===void 0||a.reject(n)}}return r.prototype.post=function(e,t){var n=this;return new Promise(function(a,i){n.queue.push({resolve:a,reject:i});try{n.worker.postMessage(e)}catch{console.warn("[AntV G2] Web worker is not available"),J(t)&&t()}})},r.prototype.destroy=function(){this.worker.terminate()},r}();function W$(r){if(!(typeof window>"u")){var e;try{e=new Blob([r.toString()],{type:"application/javascript"})}catch{e=new window.BlobBuilder,e.append(r.toString()),e=e.getBlob()}return new G$(URL.createObjectURL(e))}}var X$=function(r){function e(){function u(x,m){return(x[0]||0)*(m[0]||0)+(x[1]||0)*(m[1]||0)+(x[2]||0)*(m[2]||0)}function c(x){if(x.length>4)return[];var m=function(T,A){return[A.x-T.x,A.y-T.y]},C=m(x[0],x[1]),S=m(x[1],x[2]);return[C,S]}function f(x,m,C){m===void 0&&(m=0),C===void 0&&(C={x:0,y:0});var S=x.x,T=x.y;return{x:(S-C.x)*Math.cos(-m)+(T-C.y)*Math.sin(-m)+C.x,y:(C.x-S)*Math.sin(-m)+(T-C.y)*Math.cos(-m)+C.y}}function h(x){var m=[{x:x.x,y:x.y},{x:x.x+x.width,y:x.y},{x:x.x+x.width,y:x.y+x.height},{x:x.x,y:x.y+x.height}],C=x.rotation;return C?[f(m[0],C,m[0]),f(m[1],C,m[0]),f(m[2],C,m[0]),f(m[3],C,m[0])]:m}function v(x,m){if(x.length>4)return{min:0,max:0};var C=[];return x.forEach(function(S){C.push(u([S.x,S.y],m))}),{min:Math.min.apply(null,C),max:Math.max.apply(null,C)}}function d(x,m){return x.max>m.min&&x.min<m.max}function p(x){return typeof x=="number"&&!Number.isNaN(x)&&x!==1/0&&x!==-1/0}function g(x){return["x","y","width","height"].every(function(m){return p(x[m])})}function y(x,m,C){return C===void 0&&(C=0),!(m.x>x.x+x.width+C||m.x+m.width<x.x-C||m.y>x.y+x.height+C||m.y+m.height<x.y-C)}function w(x,m,C){if(C===void 0&&(C=0),!g(x)||!g(m))return!1;if(!x.rotation&&!m.rotation)return y(x,m,C);for(var S=h(x),T=h(m),A=c(S).concat(c(T)),k=0;k<A.length;k++){var D=A[k],$=v(S,D),L=v(T,D);if(!d($,L))return!1}return!0}return{intersect:w}}var t=e().intersect;function n(u){for(var c=u.slice(),f=0;f<c.length;f++){var h=c[f];if(h.visible)for(var v=f+1;v<c.length;v++){var d=c[v];h!==d&&d.visible&&t(h,d)&&(d.visible=!1)}}return c}var a={"hide-overlap":n};try{var i=JSON.parse(r.data);if(!i||!i.type||!a[i.type])return;var o=i.type,s=i.items,l=a[o](s);self.postMessage(l)}catch(u){throw u}},U$=`
   self.onmessage = `.concat(X$.toString(),`
`),Oc=function(r){for(var e=r.slice(),t=0;t<e.length;t++){var n=e[t];if(n.visible)for(var a=t+1;a<e.length;a++){var i=e[a];n!==i&&i.visible&&z$(n,i)&&(i.visible=!1)}}return e},kc=new Map,Hm=W$(U$);function q$(r,e,t,n){return Fi(this,void 0,void 0,function(){var a,i,o,s,l,u;return $i(this,function(c){switch(c.label){case 0:return a=e.map(function(f,h){return b(b({},Fb(f,r[h],O(r[h],"background.padding"))),{visible:!0})}),i=JSON.stringify(a),o=function(f){return kc.set(i,f),M(f,function(h,v){var d=h.visible,p=e[v];d?p==null||p.show():p==null||p.hide()}),f},kc.get(i)?(o(kc.get(i)),[3,7]):[3,1];case 1:if(!Hm)return[3,6];c.label=2;case 2:return c.trys.push([2,4,,5]),s=JSON.stringify({type:"hide-overlap",items:a}),[4,Hm.post(s,function(){return o(Oc(a))})];case 3:return l=c.sent(),o(Array.isArray(l.data)?l.data:[]),[3,5];case 4:return u=c.sent(),console.error(u),o(Oc(a)),[3,5];case 5:return[3,7];case 6:o(Oc(a)),c.label=7;case 7:return[2]}})})}var zm={"#5B8FF9":!0},j$=function(r){var e=qi.toRGB(r).toUpperCase();if(zm[e])return zm[e];var t=q(qi.rgb2arr(e),3),n=t[0],a=t[1],i=t[2],o=(n*299+a*587+i*114)/1e3<128;return o};function Q$(r,e,t){if(t.length!==0){var n=t[0].get("element"),a=n.geometry.theme,i=a.labels||{},o=i.fillColorLight,s=i.fillColorDark;t.forEach(function(l,u){var c=e[u],f=c.find(function(y){return y.get("type")==="text"}),h=Fe.fromObject(l.getBBox()),v=Fe.fromObject(f.getCanvasBBox()),d=!h.contains(v),p=l.attr("fill"),g=j$(p);d?f.attr(a.overflowLabels.style):g?o&&f.attr("fill",o):s&&f.attr("fill",s)})}}function Z$(r,e,t){var n=r.coordinate,a=Pn(e),i=Fe.fromObject(a.getCanvasBBox()),o=Fe.fromObject(t.getBBox());return n.isTransposed?o.height>=i.height:o.width>=i.width}function K$(r,e,t){var n=!!r.getAdjust("stack");return n||e.every(function(a,i){var o=t[i];return Z$(r,a,o)})}function J$(r,e,t){var n=r.coordinate,a=Fe.fromObject(t.getBBox()),i=Pn(e);n.isTransposed?i.attr({x:a.minX+a.width/2,textAlign:"center"}):i.attr({y:a.minY+a.height/2,textBaseline:"middle"})}function tY(r,e,t){var n;if(t.length!==0){var a=(n=t[0])===null||n===void 0?void 0:n.get("element"),i=a==null?void 0:a.geometry;if(!(!i||i.type!=="interval")){var o=K$(i,e,t);o&&t.forEach(function(s,l){var u=e[l];J$(i,u,s)})}}}function eY(r){var e=500,t=[],n=Math.max(Math.floor(r.length/e),1);return M(r,function(a,i){i%n===0?t.push(a):a.set("visible",!1)}),t}function rY(r,e,t){var n;if(t.length!==0){var a=(n=t[0])===null||n===void 0?void 0:n.get("element"),i=a==null?void 0:a.geometry;if(!(!i||i.type!=="interval")){var o=eY(e),s=q(i.getXYFields(),1),l=s[0],u=[],c=[],f=On(o,function(g){return g.get("data")[l]}),h=sx(Le(o,function(g){return g.get("data")[l]})),v;o.forEach(function(g){g.set("visible",!0)});var d=function(g){g&&(g.length&&c.push(g.pop()),c.push.apply(c,Dt([],q(g),!1)))};for(qe(h)>0&&(v=h.shift(),d(f[v])),qe(h)>0&&(v=h.pop(),d(f[v])),M(h.reverse(),function(g){d(f[g])});c.length>0;){var p=c.shift();p.get("visible")&&(dB(p,u)?p.set("visible",!1):u.push(p))}}}}function nY(r,e){var t=r.getXYFields()[1],n=[],a=e.sort(function(i,o){return i.get("data")[t]-i.get("data")[t]});return a.length>0&&n.push(a.shift()),a.length>0&&n.push(a.pop()),n.push.apply(n,Dt([],q(a),!1)),n}function gC(r,e,t){return r.some(function(n){return t(n,e)})}function aY(r,e,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(r.x+r.width+t,e.x+e.width+t)-Math.max(r.x-t,e.x-t)),a=Math.max(0,Math.min(r.y+r.height+t,e.y+e.height+t)-Math.max(r.y-t,e.y-t));return n*a}function Gm(r,e){return gC(r,e,function(t,n){var a=Pn(t),i=Pn(n);return aY(a.getCanvasBBox(),i.getCanvasBBox(),2)>0})}function iY(r,e,t,n,a){var i,o;if(t.length!==0){var s=(i=t[0])===null||i===void 0?void 0:i.get("element"),l=s==null?void 0:s.geometry;if(!(!l||l.type!=="point")){var u=q(l.getXYFields(),2),c=u[0],f=u[1],h=On(e,function(p){return p.get("data")[c]}),v=[],d=a&&a.offset||((o=r[0])===null||o===void 0?void 0:o.offset)||12;Le(oo(h).reverse(),function(p){for(var g=nY(l,h[p]);g.length;){var y=g.shift(),w=Pn(y);if(gC(v,y,function(C,S){return C.get("data")[c]===S.get("data")[c]&&C.get("data")[f]===S.get("data")[f]})){w.set("visible",!1);continue}var x=Gm(v,y),m=!1;if(x&&(w.attr("y",w.attr("y")+2*d),m=Gm(v,y)),m){w.set("visible",!1);continue}v.push(y)}})}}}function oY(r,e){var t=r.getXYFields()[1],n=[],a=e.sort(function(i,o){return i.get("data")[t]-i.get("data")[t]});return a.length>0&&n.push(a.shift()),a.length>0&&n.push(a.pop()),n.push.apply(n,Dt([],q(a),!1)),n}function yC(r,e,t){return r.some(function(n){return t(n,e)})}function sY(r,e,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(r.x+r.width+t,e.x+e.width+t)-Math.max(r.x-t,e.x-t)),a=Math.max(0,Math.min(r.y+r.height+t,e.y+e.height+t)-Math.max(r.y-t,e.y-t));return n*a}function Wm(r,e){return yC(r,e,function(t,n){var a=Pn(t),i=Pn(n);return sY(a.getCanvasBBox(),i.getCanvasBBox(),2)>0})}function lY(r,e,t,n,a){var i,o;if(t.length!==0){var s=(i=t[0])===null||i===void 0?void 0:i.get("element"),l=s==null?void 0:s.geometry;if(!(!l||["path","line","area"].indexOf(l.type)<0)){var u=q(l.getXYFields(),2),c=u[0],f=u[1],h=On(e,function(p){return p.get("data")[c]}),v=[],d=a&&a.offset||((o=r[0])===null||o===void 0?void 0:o.offset)||12;Le(oo(h).reverse(),function(p){for(var g=oY(l,h[p]);g.length;){var y=g.shift(),w=Pn(y);if(yC(v,y,function(C,S){return C.get("data")[c]===S.get("data")[c]&&C.get("data")[f]===S.get("data")[f]})){w.set("visible",!1);continue}var x=Wm(v,y),m=!1;if(x&&(w.attr("y",w.attr("y")+2*d),m=Wm(v,y)),m){w.set("visible",!1);continue}v.push(y)}})}}}var Ac;function uY(){return Ac||(Ac=document.createElement("canvas").getContext("2d")),Ac}var Wo=lu(function(r,e){e===void 0&&(e={});var t=e.fontSize,n=e.fontFamily,a=e.fontWeight,i=e.fontStyle,o=e.fontVariant,s=uY();return s.font=[i,o,a,"".concat(t,"px"),n].join(" "),s.measureText(ct(r)?r:"").width},function(r,e){return e===void 0&&(e={}),Dt([r],q(qv(e)),!1).join("")}),cY=function(r,e,t){var n=16,a=Wo("...",t),i;ct(r)?i=r:i=su(r);var o=e,s=[],l,u;if(Wo(r,t)<=e)return r;for(;l=i.substr(0,n),u=Wo(l,t),!(u+a>o&&u>o);)if(s.push(l),o-=u,i=i.substr(n),!i)return s.join("");for(;l=i.substr(0,1),u=Wo(l,t),!(u+a>o);)if(s.push(l),o-=u,i=i.substr(1),!i)return s.join("");return"".concat(s.join(""),"...")};function fY(r,e,t,n,a){if(!(e.length<=0)){var i=(a==null?void 0:a.direction)||["top","right","bottom","left"],o=(a==null?void 0:a.action)||"translate",s=(a==null?void 0:a.margin)||0,l=e[0].get("coordinate");if(l){var u=eL(l,s),c=u.minX,f=u.minY,h=u.maxX,v=u.maxY;M(e,function(d){var p=d.getCanvasBBox(),g=p.minX,y=p.minY,w=p.maxX,x=p.maxY,m=p.x,C=p.y,S=p.width,T=p.height,A=m,k=C;if(i.indexOf("left")>=0&&(g<c||w<c)&&(A=c),i.indexOf("top")>=0&&(y<f||x<f)&&(k=f),i.indexOf("right")>=0&&(g>h?A=h-S:w>h&&(A=A-(w-h))),i.indexOf("bottom")>=0&&(y>v?k=v-T:x>v&&(k=k-(x-v))),A!==m||k!==C){var D=A-m;if(o==="translate")$u(d,D,k-C);else if(o==="ellipsis"){var $=d.findAll(function(L){return L.get("type")==="text"});$.forEach(function(L){var F=jv(L.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),X=L.getCanvasBBox(),j=cY(L.attr("text"),X.width-Math.abs(D),F);L.attr("text",j)})}else d.hide()}})}}}function hY(r,e,t){var n={fillOpacity:B(r.attr("fillOpacity"))?1:r.attr("fillOpacity"),strokeOpacity:B(r.attr("strokeOpacity"))?1:r.attr("strokeOpacity"),opacity:B(r.attr("opacity"))?1:r.attr("opacity")};r.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),r.animate(n,e)}function vY(r,e,t){var n={fillOpacity:0,strokeOpacity:0,opacity:0},a=e.easing,i=e.duration,o=e.delay;r.animate(n,i,a,function(){r.remove(!0)},o)}function dY(r,e,t){var n,a=q(e,2),i=a[0],o=a[1];return r.applyToMatrix([i,o,1]),t==="x"?(r.setMatrix(oe(r.getMatrix(),[["t",-i,-o],["s",.01,1],["t",i,o]])),n=oe(r.getMatrix(),[["t",-i,-o],["s",100,1],["t",i,o]])):t==="y"?(r.setMatrix(oe(r.getMatrix(),[["t",-i,-o],["s",1,.01],["t",i,o]])),n=oe(r.getMatrix(),[["t",-i,-o],["s",1,100],["t",i,o]])):t==="xy"&&(r.setMatrix(oe(r.getMatrix(),[["t",-i,-o],["s",.01,.01],["t",i,o]])),n=oe(r.getMatrix(),[["t",-i,-o],["s",100,100],["t",i,o]])),n}function zd(r,e,t,n,a){var i=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),u,c;a==="y"?(u=i.x+s/2,c=n.y<i.y?n.y:i.y):a==="x"?(u=n.x>i.x?n.x:i.x,c=i.y+l/2):a==="xy"&&(t.isPolar?(u=t.getCenter().x,c=t.getCenter().y):(u=(i.x+o.x)/2,c=(i.y+o.y)/2));var f=dY(r,[u,c],a);r.animate({matrix:f},e)}function pY(r,e,t){var n=t.coordinate,a=t.minYPoint;zd(r,e,n,a,"x")}function gY(r,e,t){var n=t.coordinate,a=t.minYPoint;zd(r,e,n,a,"y")}function yY(r,e,t){var n=t.coordinate,a=t.minYPoint;zd(r,e,n,a,"xy")}function mY(r,e,t){var n=r.getTotalLength();r.attr("lineDash",[n]),r.animate(function(a){return{lineDashOffset:(1-a)*n}},e)}function xY(r,e,t){var n=t.toAttrs,a=n.x,i=n.y;delete n.x,delete n.y,r.attr(n),r.animate({x:a,y:i},e)}function wY(r,e,t){var n=r.getBBox(),a=r.get("origin").mappingData,i=a.points,o=i[0].y-i[1].y>0?n.maxX:n.minX,s=(n.minY+n.maxY)/2;r.applyToMatrix([o,s,1]);var l=oe(r.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);r.setMatrix(l),r.animate({matrix:oe(r.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},e)}function bY(r,e,t){var n=r.getBBox(),a=r.get("origin").mappingData,i=(n.minX+n.maxX)/2,o=a.points,s=o[0].y-o[1].y<=0?n.maxY:n.minY;r.applyToMatrix([i,s,1]);var l=oe(r.getMatrix(),[["t",-i,-s],["s",1,.01],["t",i,s]]);r.setMatrix(l),r.animate({matrix:oe(r.getMatrix(),[["t",-i,-s],["s",1,100],["t",i,s]])},e)}function Xm(r,e){var t,n=ql(r,e),a=n.startAngle,i=n.endAngle;return!Ce(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),!Ce(i,-Math.PI*.5)&&i<-Math.PI*.5&&(i+=Math.PI*2),e[5]===0&&(t=q([i,a],2),a=t[0],i=t[1]),Ce(a,Math.PI*1.5)&&(a=Math.PI*-.5),Ce(i,Math.PI*-.5)&&!Ce(a,i)&&(i=Math.PI*1.5),{startAngle:a,endAngle:i}}function Um(r){var e;return r[0]==="M"||r[0]==="L"?e=[r[1],r[2]]:(r[0]==="a"||r[0]==="A"||r[0]==="C")&&(e=[r[r.length-2],r[r.length-1]]),e}function qm(r){var e,t,n,a=r.filter(function(x){return x[0]==="A"||x[0]==="a"});if(a.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var i=a[0],o=a.length>1?a[1]:a[0],s=r.indexOf(i),l=r.indexOf(o),u=Um(r[s-1]),c=Um(r[l-1]),f=Xm(u,i),h=f.startAngle,v=f.endAngle,d=Xm(c,o),p=d.startAngle,g=d.endAngle;Ce(h,p)&&Ce(v,g)?(t=h,n=v):(t=Math.min(h,p),n=Math.max(v,g));var y=i[1],w=a[a.length-1][1];return y<w?(e=q([w,y],2),y=e[0],w=e[1]):y===w&&(w=0),{startAngle:t,endAngle:n,radius:y,innerRadius:w}}function CY(r,e,t){var n=t.toAttrs,a=t.coordinate,i=n.path||[],o=i.map(function(w){return w[0]});if(!(i.length<1)){var s=qm(i),l=s.startAngle,u=s.endAngle,c=s.radius,f=s.innerRadius,h=qm(r.attr("path")),v=h.startAngle,d=h.endAngle,p=a.getCenter(),g=l-v,y=u-d;if(g===0&&y===0){r.attr("path",i);return}r.animate(function(w){var x=v+w*g,m=d+w*y;return b(b({},n),{path:ve(o,["M","A","A","Z"])?Kw(p.x,p.y,c,x,m):Qn(p.x,p.y,c,x,m,f)})},b(b({},e),{callback:function(){r.attr("path",i),J(e.callback)&&e.callback()}}))}}function SY(r,e,t){var n=bd(t.coordinate,20),a=n.type,i=n.startState,o=n.endState,s=r.setClip({type:a,attrs:i});t.toAttrs&&r.attr(t.toAttrs),s.animate(o,b(b({},e),{callback:function(){r&&!r.get("destroyed")&&r.set("clipShape",null),s.remove(!0),J(e.callback)&&e.callback()}}))}function Gd(r,e,t){if(r.isGroup())M(r.getChildren(),function(s){Gd(s,e,t)});else{var n=r.getBBox(),a=(n.minX+n.maxX)/2,i=(n.minY+n.maxY)/2;if(r.applyToMatrix([a,i,1]),t==="zoomIn"){var o=oe(r.getMatrix(),[["t",-a,-i],["s",.01,.01],["t",a,i]]);r.setMatrix(o),r.animate({matrix:oe(r.getMatrix(),[["t",-a,-i],["s",100,100],["t",a,i]])},e)}else r.animate({matrix:oe(r.getMatrix(),[["t",-a,-i],["s",.01,.01],["t",a,i]])},b(b({},e),{callback:function(){r.remove(!0),J(e.callback)&&e.callback()}}))}}function MY(r,e,t){Gd(r,e,"zoomIn")}function TY(r,e,t){Gd(r,e,"zoomOut")}function tn(r){return[V.TOP,V.BOTTOM].includes(r)?{offsetX:0,offsetY:r===V.TOP?-8:8,style:{textAlign:"center",textBaseline:r===V.TOP?"bottom":"top"}}:[V.LEFT,V.RIGHT].includes(r)?{offsetX:r===V.LEFT?-8:8,offsetY:0,style:{textAlign:r===V.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Dc(r,e,t){return{x:r.x+e*Math.cos(t),y:r.y+e*Math.sin(t)}}var PY=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return G({},r.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,n){var a=.5,i={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*n,l=a/(1+1/Math.sin(o/2)),u=Dc(i,a-l,s),c=Math.PI*5/4,f=Math.PI*1/4;return{start:Dc(u,l,c),end:Dc(u,l,f)}},e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.generateFacets=function(t){var n=this,a=this.cfg,i=a.fields,o=a.type,s=q(i,1),l=s[0];if(!l)throw new Error("No `fields` specified!");var u=this.getFieldValues(t,l),c=u.length,f=[];return u.forEach(function(h,v){var d=[{field:l,value:h,values:u}],p=hr(t,n.getFacetDataFilter(d)),g={type:o,data:p,region:n.getRegion(c,v),columnValue:h,columnField:l,columnIndex:v,columnValuesLength:c,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};f.push(g)}),f},e.prototype.getXAxisOption=function(t,n,a,i){return a},e.prototype.getYAxisOption=function(t,n,a,i){return a},e.prototype.renderTitle=function(){var t=this;M(this.facets,function(n){var a=n.columnValue,i=n.view,o=O(t.cfg.title,"formatter"),s=G({position:["50%","0%"],content:o?o(a):a},tn(V.TOP),t.cfg.title);i.annotation().text(s)})},e}(Qa),OY=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return G({},r.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.generateFacets=function(t){var n=this,a=this.cfg.fields,i=this.cfg.cols,o=q(a,1),s=o[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length;i=i||u;var c=this.getPageCount(u,i),f=[];return l.forEach(function(h,v){var d=n.getRowCol(v,i),p=d.row,g=d.col,y=[{field:s,value:h,values:l}],w=hr(t,n.getFacetDataFilter(y)),x={type:n.cfg.type,data:w,region:n.getRegion(c,i,g,p),columnValue:h,rowValue:h,columnField:s,rowField:null,columnIndex:g,rowIndex:p,columnValuesLength:i,rowValuesLength:c,total:u};f.push(x)}),f},e.prototype.getXAxisOption=function(t,n,a,i){return i.rowIndex!==i.rowValuesLength-1&&i.columnValuesLength*i.rowIndex+i.columnIndex+1+i.columnValuesLength<=i.total?b(b({},a),{label:null,title:null}):a},e.prototype.getYAxisOption=function(t,n,a,i){return i.columnIndex!==0?b(b({},a),{title:null,label:null}):a},e.prototype.renderTitle=function(){var t=this;M(this.facets,function(n){var a=n.columnValue,i=n.view,o=O(t.cfg.title,"formatter"),s=G({position:["50%","0%"],content:o?o(a):a},tn(V.TOP),t.cfg.title);i.annotation().text(s)})},e.prototype.getPageCount=function(t,n){return Math.floor((t+n-1)/n)},e.prototype.getRowCol=function(t,n){var a=Math.floor(t/n),i=t%n;return{row:a,col:i}},e}(Qa),kY=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return G({},r.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:b({},r.prototype.getDefaultTitleCfg.call(this)),rowTitle:b({},r.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.generateFacets=function(t){for(var n=this.cfg,a=n.fields,i=n.type,o=a.length,s=o,l=[],u=0;u<s;u++)for(var c=a[u],f=0;f<o;f++){var h=a[f],v={type:i,data:t,region:this.getRegion(o,s,u,f),columnValue:c,rowValue:h,columnField:c,rowField:h,columnIndex:u,rowIndex:f,columnValuesLength:s,rowValuesLength:o};l.push(v)}return l},e.prototype.getXAxisOption=function(t,n,a,i){return i.rowIndex!==i.rowValuesLength-1?b(b({},a),{label:null,title:null}):a},e.prototype.getYAxisOption=function(t,n,a,i){return i.columnIndex!==0?b(b({},a),{title:null,label:null}):a},e.prototype.renderTitle=function(){var t=this;M(this.facets,function(n,a){var i=n.columnIndex,o=n.rowIndex,s=n.columnValuesLength;n.rowValuesLength;var l=n.columnValue,u=n.rowValue,c=n.view;if(o===0){var f=O(t.cfg.columnTitle,"formatter"),h=G({position:["50%","0%"],content:f?f(l):l},tn(V.TOP),t.cfg.columnTitle);c.annotation().text(h)}if(i===s-1){var f=O(t.cfg.rowTitle,"formatter"),h=G({position:["100%","50%"],content:f?f(u):u},tn(V.RIGHT),t.cfg.rowTitle);c.annotation().text(h)}})},e}(Qa),AY=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return G({},r.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,n){this.cfg.transpose?n.columnIndex%2===0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():n.rowIndex%2!==0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.generateFacets=function(t){var n=this,a=q(this.cfg.fields,1),i=a[0],o=[],s=1,l=1,u=[""],c=[""],f,h;return this.cfg.transpose?(f=i,u=this.getFieldValues(t,f).slice(0,2),s=u.length):(h=i,c=this.getFieldValues(t,h).slice(0,2),l=c.length),u.forEach(function(v,d){c.forEach(function(p,g){var y=[{field:f,value:v,values:u},{field:h,value:p,values:c}],w=hr(t,n.getFacetDataFilter(y)),x={type:n.cfg.type,data:w,region:n.getRegion(l,s,d,g),columnValue:v,rowValue:p,columnField:f,rowField:h,columnIndex:d,rowIndex:g,columnValuesLength:s,rowValuesLength:l};o.push(x)})}),o},e.prototype.getXAxisOption=function(t,n,a,i){return i.columnIndex===1||i.rowIndex===1?b(b({},a),{label:null,title:null}):a},e.prototype.getYAxisOption=function(t,n,a,i){return a},e.prototype.renderTitle=function(){var t=this;M(this.facets,function(n,a){var i=n.columnValue,o=n.rowValue,s=n.view,l=O(t.cfg.title,"formatter");if(t.cfg.transpose){var u=G({position:["50%","0%"],content:l?l(i):i},tn(V.TOP),t.cfg.title);s.annotation().text(u)}else{var u=G({position:["100%","50%"],content:l?l(o):o},tn(V.RIGHT),t.cfg.title);s.annotation().text(u)}})},e}(Qa),DY=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.getDefaultCfg=function(){return G({},r.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:b({},r.prototype.getDefaultTitleCfg.call(this)),rowTitle:b({},r.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var n=this,a=q(this.cfg.fields,2),i=a[0],o=a[1],s=[],l=1,u=1,c=[""],f=[""];return i&&(c=this.getFieldValues(t,i),l=c.length),o&&(f=this.getFieldValues(t,o),u=f.length),c.forEach(function(h,v){f.forEach(function(d,p){var g=[{field:i,value:h,values:c},{field:o,value:d,values:f}],y=hr(t,n.getFacetDataFilter(g)),w={type:n.cfg.type,data:y,region:n.getRegion(u,l,v,p),columnValue:h,rowValue:d,columnField:i,rowField:o,columnIndex:v,rowIndex:p,columnValuesLength:l,rowValuesLength:u};s.push(w)})}),s},e.prototype.renderTitle=function(){var t=this;M(this.facets,function(n,a){var i=n.columnIndex,o=n.rowIndex,s=n.columnValuesLength,l=n.columnValue,u=n.rowValue,c=n.view;if(o===0){var f=O(t.cfg.columnTitle,"formatter"),h=G({position:["50%","0%"],content:f?f(l):l},tn(V.TOP),t.cfg.columnTitle);c.annotation().text(h)}if(i===s-1){var f=O(t.cfg.rowTitle,"formatter"),h=G({position:["100%","50%"],content:f?f(u):u},tn(V.RIGHT),t.cfg.rowTitle);c.annotation().text(h)}})},e.prototype.getXAxisOption=function(t,n,a,i){return i.rowIndex!==i.rowValuesLength-1?b(b({},a),{title:null,label:null}):i.columnIndex!==Math.floor((i.columnValuesLength-1)/2)?b(b({},a),{title:null}):a},e.prototype.getYAxisOption=function(t,n,a,i){return i.columnIndex!==0?b(b({},a),{title:null,label:null}):i.rowIndex!==Math.floor((i.rowValuesLength-1)/2)?b(b({},a),{title:null}):a},e}(Qa),_Y=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.init=function(){r.prototype.init.call(this),this.view.on(Yt.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return G({},r.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){var n=this.cfg.fields;if(!n.length)throw new Error("Please specify for the fields for rootFacet!");var a=[],i={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return a.push(i),i.children=this.getChildFacets(t,1,a),this.setRegion(a),a},e.prototype.setRegion=function(t){var n=this;this.forceColIndex(t),t.forEach(function(a){a.region=n.getRegion(a.rowValuesLength,a.columnValuesLength,a.columnIndex,a.rowIndex)})},e.prototype.getRegion=function(t,n,a,i){var o=1/n,s=1/t,l={x:o*a,y:s*i},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},e.prototype.forceColIndex=function(t){var n,a,i=this,o=[],s=0;t.forEach(function(d){i.isLeaf(d)&&(o.push(d),d.columnIndex=s,s++)}),o.forEach(function(d){d.columnValuesLength=o.length});for(var l=this.cfg.fields.length,u=l-1;u>=0;u--){var c=this.getFacetsByLevel(t,u);try{for(var f=(n=void 0,St(c)),h=f.next();!h.done;h=f.next()){var v=h.value;this.isLeaf(v)||(v.originColIndex=v.columnIndex,v.columnIndex=this.getRegionIndex(v.children),v.columnValuesLength=o.length)}}catch(d){n={error:d}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}}},e.prototype.getFacetsByLevel=function(t,n){var a=[];return t.forEach(function(i){i.rowIndex===n&&a.push(i)}),a},e.prototype.getRegionIndex=function(t){var n=t[0],a=t[t.length-1];return(a.columnIndex-n.columnIndex)/2+n.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,n,a){var i=this,o=this.cfg.fields,s=o.length;if(!(s<n)){var l=[],u=o[n-1],c=this.getFieldValues(t,u);return c.forEach(function(f,h){var v=[{field:u,value:f,values:c}],d=t.filter(i.getFacetDataFilter(v));if(d.length){var p={type:i.cfg.type,data:d,region:null,columnValue:f,rowValue:"",columnField:u,rowField:"",columnIndex:h,rowValuesLength:i.getRows(),columnValuesLength:1,rowIndex:n,children:i.getChildFacets(d,n+1,a)};l.push(p),a.push(p)}}),l}},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;M(this.facets,function(n){var a=n.columnValue,i=n.view,o=O(t.cfg.title,"formatter"),s=G({position:["50%","0%"],content:o?o(a):a},tn(V.TOP),t.cfg.title);i.annotation().text(s)})},e.prototype.drawLines=function(t){var n=this;t.forEach(function(a){if(!n.isLeaf(a)){var i=a.children;n.addFacetLines(a,i)}})},e.prototype.addFacetLines=function(t,n){var a=this,i=t.view,o=i.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};n.forEach(function(l){var u=l.view.coordinateBBox,c={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},f={x:s.x,y:s.y+(c.y-s.y)/2},h={x:c.x,y:f.y};a.drawLine([s,f,h,c])})},e.prototype.getPath=function(t){var n=[],a=this.cfg.line.smooth;return a?(n.push(["M",t[0].x,t[0].y]),n.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(i,o){o===0?n.push(["M",i.x,i.y]):n.push(["L",i.x,i.y])}),n},e.prototype.drawLine=function(t){var n=this.getPath(t),a=this.cfg.line.style;this.container.addShape("path",{attrs:Jt({path:n},a)})},e.prototype.getXAxisOption=function(t,n,a,i){return i.rowIndex!==i.rowValuesLength-1?b(b({},a),{title:null,label:null}):a},e.prototype.getYAxisOption=function(t,n,a,i){return i.originColIndex!==0&&i.columnIndex!==0?b(b({},a),{title:null,label:null}):a},e}(Qa);function jm(r){var e=Dt([],q(r),!1);e.sort(function(n,a){return n-a});var t=e.length;return t===0?0:t%2===1?e[(t-1)/2]:(e[t/2]+e[t/2-1])/2}function EY(r){var e=ox(r,function(t,n){return t+=isNaN(n)||!Pt(n)?0:n},0);return r.length===0?0:e/r.length}function Xo(r,e){if(!e)return null;var t;switch(r){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{t=e.isCategory?jm(e.values.map(function(n,a){return a})):jm(e.values);break}case"mean":{t=e.isCategory?(e.values.length-1)/2:EY(e.values);break}case"min":t=e.isCategory?0:e[r];break;case"max":t=e.isCategory?e.values.length-1:e[r];break;default:t=r;break}return e.scale(t)}var Uo=["regionFilter","shape"],IY=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(te.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(te.BG).addGroup(),n.option=[],n}return Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var t=this;this.onAfterRender(function(){var a=new Map;M(t.option,function(i){if(Hn(Uo,i.type)){var o=t.updateOrCreate(i);o&&a.set(t.getCacheKey(i),o)}}),t.cache=t.syncCache(a)});var n=new Map;M(this.option,function(a){if(!Hn(Uo,a.type)){var i=t.updateOrCreate(a);i&&n.set(t.getCacheKey(a),i)}}),this.cache=this.syncCache(n)},e.prototype.clear=function(t){t===void 0&&(t=!1),r.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},e.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},e.prototype.onAfterRender=function(t){var n=!1;this.view.getOptions().animate&&this.view.geometries.forEach(function(a){a.animateOption&&(a.once(wn.AFTER_DRAW_ANIMATE,function(){t()}),n=!0)}),n||this.view.getRootView().once(Yt.AFTER_RENDER,function(){t()})},e.prototype.createAnnotation=function(t){var n=t.type,a=UI[sa(n)];if(a){var i=this.getAnnotationTheme(n),o=this.getAnnotationCfg(n,t,i);if(!o)return null;var s=new a(o);return{component:s,layer:this.isTop(o)?te.FORE:te.BG,direction:V.NONE,type:ye.ANNOTATION,extra:t}}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation(b({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation(b({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation(b({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation(b({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation(b({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation(b({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation(b({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation(b({type:"regionFilter"},t))},e.prototype.shape=function(t){this.annotation(b({type:"shape"},t))},e.prototype.html=function(t){this.annotation(b({type:"html"},t))},e.prototype.parsePosition=function(t){var n,a,i=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=J(t)?t.call(null,i,o):t,l=0,u=0;if(Y(s)){var c=q(s,2),f=c[0],h=c[1];if(ct(f)&&f.indexOf("%")!==-1&&!isNaN(f.slice(0,-1)))return this.parsePercentPosition(s);l=Xo(f,i),u=Xo(h,Object.values(o)[0])}else if(!B(s))try{for(var v=St(oo(s)),d=v.next();!d.done;d=v.next()){var p=d.value,g=s[p];p===i.field&&(l=Xo(g,i)),o[p]&&(u=Xo(g,o[p]))}}catch(y){n={error:y}}finally{try{d&&!d.done&&(a=v.return)&&a.call(v)}finally{if(n)throw n.error}}return isNaN(l)||isNaN(u)?null:this.view.getCoordinate().convert({x:l,y:u})},e.prototype.getRegionPoints=function(t,n){var a=this,i=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=i.field,u=this.view.getData(),c=Y(t)?t[0]:t[l],f=Y(n)?n[0]:n[l],h=[],v;return M(u,function(d,p){if(d[l]===c&&(v=p),p>=v){var g=a.parsePosition([d[l],d[s.field]]);g&&h.push(g)}if(d[l]===f)return!1}),h},e.prototype.parsePercentPosition=function(t){var n=parseFloat(t[0])/100,a=parseFloat(t[1])/100,i=this.view.getCoordinate(),o=i.start,s=i.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=i.getWidth()*n+l.x,c=i.getHeight()*a+l.y;return{x:u,y:c}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),n=t.start,a=t.end,i=t.getWidth(),o=t.getHeight(),s={x:Math.min(n.x,a.x),y:Math.min(n.y,a.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+i,maxY:s.y+o,width:i,height:o}},e.prototype.getAnnotationCfg=function(t,n,a){var i=this,o=this.view.getCoordinate(),s=this.view.getCanvas(),l={};if(B(n))return null;var u=n.start,c=n.end,f=n.position,h=this.parsePosition(u),v=this.parsePosition(c),d=this.parsePosition(f);if(["arc","image","line","region","regionFilter"].includes(t)&&(!h||!v))return null;if(["text","dataMarker","html"].includes(t)&&!d)return null;if(t==="arc"){var p=n;p.start,p.end;var g=be(p,["start","end"]),y=za(o,h),w=za(o,v);y>w&&(w=Math.PI*2+w),l=b(b({},g),{center:o.getCenter(),radius:Ru(o,h),startAngle:y,endAngle:w})}else if(t==="image"){var x=n;x.start,x.end;var g=be(x,["start","end"]);l=b(b({},g),{start:h,end:v,src:n.src})}else if(t==="line"){var m=n;m.start,m.end;var g=be(m,["start","end"]);l=b(b({},g),{start:h,end:v,text:O(n,"text",null)})}else if(t==="region"){var C=n;C.start,C.end;var g=be(C,["start","end"]);l=b(b({},g),{start:h,end:v})}else if(t==="text"){var S=this.view.getData(),T=n;T.position;var A=T.content,g=be(T,["position","content"]),k=A;J(A)&&(k=A(S)),l=b(b(b({},d),g),{content:k})}else if(t==="dataMarker"){var D=n;D.position;var $=D.point,L=D.line,F=D.text,X=D.autoAdjust,j=D.direction,g=be(D,["position","point","line","text","autoAdjust","direction"]);l=b(b(b({},g),d),{coordinateBBox:this.getCoordinateBBox(),point:$,line:L,text:F,autoAdjust:X,direction:j})}else if(t==="dataRegion"){var Z=n,ot=Z.start,dt=Z.end,ut=Z.region,F=Z.text,nt=Z.lineLength,g=be(Z,["start","end","region","text","lineLength"]);l=b(b({},g),{points:this.getRegionPoints(ot,dt),region:ut,text:F,lineLength:nt})}else if(t==="regionFilter"){var rt=n;rt.start,rt.end;var wt=rt.apply,Et=rt.color,g=be(rt,["start","end","apply","color"]),zt=this.view.geometries,gt=[],Gt=function(Ot){Ot&&(Ot.isGroup()?Ot.getChildren().forEach(function(N){return Gt(N)}):gt.push(Ot))};M(zt,function(Ot){wt?Hn(wt,Ot.type)&&M(Ot.elements,function(N){Gt(N.shape)}):M(Ot.elements,function(N){Gt(N.shape)})}),l=b(b({},g),{color:Et,shapes:gt,start:h,end:v})}else if(t==="shape"){var Ct=n,xt=Ct.render,st=be(Ct,["render"]),ft=function(xe){if(J(n.render))return xt(xe,i.view,{parsePosition:i.parsePosition.bind(i)})};l=b(b({},st),{render:ft})}else if(t==="html"){var qt=n,ce=qt.html;qt.position;var st=be(qt,["html","position"]),Ye=function(Ot){return J(ce)?ce(Ot,i.view):ce};l=b(b(b({},st),d),{parent:s.get("el").parentNode,html:Ye})}var ne=G({},a,b(b({},l),{top:n.top,style:n.style,offsetX:n.offsetX,offsetY:n.offsetY}));return t!=="html"&&(ne.container=this.getComponentContainer(ne)),ne.animate=this.view.getOptions().animate&&ne.animate&&O(n,"animate",ne.animate),ne.animateOption=G({},Xa,ne.animateOption,n.animateOption),ne},e.prototype.isTop=function(t){return O(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return O(this.view.getTheme(),["components","annotation",t],{})},e.prototype.updateOrCreate=function(t){var n=this.cache.get(this.getCacheKey(t));if(n){var a=t.type,i=this.getAnnotationTheme(a),o=this.getAnnotationCfg(a,t,i);o&&ze(o,["container"]),n.component.update(b(b({},o||{}),{visible:!!o})),Hn(Uo,t.type)&&n.component.render()}else n=this.createAnnotation(t),n&&(n.component.init(),Hn(Uo,t.type)&&n.component.render());return n},e.prototype.syncCache=function(t){var n=this,a=new Map(this.cache);return t.forEach(function(i,o){a.set(o,i)}),a.forEach(function(i,o){jr(n.option,function(s){return o===n.getCacheKey(s)})||(i.component.destroy(),a.delete(o))}),a},e.prototype.getCacheKey=function(t){return t},e}(Ja);function Qm(r,e){var t=G({},O(r,["components","axis","common"]),O(r,["components","axis",e]));return O(t,["grid"],{})}function qo(r,e,t,n){var a=[],i=e.getTicks();return r.isPolar&&i.push({value:1,text:"",tickValue:""}),i.reduce(function(o,s,l){var u=s.value;if(n)a.push({points:[r.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),r.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var c=o.value,f=(c+u)/2;a.push({points:[r.convert(t==="y"?{x:0,y:f}:{x:f,y:0}),r.convert(t==="y"?{x:1,y:f}:{x:f,y:1})]})}return s},i[0]),a}function _c(r,e,t,n,a){var i=e.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var c=l?l.value:u.value,f=u.value,h=(c+f)/2;return a==="x"?o.push({points:[r.convert({x:n?f:h,y:0}),r.convert({x:n?f:h,y:1})]}):o.push({points:Le(Array(i+1),function(v,d){return r.convert({x:d/i,y:n?f:h})})}),u},s[0]),o}function Zm(r,e){var t=O(e,"grid");if(t===null)return!1;var n=O(r,"grid");return!(t===void 0&&n===null)}var on=["container"],Km=b(b({},Xa),{appear:null}),RY=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(te.BG).addGroup(),n.gridForeContainer=n.view.getLayer(te.FORE).addGroup(),n.axisContainer=n.view.getLayer(te.BG).addGroup(),n.axisForeContainer=n.view.getLayer(te.FORE).addGroup(),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,n=this.view.getCoordinate();M(this.getComponents(),function(a){var i=a.component,o=a.direction,s=a.type,l=a.extra,u=l.dim,c=l.scale,f=l.alignTick,h;if(s===ye.AXIS)n.isPolar?u==="x"?h=n.isTransposed?Lo(n,o):Cc(n):u==="y"&&(h=n.isTransposed?Cc(n):Lo(n,o)):h=Lo(n,o);else if(s===ye.GRID)if(n.isPolar){var v=void 0;n.isTransposed?v=u==="x"?_c(n,t.view.getYScales()[0],c,f,u):qo(n,c,u,f):v=u==="x"?qo(n,c,u,f):_c(n,t.view.getXScale(),c,f,u),h={items:v,center:t.view.getCoordinate().getCenter()}}else h={items:qo(n,c,u,f)};i.update(h)})},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var n=new Map;this.cache.forEach(function(a,i){t.has(i)?n.set(i,a):a.component.destroy()}),this.cache=n},e.prototype.clear=function(){r.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},e.prototype.updateXAxes=function(t){var n=this.view.getXScale();if(!(!n||n.isIdentity)){var a=Wl(this.option,n.field);if(a!==!1){var i=sm(a,V.BOTTOM),o=te.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",n.field),c=this.getId("grid",n.field);if(l.isRect){var f=this.cache.get(u);if(f){var h=this.getLineAxisCfg(n,a,i);ze(h,on),f.component.update(h),t.set(u,f)}else f=this.createLineAxis(n,a,o,i,s),this.cache.set(u,f),t.set(u,f);var v=this.cache.get(c);if(v){var h=this.getLineGridCfg(n,a,i,s);ze(h,on),v.component.update(h),t.set(c,v)}else v=this.createLineGrid(n,a,o,i,s),v&&(this.cache.set(c,v),t.set(c,v))}else if(l.isPolar){var f=this.cache.get(u);if(f){var h=l.isTransposed?this.getLineAxisCfg(n,a,V.RADIUS):this.getCircleAxisCfg(n,a,i);ze(h,on),f.component.update(h),t.set(u,f)}else{if(l.isTransposed){if(ba(a))return;f=this.createLineAxis(n,a,o,V.RADIUS,s)}else f=this.createCircleAxis(n,a,o,i,s);this.cache.set(u,f),t.set(u,f)}var v=this.cache.get(c);if(v){var h=l.isTransposed?this.getCircleGridCfg(n,a,V.RADIUS,s):this.getLineGridCfg(n,a,V.CIRCLE,s);ze(h,on),v.component.update(h),t.set(c,v)}else{if(l.isTransposed){if(ba(a))return;v=this.createCircleGrid(n,a,o,V.RADIUS,s)}else v=this.createLineGrid(n,a,o,V.CIRCLE,s);v&&(this.cache.set(c,v),t.set(c,v))}}}}},e.prototype.updateYAxes=function(t){var n=this,a=this.view.getYScales();M(a,function(i,o){if(!(!i||i.isIdentity)){var s=i.field,l=Wl(n.option,s);if(l!==!1){var u=te.BG,c="y",f=n.getId("axis",s),h=n.getId("grid",s),v=n.view.getCoordinate();if(v.isRect){var d=sm(l,o===0?V.LEFT:V.RIGHT),p=n.cache.get(f);if(p){var g=n.getLineAxisCfg(i,l,d);ze(g,on),p.component.update(g),t.set(f,p)}else p=n.createLineAxis(i,l,u,d,c),n.cache.set(f,p),t.set(f,p);var y=n.cache.get(h);if(y){var g=n.getLineGridCfg(i,l,d,c);ze(g,on),y.component.update(g),t.set(h,y)}else y=n.createLineGrid(i,l,u,d,c),y&&(n.cache.set(h,y),t.set(h,y))}else if(v.isPolar){var p=n.cache.get(f);if(p){var g=v.isTransposed?n.getCircleAxisCfg(i,l,V.CIRCLE):n.getLineAxisCfg(i,l,V.RADIUS);ze(g,on),p.component.update(g),t.set(f,p)}else{if(v.isTransposed){if(ba(l))return;p=n.createCircleAxis(i,l,u,V.CIRCLE,c)}else p=n.createLineAxis(i,l,u,V.RADIUS,c);n.cache.set(f,p),t.set(f,p)}var y=n.cache.get(h);if(y){var g=v.isTransposed?n.getLineGridCfg(i,l,V.CIRCLE,c):n.getCircleGridCfg(i,l,V.RADIUS,c);ze(g,on),y.component.update(g),t.set(h,y)}else{if(v.isTransposed){if(ba(l))return;y=n.createLineGrid(i,l,u,V.CIRCLE,c)}else y=n.createCircleGrid(i,l,u,V.RADIUS,c);y&&(n.cache.set(h,y),t.set(h,y))}}}}})},e.prototype.createLineAxis=function(t,n,a,i,o){var s={component:new GR(this.getLineAxisCfg(t,n,i)),layer:a,direction:i===V.RADIUS?V.NONE:i,type:ye.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createLineGrid=function(t,n,a,i,o){var s=this.getLineGridCfg(t,n,i,o);if(s){var l={component:new XR(s),layer:a,direction:V.NONE,type:ye.GRID,extra:{dim:o,scale:t,alignTick:O(s,"alignTick",!0)}};return l.component.init(),l}},e.prototype.createCircleAxis=function(t,n,a,i,o){var s={component:new WR(this.getCircleAxisCfg(t,n,i)),layer:a,direction:i,type:ye.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createCircleGrid=function(t,n,a,i,o){var s=this.getCircleGridCfg(t,n,i,o);if(s){var l={component:new UR(s),layer:a,direction:V.NONE,type:ye.GRID,extra:{dim:o,scale:t,alignTick:O(s,"alignTick",!0)}};return l.component.init(),l}},e.prototype.getLineAxisCfg=function(t,n,a){var i=O(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=Lo(o,a),l=lm(t,n),u=Bo(this.view.getTheme(),a),c=O(n,["title"])?G({title:{style:{text:l}}},{title:om(this.view.getTheme(),a,n.title)},n):n,f=G(b(b({container:i},s),{ticks:t.getTicks().map(function(x){return{id:"".concat(x.tickValue),name:x.text,value:x.value}}),verticalFactor:o.isPolar?im(s,o.getCenter())*-1:im(s,o.getCenter()),theme:u}),u,c),h=this.getAnimateCfg(f),v=h.animate,d=h.animateOption;f.animateOption=d,f.animate=v;var p=rb(s),g=O(f,"verticalLimitLength",p?1/3:1/2);if(g<=1){var y=this.view.getCanvas().get("width"),w=this.view.getCanvas().get("height");f.verticalLimitLength=g*(p?y:w)}return f},e.prototype.getLineGridCfg=function(t,n,a,i){if(Zm(Bo(this.view.getTheme(),a),n)){var o=Qm(this.view.getTheme(),a),s=G({container:O(n,["top"])?this.gridForeContainer:this.gridContainer},o,O(n,"grid"),this.getAnimateCfg(n));return s.items=qo(this.view.getCoordinate(),t,i,O(s,"alignTick",!0)),s}},e.prototype.getCircleAxisCfg=function(t,n,a){var i=O(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(p){return{id:"".concat(p.tickValue),name:p.text,value:p.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.length&&(s[s.length-1].name="");var l=lm(t,n),u=Bo(this.view.getTheme(),V.CIRCLE),c=O(n,["title"])?G({title:{style:{text:l}}},{title:om(this.view.getTheme(),a,n.title)},n):n,f=G(b(b({container:i},Cc(this.view.getCoordinate())),{ticks:s,verticalFactor:1,theme:u}),u,c),h=this.getAnimateCfg(f),v=h.animate,d=h.animateOption;return f.animate=v,f.animateOption=d,f},e.prototype.getCircleGridCfg=function(t,n,a,i){if(Zm(Bo(this.view.getTheme(),a),n)){var o=Qm(this.view.getTheme(),V.RADIUS),s=G({container:O(n,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,O(n,"grid"),this.getAnimateCfg(n)),l=O(s,"alignTick",!0),u=i==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=_c(this.view.getCoordinate(),u,t,l,i),s}},e.prototype.getId=function(t,n){var a=this.view.getCoordinate();return"".concat(t,"-").concat(n,"-").concat(a.type)},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&O(t,"animate"),animateOption:t&&t.animateOption?G({},Km,t.animateOption):Km}},e}(Ja);function mn(r,e,t){return t===V.TOP?[r.minX+r.width/2-e.width/2,r.minY]:t===V.BOTTOM?[r.minX+r.width/2-e.width/2,r.maxY-e.height]:t===V.LEFT?[r.minX,r.minY+r.height/2-e.height/2]:t===V.RIGHT?[r.maxX-e.width,r.minY+r.height/2-e.height/2]:t===V.TOP_LEFT||t===V.LEFT_TOP?[r.tl.x,r.tl.y]:t===V.TOP_RIGHT||t===V.RIGHT_TOP?[r.tr.x-e.width,r.tr.y]:t===V.BOTTOM_LEFT||t===V.LEFT_BOTTOM?[r.bl.x,r.bl.y-e.height]:t===V.BOTTOM_RIGHT||t===V.RIGHT_BOTTOM?[r.br.x-e.width,r.br.y-e.height]:[0,0]}function Jm(r,e){return Ni(r)?r===!1?!1:{}:O(r,[e],r)}function jo(r){return O(r,"position",V.BOTTOM)}var LY=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;return n.container=n.view.getLayer(te.FORE).addGroup(),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,M(this.components,function(n){var a=n.component,i=n.direction,o=Mc(i),s=a.get("maxWidthRatio"),l=a.get("maxHeightRatio"),u=t.getCategoryLegendSizeCfg(o,s,l),c=a.get("maxWidth"),f=a.get("maxHeight");a.update({maxWidth:Math.min(u.maxWidth,c||0),maxHeight:Math.min(u.maxHeight,f||0)});var h=a.get("padding"),v=a.getLayoutBBox(),d=new Fe(v.x,v.y,v.width,v.height).expand(h),p=q(mn(t.view.viewBBox,d,i),2),g=p[0],y=p[1],w=q(mn(t.layoutBBox,d,i),2),x=w[0],m=w[1],C=0,S=0;i.startsWith("top")||i.startsWith("bottom")?(C=g,S=m):(C=x,S=y),a.setLocation({x:C+h[3],y:S+h[0]}),t.layoutBBox=t.layoutBBox.cut(d,i)})},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var n={},a=function(h,v,d){var p=t.getId(d.field),g=t.getComponentById(p);if(g){var y=void 0,w=Jm(t.option,d.field);w!==!1&&(O(w,"custom")?y=t.getCategoryCfg(h,v,d,w,!0):d.isLinear?y=t.getContinuousCfg(h,v,d,w):d.isCategory&&(y=t.getCategoryCfg(h,v,d,w))),y&&(ze(y,["container"]),g.direction=jo(w),g.component.update(y),n[p]=!0)}else{var x=t.createFieldLegend(h,v,d);x&&(x.component.init(),t.components.push(x),n[p]=!0)}};if(O(this.option,"custom")){var i="global-custom",o=this.getComponentById(i);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);ze(s,["container"]),o.component.update(s),n[i]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=te.FORE,c=jo(this.option);this.components.push({id:i,component:l,layer:u,direction:c,type:ye.LEGEND,extra:void 0}),n[i]=!0}}}else this.loopLegends(a);var f=[];M(this.getComponents(),function(h){n[h.id]?f.push(h):h.component.destroy()}),this.components=f},e.prototype.clear=function(){r.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var n=this,a=t.geometries;return M(t.views,function(i){a=a.concat(n.getGeometries(i))}),a},e.prototype.loopLegends=function(t){var n=this.view.getRootView()===this.view;if(n){var a=this.getGeometries(this.view),i={};M(a,function(o){var s=o.getGroupAttributes();M(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||i[u.field]||(t(o,l,u),i[u.field]=!0)})})}},e.prototype.createFieldLegend=function(t,n,a){var i,o=Jm(this.option,a.field),s=te.FORE,l=jo(o);if(o!==!1&&(O(o,"custom")?i=this.createCustomLegend(t,n,a,o):a.isLinear?i=this.createContinuousLegend(t,n,a,o):a.isCategory&&(i=this.createCategoryLegend(t,n,a,o))),i)return i.set("field",a.field),{id:this.getId(a.field),component:i,layer:s,direction:l,type:ye.LEGEND,extra:{scale:a}}},e.prototype.createCustomLegend=function(t,n,a,i){var o=this.getCategoryCfg(t,n,a,i,!0);return new rm(o)},e.prototype.createContinuousLegend=function(t,n,a,i){var o=this.getContinuousCfg(t,n,a,ze(i,["value"]));return new qR(o)},e.prototype.createCategoryLegend=function(t,n,a,i){var o=this.getCategoryCfg(t,n,a,i);return new rm(o)},e.prototype.getContinuousCfg=function(t,n,a,i){var o=a.getTicks(),s=jr(o,function(p){return p.value===0}),l=jr(o,function(p){return p.value===1}),u=o.map(function(p){var g=p.value,y=p.tickValue,w=n.mapping(a.invert(g)).join("");return{value:y,attrValue:w,color:w,scaleValue:g}});s||u.push({value:a.min,attrValue:n.mapping(a.invert(0)).join(""),color:n.mapping(a.invert(0)).join(""),scaleValue:0}),l||u.push({value:a.max,attrValue:n.mapping(a.invert(1)).join(""),color:n.mapping(a.invert(1)).join(""),scaleValue:1}),u.sort(function(p,g){return p.value-g.value});var c={min:rr(u).value,max:Me(u).value,colors:[],rail:{type:n.type},track:{}};n.type==="size"&&(c.track={style:{fill:n.type==="size"?this.view.getTheme().defaultColor:void 0}}),n.type==="color"&&(c.colors=u.map(function(p){return p.attrValue}));var f=this.container,h=jo(i),v=Mc(h),d=O(i,"title");return d&&(d=G({text:Ji(a)},d)),c.container=f,c.layout=v,c.title=d,c.animateOption=Xa,this.mergeLegendCfg(c,i,"continuous")},e.prototype.getCategoryCfg=function(t,n,a,i,o){var s=this.container,l=O(i,"position",V.BOTTOM),u=bm(this.view.getTheme(),l),c=O(u,["marker"]),f=O(i,"marker"),h=Mc(l),v=O(u,["pageNavigator"]),d=O(i,"pageNavigator"),p=o?wB(c,f,i.items):xB(this.view,t,n,c,f),g=O(i,"title");g&&(g=G({text:a?Ji(a):""},g));var y=O(i,"maxWidthRatio"),w=O(i,"maxHeightRatio"),x=this.getCategoryLegendSizeCfg(h,y,w);x.container=s,x.layout=h,x.items=p,x.title=g,x.animateOption=Xa,x.pageNavigator=G({},v,d);var m=this.mergeLegendCfg(x,i,l);m.reversed&&m.items.reverse();var C=O(m,"maxItemWidth");return C&&C<=1&&(m.maxItemWidth=this.view.viewBBox.width*C),m},e.prototype.mergeLegendCfg=function(t,n,a){var i=a.split("-")[0],o=bm(this.view.getTheme(),i);return G({},o,t,n)},e.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},e.prototype.getComponentById=function(t){return jr(this.components,function(n){return n.id===t})},e.prototype.getCategoryLegendSizeCfg=function(t,n,a){n===void 0&&(n=Lg),a===void 0&&(a=Lg);var i=this.view.viewBBox,o=i.width,s=i.height;return t==="vertical"?{maxWidth:o*n,maxHeight:s}:{maxWidth:o,maxHeight:s*a}},e}(Ja),BY=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;return n.onChangeFn=pn,n.resetMeasure=function(){n.clear()},n.onValueChange=function(a){var i=q(a,2),o=i[0],s=i[1];n.start=o,n.end=s,n.changeViewData(o,s)},n.container=n.view.getLayer(te.FORE).addGroup(),n.onChangeFn=Qv(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(Yt.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(Yt.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){r.prototype.destroy.call(this),this.view.off(Yt.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(Yt.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),n=t.start,a=t.end;B(this.start)&&(this.start=n,this.end=a);var i=this.view.getOptions().data;this.option&&!Yr(i)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var n=this.view.coordinateBBox.width,a=this.slider.component.get("padding"),i=q(a,4),o=i[0];i[1],i[2];var s=i[3],l=this.slider.component.getLayoutBBox(),u=new Fe(l.x,l.y,Math.min(l.width,n),l.height).expand(a),c=this.getMinMaxText(this.start,this.end),f=c.minText,h=c.maxText,v=q(mn(this.view.viewBBox,u,V.BOTTOM),2);v[0];var d=v[1],p=q(mn(this.view.coordinateBBox,u,V.BOTTOM),2),g=p[0];p[1],this.slider.component.update(b(b({},this.getSliderCfg()),{x:g+s,y:d+o,width:this.width,start:this.start,end:this.end,minText:f,maxText:h})),this.view.viewBBox=this.view.viewBBox.cut(u,V.BOTTOM)}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),n=new VR(b({container:this.container},t));return n.init(),{component:n,layer:te.FORE,direction:V.BOTTOM,type:ye.SLIDER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var n=this.getMinMaxText(this.start,this.end),a=n.minText,i=n.maxText;t=b(b({},t),{width:this.width,start:this.start,end:this.end,minText:a,maxText:i})}return this.slider.component.update(t),this.slider},e.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},e.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Vt(this.option)){var n=b({data:this.getData()},O(this.option,"trendCfg",{}));t=G({},t,this.getThemeOptions(),this.option),t=b(b({},t),{trendCfg:n})}return t.start=Ut(Math.min(B(t.start)?0:t.start,B(t.end)?1:t.end),0,1),t.end=Ut(Math.max(B(t.start)?0:t.start,B(t.end)?1:t.end),0,1),t},e.prototype.getData=function(){var t=this.view.getOptions().data,n=q(this.view.getYScales(),1),a=n[0],i=this.view.getGroupScales();if(i.length){var o=i[0],s=o.field,l=o.ticks;return t.reduce(function(u,c){return c[s]===l[0]&&u.push(c[a.field]),u},[])}return t.map(function(u){return u[a.field]||0})},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return O(t,["components","slider","common"],{})},e.prototype.getMinMaxText=function(t,n){var a=this.view.getOptions().data,i=this.view.getXScale(),o=Zr(a,i.field);i.isLinear&&(o=o.sort());var s=o,l=qe(a);if(!i||!l)return{};var u=qe(s),c=Math.round(t*(u-1)),f=Math.round(n*(u-1)),h=O(s,[c]),v=O(s,[f]),d=this.getSliderCfg().formatter;return d&&(h=d(h,a[c],c),v=d(v,a[f],f)),{minText:h,maxText:v}},e.prototype.changeViewData=function(t,n){var a=this.view.getOptions().data,i=this.view.getXScale(),o=qe(a);if(!(!i||!o)){var s=Zr(a,i.field),l=this.view.getXScale().isLinear?s.sort(function(v,d){return Number(v)-Number(d)}):s,u=l,c=qe(u),f=Math.round(t*(c-1)),h=Math.round(n*(c-1));this.view.filter(i.field,function(v,d){var p=u.indexOf(v);return p>-1?Ta(p,f,h):!0}),this.view.render(!0)}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},e}(Ja),Qo=0,t0=8,FY=32,$Y=20,YY=function(r){_(e,r);function e(t){var n=r.call(this,t)||this;return n.onChangeFn=pn,n.resetMeasure=function(){n.clear()},n.onValueChange=function(a){var i=a.ratio,o=n.getValidScrollbarCfg().animate;n.ratio=Ut(i,0,1);var s=n.view.getOptions().animate;o||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(s)},n.container=n.view.getLayer(te.FORE).addGroup(),n.onChangeFn=Qv(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(Yt.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(Yt.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){r.prototype.destroy.call(this),this.view.off(Yt.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(Yt.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var n=this.view.coordinateBBox.width,a=this.scrollbar.component.get("padding"),i=this.scrollbar.component.getLayoutBBox(),o=new Fe(i.x,i.y,Math.min(i.width,n),i.height).expand(a),s=this.getScrollbarComponentCfg(),l=void 0,u=void 0;if(s.isHorizontal){var c=q(mn(this.view.viewBBox,o,V.BOTTOM),2);c[0];var f=c[1],h=q(mn(this.view.coordinateBBox,o,V.BOTTOM),2),v=h[0];h[1],l=v,u=f}else{var d=q(mn(this.view.viewBBox,o,V.RIGHT),2);d[0];var f=d[1],p=q(mn(this.view.viewBBox,o,V.RIGHT),2),v=p[0];p[1],l=v,u=f}l+=a[3],u+=a[0],this.trackLen?this.scrollbar.component.update(b(b({},s),{x:l,y:u,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(b(b({},s),{x:l,y:u})),this.view.viewBBox=this.view.viewBBox.cut(o,s.isHorizontal?V.BOTTOM:V.RIGHT)}},e.prototype.update=function(){this.render()},e.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},e.prototype.setValue=function(t){this.onValueChange({ratio:t})},e.prototype.getValue=function(){return this.ratio},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return O(t,["components","scrollbar","common"],{})},e.prototype.getScrollbarTheme=function(t){var n=O(this.view.getTheme(),["components","scrollbar"]),a=t||{},i=a.thumbHighlightColor,o=be(a,["thumbHighlightColor"]);return{default:G({},O(n,["default","style"],{}),o),hover:G({},O(n,["hover","style"],{}),{thumbColor:i})}},e.prototype.measureScrollbar=function(){var t=this.view.getXScale(),n=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var a=this.getScrollbarComponentCfg(),i=a.trackLen,o=a.thumbLen;this.trackLen=i,this.thumbLen=o,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=n},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*Ut(this.ratio,0,1)),n=Math.min(t+this.step-1,this.cnt-1);return[t,n]},e.prototype.changeViewData=function(t,n){var a=this,i=q(t,2),o=i[0],s=i[1],l=this.getValidScrollbarCfg().type,u=l!=="vertical",c=Zr(this.data,this.xScaleCfg.field),f=this.view.getXScale().isLinear?c.sort(function(v,d){return Number(v)-Number(d)}):c,h=u?f:f.reverse();this.yScalesCfg.forEach(function(v){a.view.scale(v.field,{formatter:v.formatter,type:v.type,min:v.min,max:v.max,tickMethod:v.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(v){var d=h.indexOf(v);return d>-1?Ta(d,o,s):!0}),this.view.render(!0)},e.prototype.createScrollbar=function(){var t=this.getValidScrollbarCfg().type,n=t!=="vertical",a=new zR(b(b({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return a.init(),{component:a,layer:te.FORE,direction:n?V.BOTTOM:V.RIGHT,type:ye.SCROLLBAR}},e.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),n=this.trackLen?b(b({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):b({},t);return this.scrollbar.component.update(n),this.scrollbar},e.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,n=this.getValidScrollbarCfg(),a=n.type,i=n.categorySize,o=a!=="vertical";return Math.floor((o?t.width:t.height)/i)},e.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),n=this.getScrollbarData(),a=Zr(n,t.field);return qe(a)},e.prototype.getScrollbarComponentCfg=function(){var t=this.view,n=t.coordinateBBox,a=t.viewBBox,i=this.getValidScrollbarCfg(),o=i.type,s=i.padding,l=i.width,u=i.height,c=i.style,f=o!=="vertical",h=q(s,4),v=h[0],d=h[1],p=h[2],g=h[3],y=f?{x:n.minX+g,y:a.maxY-u-p}:{x:a.maxX-l-d,y:n.minY+v},w=this.getStep(),x=this.getCnt(),m=f?n.width-g-d:n.height-v-p,C=Math.max(m*Ut(w/x,0,1),$Y);return b(b({},this.getThemeOptions()),{x:y.x,y:y.y,size:f?u:l,isHorizontal:f,trackLen:m,thumbLen:C,thumbOffset:0,theme:this.getScrollbarTheme(c)})},e.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:FY,width:t0,height:t0,padding:[0,0,0,0],animate:!0,style:{}};return Vt(this.option)&&(t=b(b({},t),this.option)),(!Vt(this.option)||!this.option.padding)&&(t.padding=t.type==="horizontal"?[Qo,0,Qo,0]:[0,Qo,0,Qo]),t},e.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),n=this.getValidScrollbarCfg(),a=this.view.getOptions().data||[];return t.isReflect("y")&&n.type==="vertical"&&(a=Dt([],q(a),!1).reverse()),a},e}(Ja),NY={fill:"#CCD6EC",opacity:.3};function VY(r,e,t){var n,a,i,o,s,l,u=WL(r,e,t);if(u.length){u=ar(u);try{for(var c=St(u),f=c.next();!f.done;f=c.next()){var h=f.value;try{for(var v=(i=void 0,St(h)),d=v.next();!d.done;d=v.next()){var p=d.value,g=p.mappingData,y=g.x,w=g.y;p.x=Y(y)?y[y.length-1]:y,p.y=Y(w)?w[w.length-1]:w}}catch(D){i={error:D}}finally{try{d&&!d.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}}}catch(D){n={error:D}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}var x=t.shared;if(x===!1&&u.length>1){var m=u[0],C=Math.abs(e.y-m[0].y);try{for(var S=St(u),T=S.next();!T.done;T=S.next()){var A=T.value,k=Math.abs(e.y-A[0].y);k<=C&&(m=A,C=k)}}catch(D){s={error:D}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}u=[m]}return sx(ar(u))}return[]}var HY=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.show=function(t){var n=this.context.view,a=this.context.event,i=n.getController("tooltip").getTooltipCfg(),o=VY(n,{x:a.x,y:a.y},i);if(!ve(o,this.items)&&(this.items=o,o.length)){var s=n.getXScale().field,l=o[0].data[s],u=[],c=n.geometries;if(M(c,function(dt){if(dt.type==="interval"||dt.type==="schema"){var ut=dt.getElementsBy(function(nt){var rt=nt.getData();return rt[s]===l});u=u.concat(ut)}}),u.length){var f=n.getCoordinate(),h=u[0].shape.getCanvasBBox(),v=u[0].shape.getCanvasBBox(),d=h;M(u,function(dt){var ut=dt.shape.getCanvasBBox();f.isTransposed?(ut.minY<h.minY&&(h=ut),ut.maxY>v.maxY&&(v=ut)):(ut.minX<h.minX&&(h=ut),ut.maxX>v.maxX&&(v=ut)),d.x=Math.min(ut.minX,d.minX),d.y=Math.min(ut.minY,d.minY),d.width=Math.max(ut.maxX,d.maxX)-d.x,d.height=Math.max(ut.maxY,d.maxY)-d.y});var p=n.backgroundGroup,g=n.coordinateBBox,y=void 0;if(f.isRect){var w=n.getXScale(),x=t||{},m=x.appendRatio,C=x.appendWidth;B(C)&&(m=B(m)?w.isLinear?0:.25:m,C=f.isTransposed?m*v.height:m*h.width);var S=void 0,T=void 0,A=void 0,k=void 0;f.isTransposed?(S=g.minX,T=Math.min(v.minY,h.minY)-C,A=g.width,k=d.height+C*2):(S=Math.min(h.minX,v.minX)-C,T=g.minY,A=d.width+C*2,k=g.height),y=[["M",S,T],["L",S+A,T],["L",S+A,T+k],["L",S,T+k],["Z"]]}else{var D=rr(u),$=Me(u),L=Gl(D.getModel(),f).startAngle,F=Gl($.getModel(),f).endAngle,X=f.getCenter(),j=f.getRadius(),Z=f.innerRadius*j;y=Qn(X.x,X.y,j,L,F,Z)}if(this.regionPath)this.regionPath.attr("path",y),this.regionPath.show();else{var ot=O(t,"style",NY);this.regionPath=p.addShape({type:"path",name:"active-region",capture:!1,attrs:b(b({},ot),{path:y})})}}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),r.prototype.destroy.call(this)},e}(de),mC=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.show=function(){var t=this.context,n=t.event,a=t.view,i=a.isTooltipLocked();if(!i){var o=this.timeStamp,s=+new Date,l=O(t.view.getOptions(),"tooltip.showDelay",16);if(s-o>l){var u=this.location,c={x:n.x,y:n.y};(!u||!ve(u,c))&&this.showTooltip(a,c),this.timeStamp=s,this.location=c}}},e.prototype.hide=function(){var t=this.context.view,n=t.getController("tooltip"),a=this.context.event,i=a.clientX,o=a.clientY;n.isCursorEntered({x:i,y:o})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,n){t.showTooltip(n)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}(de),zY=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.showTooltip=function(t,n){var a=Fr(t);M(a,function(i){var o=uv(t,i,n);i.showTooltip(o)})},e.prototype.hideTooltip=function(t){var n=Fr(t);M(n,function(a){a.hideTooltip()})},e}(mC),GY=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context,n=t.event,a=this.timeStamp,i=+new Date;if(i-a>16){var o=this.location,s={x:n.x,y:n.y};(!o||!ve(o,s))&&this.showTooltip(s),this.timeStamp=i,this.location=s}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var n=this.context,a=n.event,i=a.target;if(i&&i.get("tip")){this.tooltip||this.renderTooltip();var o=i.get("tip");this.tooltip.update(b({title:o},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,n=this.context.view,a=n.canvas,i={start:{x:0,y:0},end:{x:a.get("width"),y:a.get("height")}},o=n.getTheme(),s=O(o,["components","tooltip","domStyles"],{}),l=new Iu({parent:a.get("el").parentNode,region:i,visible:!1,crosshairs:null,domStyles:b({},G({},s,(t={},t[Kr]={"max-width":"50%"},t[Jr]={"word-break":"break-all"},t)))});l.init(),l.setCapture(!1),this.tooltip=l},e}(de),Wd=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="",t}return e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,n){t.setState(this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var n=this,a=gb(t,this.stateName);M(a,function(i){n.setElementState(i,!1)})},e}(de);function e0(r){return O(r.get("delegateObject"),"item")}var Xd=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return e.prototype.isItemIgnore=function(t,n){var a=this.ignoreListItemStates,i=a.filter(function(o){return n.hasState(t,o)});return!!i.length},e.prototype.setStateByComponent=function(t,n,a){var i=this.context.view,o=t.get("field"),s=Te(i);this.setElementsStateByItem(s,o,n,a)},e.prototype.setStateByElement=function(t,n){this.setElementState(t,n)},e.prototype.isMathItem=function(t,n,a){var i=this.context.view,o=Wa(i,n),s=Sr(t,n);return!B(s)&&a.name===o.getText(s)},e.prototype.setElementsStateByItem=function(t,n,a,i){var o=this;M(t,function(s){o.isMathItem(s,n,a)&&s.setState(o.stateName,i)})},e.prototype.setStateEnable=function(t){var n=Tn(this.context);if(n)hb(this.context)&&this.setStateByElement(n,t);else{var a=Ga(this.context);if(to(a)){var i=a.item,o=a.component;if(i&&o&&!this.isItemIgnore(i,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&e0(s.fromShape)===e0(s.toShape))return;this.setStateByComponent(o,i,t)}}}},e.prototype.toggle=function(){var t=Tn(this.context);if(t){var n=t.hasState(this.stateName);this.setElementState(t,!n)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(Wd),WY=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(Xd),XY=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cache={},t}return e.prototype.getColorScale=function(t,n){var a=n.geometry.getAttribute("color");if(!a)return null;var i=t.getScaleByField(a.getFields()[0]);return i},e.prototype.getLinkPath=function(t,n){var a=this.context.view,i=a.getCoordinate().isTransposed,o=t.shape.getCanvasBBox(),s=n.shape.getCanvasBBox(),l=i?[["M",o.minX,o.minY],["L",s.minX,s.maxY],["L",s.maxX,s.maxY],["L",o.maxX,o.minY],["Z"]]:[["M",o.maxX,o.minY],["L",s.minX,s.minY],["L",s.minX,s.maxY],["L",o.maxX,o.maxY],["Z"]];return l},e.prototype.addLinkShape=function(t,n,a,i){var o={opacity:.4,fill:n.shape.attr("fill")};t.addShape({type:"path",attrs:b(b({},G({},o,J(i)?i(o,n):i)),{path:this.getLinkPath(n,a)})})},e.prototype.linkByElement=function(t,n){var a=this,i=this.context.view,o=this.getColorScale(i,t);if(o){var s=Sr(t,o.field);if(!this.cache[s]){var l=SL(i,o.field,s),u=this.linkGroup,c=u.addGroup();this.cache[s]=c;var f=l.length;M(l,function(h,v){if(v<f-1){var d=l[v+1];a.addLinkShape(c,h,d,n)}})}}},e.prototype.removeLink=function(t){var n=this.getColorScale(this.context.view,t);if(n){var a=Sr(t,n.field);this.cache[a]&&(this.cache[a].remove(),this.cache[a]=null)}},e.prototype.link=function(t){var n=this.context;this.linkGroup||(this.linkGroup=n.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var a=Tn(n);a&&this.linkByElement(a,t==null?void 0:t.style)},e.prototype.unlink=function(){var t=Tn(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(de),Ud=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if(eo(this.context))t=Cd(this.context,10);else{var n=this.startPoint,a=this.isStarted?this.getCurrentPoint():this.endPoint;if(!n||!a)return;var i={minX:Math.min(n.x,a.x),minY:Math.min(n.y,a.y),maxX:Math.max(n.x,a.x),maxY:Math.max(n.y,a.y)},o=this.context.view;t=Bu(o,i)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var n=Te(this.context.view),a=this.getIntersectElements();a&&a.length?this.effectByRecord?this.setSiblingsStateByRecord(a,t):this.setElementsState(a,t,n):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,n){var a=this,i=this.context.view,o=Fr(i),s=t.map(function(c){return c.getModel().data}),l=i.getXScale().field,u=i.getYScales()[0].field;M(o,function(c){var f=Te(c),h=f.filter(function(v){var d=v.getModel().data;return xb(s,d,l,u)});a.setElementsState(h,n,f)})},e.prototype.setSiblingsState=function(t){var n=this,a=this.context.view,i=Fr(a);eo(this.context)&&M(i,function(o){var s=Te(o),l=db(n.context,o,10);l&&l.length?n.setElementsState(l,t,s):n.clearViewState(o)})},e.prototype.setElementsState=function(t,n,a){var i=this;M(a,function(o){t.includes(o)?i.setElementState(o,n):i.setElementState(o,!1)})},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,n=this.context.view;if(this.effectSiblings){var a=Fr(n);M(a,function(i){t.clearViewState(i)})}else this.clearViewState(n)},e}(Wd),UY=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(Ud),qd=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setStateEnable=function(t){var n=Tn(this.context);if(n){if(!hb(this.context))return;t?(this.clear(),this.setElementState(n,!0)):this.hasState(n)&&this.setElementState(n,!1)}},e.prototype.toggle=function(){var t=Tn(this.context);if(t){var n=this.hasState(t);n||this.clear(),this.setElementState(t,!n)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(Wd),qY=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(qd),Ri="inactive",Li="active";function jd(r){var e=Te(r);M(e,function(t){t.hasState(Li)&&t.setState(Li,!1),t.hasState(Ri)&&t.setState(Ri,!1)})}function xC(r,e,t){M(r,function(n){e(n)?(n.hasState(Ri)&&n.setState(Ri,!1),n.setState(Li,t)):(n.hasState(Li)&&n.setState(Li,!1),n.setState(Ri,t))})}var Wn=Dl.INACTIVE,Xr=Dl.ACTIVE,Qd=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=Xr,t}return e.prototype.setElementsStateByItem=function(t,n,a,i){var o=this,s=function(l){return o.isMathItem(l,n,a)};this.setHighlightBy(t,s,i)},e.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(Wn)&&t.setState(Wn,!1),t.setState(Xr,!0)):t.hasState(Xr)||t.setState(Wn,!0)},e.prototype.setHighlightBy=function(t,n,a){var i=this;if(a)M(t,function(l){i.setElementHighlight(l,n)});else{var o=gb(this.context.view,Xr),s=!0;M(o,function(l){if(!n(l))return s=!1,!1}),s?this.clear():M(t,function(l){n(l)&&(l.hasState(Xr)&&l.setState(Xr,!1),l.setState(Wn,!0))})}},e.prototype.setElementState=function(t,n){var a=this.context.view,i=Te(a);this.setHighlightBy(i,function(o){return t===o},n)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.context.view;jd(t)},e}(Xd),jY=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setStateByElement=function(t,n){var a=this.context.view,i=t.geometry.getAttribute("color");if(i){var o=a.getScaleByField(i.getFields()[0]),s=Sr(t,o.field),l=Te(a),u=l.filter(function(c){return Sr(c,o.field)===s});this.setHighlightBy(l,function(c){return u.includes(c)},n)}},e}(Qd),QY=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(Wn)&&t.setState(Wn,!1),t.setState(Xr,!0)):(t.setState(Wn,!0),t.hasState(Xr)&&t.setState(Xr,!1))},e.prototype.setStateByElement=function(t,n){var a=this.context.view,i=a.getXScale(),o=Sr(t,i.field),s=Te(a),l=s.filter(function(u){return Sr(u,i.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},n)},e.prototype.toggle=function(){var t=Tn(this.context);if(t){var n=t.hasState(this.stateName);this.setStateByElement(t,!n)}},e}(Qd),Dr;(function(r){r.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",r.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",r.BEFORE_CLEAR="element-range-highlight:beforeclear",r.AFTER_CLEAR="element-range-highlight:afterclear"})(Dr||(Dr={}));var wC=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.clearViewState=function(t){jd(t)},e.prototype.highlight=function(){var t=this.context,n=t.view,a=t.event,i=this.getIntersectElements(),o={view:n,event:a,highlightElements:i};n.emit(Dr.BEFORE_HIGHLIGHT,De.fromData(n,Dr.BEFORE_HIGHLIGHT,o)),this.setState(),n.emit(Dr.AFTER_HIGHLIGHT,De.fromData(n,Dr.AFTER_HIGHLIGHT,o))},e.prototype.clear=function(){var t=this.context.view;t.emit(Dr.BEFORE_CLEAR,De.fromData(t,Dr.BEFORE_CLEAR,{})),r.prototype.clear.call(this),t.emit(Dr.AFTER_CLEAR,De.fromData(t,Dr.AFTER_CLEAR,{}))},e.prototype.setElementsState=function(t,n,a){xC(a,function(i){return t.indexOf(i)>=0},n)},e}(Ud),ZY=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,n){var a=this.context.view,i=Te(a);xC(i,function(o){return t===o},n)},e.prototype.clear=function(){var t=this.context.view;jd(t)},e}(qd),KY=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(Ud),JY=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(Xd),tN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(qd),la=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return e.prototype.getTriggerListInfo=function(){var t=Ga(this.context),n=null;return to(t)&&(n={item:t.item,list:t.component}),n},e.prototype.getAllowComponents=function(){var t=this,n=this.context.view,a=mb(n),i=[];return M(a,function(o){o.isList()&&t.allowSetStateByElement(o)&&i.push(o)}),i},e.prototype.hasState=function(t,n){return t.hasState(n,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,n=this.getAllowComponents();M(n,function(a){a.clearItemsState(t.stateName)})},e.prototype.allowSetStateByElement=function(t){var n=t.get("field");if(!n)return!1;if(this.cfg&&this.cfg.componentNames){var a=t.get("name");if(this.cfg.componentNames.indexOf(a)===-1)return!1}var i=this.context.view,o=Wa(i,n);return o&&o.isCategory},e.prototype.allowSetStateByItem=function(t,n){var a=this.ignoreItemStates;if(a.length){var i=a.filter(function(o){return n.hasState(t,o)});return i.length===0}return!0},e.prototype.setStateByElement=function(t,n,a){var i=t.get("field"),o=this.context.view,s=Wa(o,i),l=Sr(n,i),u=s.getText(l);this.setItemsState(t,u,a)},e.prototype.setStateEnable=function(t){var n=this,a=Tn(this.context);if(a){var i=this.getAllowComponents();M(i,function(u){n.setStateByElement(u,a,t)})}else{var o=Ga(this.context);if(to(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},e.prototype.setItemsState=function(t,n,a){var i=this,o=t.getItems();M(o,function(s){s.name===n&&i.setItemState(t,s,a)})},e.prototype.setItemState=function(t,n,a){t.setItemState(n,this.stateName,a)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,a=t.item,i=this.hasState(n,a);this.setItemState(n,a,!i)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(de),eN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(la),r0="inactive",n0="active";function rN(r){var e=r.getItems();M(e,function(t){r.hasState(t,n0)&&r.setItemState(t,n0,!1),r.hasState(t,r0)&&r.setItemState(t,r0,!1)})}var xi="inactive",$n="active",Zd=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=$n,t.ignoreItemStates=["unchecked"],t}return e.prototype.setItemsState=function(t,n,a){this.setHighlightBy(t,function(i){return i.name===n},a)},e.prototype.setItemState=function(t,n,a){t.getItems(),this.setHighlightBy(t,function(i){return i===n},a)},e.prototype.setHighlightBy=function(t,n,a){var i=t.getItems();if(a)M(i,function(l){n(l)?(t.hasState(l,xi)&&t.setItemState(l,xi,!1),t.setItemState(l,$n,!0)):t.hasState(l,$n)||t.setItemState(l,xi,!0)});else{var o=t.getItemsByState($n),s=!0;M(o,function(l){if(!n(l))return s=!1,!1}),s?this.clear():M(i,function(l){n(l)&&(t.hasState(l,$n)&&t.setItemState(l,$n,!1),t.setItemState(l,xi,!0))})}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)rN(t.list);else{var n=this.getAllowComponents();M(n,function(a){a.clearItemsState($n),a.clearItemsState(xi)})}},e}(la),nN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(la),aN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="unchecked",t}return e.prototype.unchecked=function(){this.setState()},e}(la),ya="unchecked",Zo="checked",iN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=Zo,t}return e.prototype.setItemState=function(t,n,a){this.setCheckedBy(t,function(i){return i===n},a)},e.prototype.setCheckedBy=function(t,n,a){var i=t.getItems();a&&M(i,function(o){n(o)?(t.hasState(o,ya)&&t.setItemState(o,ya,!1),t.setItemState(o,Zo,!0)):t.hasState(o,Zo)||t.setItemState(o,ya,!0)})},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,a=t.item,i=!ou(n.getItems(),function(o){return n.hasState(o,ya)});i||n.hasState(a,ya)?this.setItemState(n,a,!0):this.reset()}},e.prototype.checked=function(){this.setState()},e.prototype.reset=function(){var t=this.getAllowComponents();M(t,function(n){n.clearItemsState(Zo),n.clearItemsState(ya)})},e}(la),ma="unchecked",oN=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.toggle=function(){var t,n,a,i,o,s,l,u,c=this.getTriggerListInfo();if(c!=null&&c.item){var f=c.list,h=c.item,v=f.getItems(),d=v.filter(function(D){return!f.hasState(D,ma)}),p=v.filter(function(D){return f.hasState(D,ma)}),g=d[0];if(v.length===d.length)try{for(var y=St(v),w=y.next();!w.done;w=y.next()){var x=w.value;f.setItemState(x,ma,x.id!==h.id)}}catch(D){t={error:D}}finally{try{w&&!w.done&&(n=y.return)&&n.call(y)}finally{if(t)throw t.error}}else if(v.length-p.length===1)if(g.id===h.id)try{for(var m=St(v),C=m.next();!C.done;C=m.next()){var x=C.value;f.setItemState(x,ma,!1)}}catch(D){a={error:D}}finally{try{C&&!C.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}else try{for(var S=St(v),T=S.next();!T.done;T=S.next()){var x=T.value;f.setItemState(x,ma,x.id!==h.id)}}catch(D){o={error:D}}finally{try{T&&!T.done&&(s=S.return)&&s.call(S)}finally{if(o)throw o.error}}else try{for(var A=St(v),k=A.next();!k.done;k=A.next()){var x=k.value;f.setItemState(x,ma,x.id!==h.id)}}catch(D){l={error:D}}finally{try{k&&!k.done&&(u=A.return)&&u.call(A)}finally{if(l)throw l.error}}}},e}(la),a0="showRadio",Ec="legend-radio-tip",sN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.show=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var n=t.list,a=t.item;n.setItemState(a,a0,!0)}},e.prototype.hide=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var n=t.list,a=t.item;n.setItemState(a,a0,!1)}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.showTip=function(){var t=this.context,n=t.event,a=this.timeStamp,i=+new Date,o=this.context.event.target;if(i-a>16&&o.get("name")==="legend-item-radio"){var s=this.location,l={x:n.x,y:n.y};this.timeStamp=i,this.location=l,(!s||!ve(s,l))&&this.showTooltip(l)}},e.prototype.hideTip=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var n=this.context,a=n.event,i=a.target;if(i&&i.get("tip")){this.tooltip||this.renderTooltip();var o=n.view.getCanvas().get("el").getBoundingClientRect(),s=o.x,l=o.y;this.tooltip.update(b(b({title:i.get("tip")},t),{x:t.x+s,y:t.y+l})),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,n=(t={},t[Kr]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[Jr]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(Ec)&&document.body.removeChild(document.getElementById(Ec));var a=new Iu({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:n,containerId:Ec});a.init(),a.setCapture(!1),this.tooltip=a},e}(la),Kd=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var n="mask:".concat(t),a=this.context.view,i=this.context.event;a.emit(n,{target:this.maskShape,shape:this.maskShape,points:this.points,x:i.x,y:i.y})},e.prototype.createMask=function(){var t=this.context.view,n=this.getMaskAttrs(),a=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:b({fill:"#C5D4EB",opacity:.3},n)});return a},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),n=this.preMovePoint,a=t.x-n.x,i=t.y-n.y,o=this.points;M(o,function(s){s.x+=a,s.y+=i}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(t){var n=G({},this.getMaskAttrs(),t);this.maskShape.attr(n)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,r.prototype.destroy.call(this)},e}(de);function bC(r){var e=Me(r),t=0,n=0,a=0;if(r.length){var i=r[0];t=Sd(i,e)/2,n=(e.x+i.x)/2,a=(e.y+i.y)/2}return{x:n,y:a,r:t}}var lN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="circle",t}return e.prototype.getMaskAttrs=function(){return bC(this.points)},e}(Kd);function CC(r){return{start:rr(r),end:Me(r)}}function SC(r,e){var t=Math.min(r.x,e.x),n=Math.min(r.y,e.y),a=Math.abs(e.x-r.x),i=Math.abs(e.y-r.y);return{x:t,y:n,width:a,height:i}}var MC=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="rect",t}return e.prototype.getRegion=function(){return CC(this.points)},e.prototype.getMaskAttrs=function(){var t=this.getRegion(),n=t.start,a=t.end;return SC(n,a)},e}(Kd);function i0(r){r.x=Ut(r.x,0,1),r.y=Ut(r.y,0,1)}function TC(r,e,t,n){var a=null,i=null,o=n.invert(rr(r)),s=n.invert(Me(r));return t&&(i0(o),i0(s)),e==="x"?(a=n.convert({x:o.x,y:0}),i=n.convert({x:s.x,y:1})):(a=n.convert({x:0,y:o.y}),i=n.convert({x:1,y:s.y})),{start:a,end:i}}var PC=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return e.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return TC(this.points,this.dim,this.inPlot,t)},e}(MC);function Jd(r){var e=[];return r.length&&(M(r,function(t,n){n===0?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])}),e.push(["L",r[0].x,r[0].y])),e}function OC(r){return{path:Jd(r)}}var kC=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){return Jd(this.points)},e.prototype.getMaskAttrs=function(){return OC(this.points)},e.prototype.addPoint=function(){this.resize()},e}(Kd);function tp(r){return TL(r,!0)}function AC(r){return{path:tp(r)}}var uN=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){return tp(this.points)},e.prototype.getMaskAttrs=function(){return AC(this.points)},e}(kC),ep=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.maskShapes=[],t.starting=!1,t.moving=!1,t.recordPoints=null,t.preMovePoint=null,t.shapeType="path",t.maskType="multi-mask",t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var n="".concat(this.maskType,":").concat(t),a=this.context.view,i=this.context.event,o={type:this.shapeType,name:this.maskType,get:function(s){return o.hasOwnProperty(s)?o[s]:void 0}};a.emit(n,{target:o,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:i.x,y:i.y})},e.prototype.createMask=function(t){var n=this.context.view,a=this.recordPoints[t],i=this.getMaskAttrs(a),o=n.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:b({fill:"#C5D4EB",opacity:.3},i)});this.maskShapes.push(o)},e.prototype.getMaskPath=function(t){return[]},e.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.show()}),this.emitEvent("show"))},e.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1;var n=this.recordPoints.length-1;this.createMask(n),this.updateShapesCapture(!1),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},e.prototype.move=function(){if(!(!this.moving||this.maskShapes.length===0)){var t=this.getCurrentPoint(),n=this.preMovePoint,a=t.x-n.x,i=t.y-n.y,o=this.getCurMaskShapeIndex();o>-1&&(this.recordPoints[o].forEach(function(s){s.x+=a,s.y+=i}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},e.prototype.updateMask=function(t){var n=this;this.recordPoints.forEach(function(a,i){var o=G({},n.getMaskAttrs(a),t);n.maskShapes[i].attr(o)})},e.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},e.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.hide()}),this.emitEvent("hide"))},e.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},e.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach(function(t){return t.remove()}),this.maskShapes=[],this.preMovePoint=null},e.prototype.clear=function(){var t=this.getCurMaskShapeIndex();t===-1?(this.recordPointClear(),this.maskShapes.forEach(function(n){return n.remove()}),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},e.prototype.destroy=function(){this.clear(),r.prototype.destroy.call(this)},e.prototype.getRecordPoints=function(){var t;return Dt([],q((t=this.recordPoints)!==null&&t!==void 0?t:[]),!1)},e.prototype.recordPointStart=function(){var t=this.getRecordPoints(),n=this.getCurrentPoint();this.recordPoints=Dt(Dt([],q(t),!1),[[n]],!1)},e.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),n=this.getCurrentPoint(),a=t.splice(-1,1)[0]||[];a.push(n),this.recordPoints=Dt(Dt([],q(t),!1),[a],!1)},e.prototype.recordPointClear=function(){this.recordPoints=[]},e.prototype.updateShapesCapture=function(t){this.maskShapes.forEach(function(n){return n.set("capture",t)})},e.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex(function(n){var a=n.attrs,i=a.width,o=a.height,s=a.r,l=i===0||o===0||s===0;return!l&&n.isHit(t.x,t.y)})},e}(de),DC=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="rect",t}return e.prototype.getRegion=function(t){return CC(t)},e.prototype.getMaskAttrs=function(t){var n=this.getRegion(t),a=n.start,i=n.end;return SC(a,i)},e}(ep),_C=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return e.prototype.getRegion=function(t){var n=this.context.view.getCoordinate();return TC(t,this.dim,this.inPlot,n)},e}(DC),cN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="circle",t.getMaskAttrs=bC,t}return e}(ep),EC=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.getMaskPath=Jd,t.getMaskAttrs=OC,t}return e.prototype.addPoint=function(){this.resize()},e}(ep),fN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.getMaskPath=tp,t.getMaskAttrs=AC,t}return e}(EC),hN=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setCursor=function(t){var n=this.context.view;n.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e.prototype.zoomIn=function(){this.setCursor("zoom-in")},e.prototype.zoomOut=function(){this.setCursor("zoom-out")},e}(de),vN=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filterView=function(t,n,a){var i=this;t.getScaleByField(n)&&t.filter(n,a),t.views&&t.views.length&&M(t.views,function(o){i.filterView(o,n,a)})},e.prototype.filter=function(){var t=Ga(this.context);if(t){var n=this.context.view,a=t.component,i=a.get("field");if(to(t)){if(i){var o=a.getItemsByState("unchecked"),s=Wa(n,i),l=o.map(function(v){return v.name});l.length?this.filterView(n,i,function(v){var d=s.getText(v);return!l.includes(d)}):this.filterView(n,i,null),n.render(!0)}}else if(vb(t)){var u=a.getValue(),c=q(u,2),f=c[0],h=c[1];this.filterView(n,i,function(v){return v>=f&&v<=h}),n.render(!0)}}},e}(de);function o0(r,e,t,n){var a=Math.min(t[e],n[e]),i=Math.max(t[e],n[e]),o=q(r.range,2),s=o[0],l=o[1];if(a<s&&(a=s),i>l&&(i=l),a===l&&i===l)return null;var u=r.invert(a),c=r.invert(i);if(r.isCategory){var f=r.values.indexOf(u),h=r.values.indexOf(c),v=r.values.slice(f,h+1);return function(d){return v.includes(d)}}else return function(d){return d>=u&&d<=c}}var sr;(function(r){r.FILTER="brush-filter-processing",r.RESET="brush-filter-reset",r.BEFORE_FILTER="brush-filter:beforefilter",r.AFTER_FILTER="brush-filter:afterfilter",r.BEFORE_RESET="brush-filter:beforereset",r.AFTER_RESET="brush-filter:afterreset"})(sr||(sr={}));var Nu=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,n;if(eo(this.context)){var a=this.context.event.target,i=a.getCanvasBBox();t={x:i.x,y:i.y},n={x:i.maxX,y:i.maxY}}else{if(!this.isStarted)return;t=this.startPoint,n=this.context.getCurrentPoint()}if(!(Math.abs(t.x-n.x)<5||Math.abs(t.x-n.y)<5)){var o=this.context,s=o.view,l=o.event,u={view:s,event:l,dims:this.dims};s.emit(sr.BEFORE_FILTER,De.fromData(s,sr.BEFORE_FILTER,u));var c=s.getCoordinate(),f=c.invert(n),h=c.invert(t);if(this.hasDim("x")){var v=s.getXScale(),d=o0(v,"x",f,h);this.filterView(s,v.field,d)}if(this.hasDim("y")){var p=s.getYScales()[0],d=o0(p,"y",f,h);this.filterView(s,p.field,d)}this.reRender(s,{source:sr.FILTER}),s.emit(sr.AFTER_FILTER,De.fromData(s,sr.AFTER_FILTER,u))}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(t.emit(sr.BEFORE_RESET,De.fromData(t,sr.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var n=t.getXScale();this.filterView(t,n.field,null)}if(this.hasDim("y")){var a=t.getYScales()[0];this.filterView(t,a.field,null)}this.reRender(t,{source:sr.RESET}),t.emit(sr.AFTER_RESET,De.fromData(t,sr.AFTER_RESET,{}))},e.prototype.filterView=function(t,n,a){t.filter(n,a)},e.prototype.reRender=function(t,n){t.render(!0,n)},e}(de),rp=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filterView=function(t,n,a){var i=Fr(t);M(i,function(o){o.filter(n,a)})},e.prototype.reRender=function(t){var n=Fr(t);M(n,function(a){a.render(!0)})},e}(Nu),dN=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filter=function(){var t=Ga(this.context),n=this.context.view,a=Te(n);if(eo(this.context)){var i=Cd(this.context,10);i&&M(a,function(p){i.includes(p)?p.show():p.hide()})}else if(t){var o=t.component,s=o.get("field");if(to(t)){if(s){var l=o.getItemsByState("unchecked"),u=Wa(n,s),c=l.map(function(p){return p.name});M(a,function(p){var g=Sr(p,s),y=u.getText(g);c.indexOf(y)>=0?p.hide():p.show()})}}else if(vb(t)){var f=o.getValue(),h=q(f,2),v=h[0],d=h[1];M(a,function(p){var g=Sr(p,s);g>=v&&g<=d?p.show():p.hide()})}}},e.prototype.clear=function(){var t=Te(this.context.view);M(t,function(n){n.show()})},e.prototype.reset=function(){this.clear()},e}(de),IC=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.byRecord=!1,t}return e.prototype.filter=function(){eo(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,n=Cd(this.context,10);if(n){var a=t.getXScale().field,i=t.getYScales()[0].field,o=n.map(function(l){return l.getModel().data}),s=Fr(t);M(s,function(l){var u=Te(l);M(u,function(c){var f=c.getModel().data;xb(o,f,a,i)?c.show():c.hide()})})}},e.prototype.filterByBBox=function(){var t=this,n=this.context.view,a=Fr(n);M(a,function(i){var o=db(t.context,i,10),s=Te(i);o&&M(s,function(l){o.includes(l)?l.show():l.hide()})})},e.prototype.reset=function(){var t=Fr(this.context.view);M(t,function(n){var a=Te(n);M(a,function(i){i.show()})})},e}(de),pN=10,gN=5,yN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return e.prototype.getButtonCfg=function(){return G(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),a=n.addShape({type:"text",name:"button-text",attrs:b({text:t.text},t.textStyle)}),i=a.getBBox(),o=Md(t.padding),s=n.addShape({type:"rect",name:"button-rect",attrs:b({x:i.x-o[3],y:i.y-o[0],width:i.width+o[1]+o[3],height:i.height+o[0]+o[2]},t.style)});s.toBack(),n.on("mouseenter",function(){s.attr(t.activeStyle)}),n.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=n},e.prototype.resetPosition=function(){var t=this.context.view,n=t.getCoordinate(),a=n.convert({x:1,y:1}),i=this.buttonGroup,o=i.getBBox(),s=oe(null,[["t",a.x-o.width-pN,a.y+o.height+gN]]);i.setMatrix(s)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),r.prototype.destroy.call(this)},e}(de),mN=4,xN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),n=this.context.view,a=this.context.event;this.dragStart?n.emit("drag",{target:a.target,x:a.x,y:a.y}):Sd(t,this.startPoint)>mN&&(n.emit("dragstart",{target:a.target,x:a.x,y:a.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,n=this.context.event;t.emit("dragend",{target:n.target,x:n.x,y:n.y})}this.starting=!1,this.dragStart=!1},e}(de),wN=5,bN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(this.starting){var t=this.startPoint,n=this.context.getCurrentPoint(),a=Sd(t,n);if(a>wN&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var i=this.context.view,o=oe(this.startMatrix,[["t",n.x-t.x,n.y-t.y]]);i.backgroundGroup.setMatrix(o),i.foregroundGroup.setMatrix(o),i.middleGroup.setMatrix(o)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(de),s0="x",l0="y",RC=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dims=[s0,l0],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var n=this.context.view;return t==="x"?n.getXScale():n.getYScales()[0]},e.prototype.resetDim=function(t){var n=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var a=this.getScale(t);n.scale(a.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim(s0),this.resetDim(l0);var t=this.context.view;t.render(!0)},e}(de),CN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var n=this.dims;M(n,function(a){var i=t.getScale(a),o=i.min,s=i.max,l=i.values;t.startCache[a]={min:o,max:s,values:l}})},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(this.starting){var n=this.startPoint,a=this.context.view.getCoordinate(),i=this.context.getCurrentPoint(),o=a.invert(n),s=a.invert(i),l=s.x-o.x,u=s.y-o.y,c=this.context.view,f=this.dims;M(f,function(h){t.translateDim(h,{x:l*-1,y:u*-1})}),c.render(!0)}},e.prototype.translateDim=function(t,n){if(this.hasDim(t)){var a=this.getScale(t);a.isLinear&&this.translateLinear(t,a,n)}},e.prototype.translateLinear=function(t,n,a){var i=this.context.view,o=this.startCache[t],s=o.min,l=o.max,u=l-s,c=a[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:s,max:l}),i.scale(n.field,{nice:!1,min:s+c,max:l+c})},e.prototype.reset=function(){r.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(RC),SN=function(r){_(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.zoomRatio=.05,t}return e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var n=this,a=this.dims;M(a,function(i){n.zoomDim(i,t)}),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,n){if(this.hasDim(t)){var a=this.getScale(t);a.isLinear&&this.zoomLinear(t,a,n)}},e.prototype.zoomLinear=function(t,n,a){var i=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:n.min,max:n.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=n.min,u=n.max,c=a*s,f=l-c,h=u+c,v=h-f,d=v/s;h>f&&d<100&&d>.01&&i.scale(n.field,{nice:!1,min:l-c,max:u+c})},e}(RC);function MN(r){var e=r.gEvent.originalEvent;return e.deltaY>0}var TN=1,PN=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.scroll=function(t){var n=this.context,a=n.view,i=n.event;if(a.getOptions().scrollbar){var o=(t==null?void 0:t.wheelDelta)||TN,s=a.getController("scrollbar"),l=a.getXScale(),u=a.getOptions().data,c=qe(Zr(u,l.field)),f=qe(l.values),h=s.getValue(),v=Math.floor((c-f)*h),d=v+(MN(i)?o:-o),p=o/(c-f)/1e4,g=Ut(d/(c-f)+p,0,1);s.setValue(g)}},e}(de),ON="aixs-description-tooltip",kN=function(r){_(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.show=function(){var t=this.context,n=Ga(t).axis,a=n.cfg.title,i=a.description,o=a.text,s=a.descriptionTooltipStyle,l=t.event,u=l.x,c=l.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:o||"",customContent:function(){return`
          <div class="`.concat(Kr,'" style={').concat(s,`}>
            <div class="`).concat(Jr,`">
              字段说明：`).concat(i,`
            </div>
          </div>
        `)},x:u,y:c}),this.tooltip.show()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,n=this.context.view,a=n.canvas,i={start:{x:0,y:0},end:{x:a.get("width"),y:a.get("height")}},o=new Iu({parent:a.get("el").parentNode,region:i,visible:!1,containerId:ON,domStyles:b({},G({},(t={},t[Kr]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[Jr]={"word-break":"break-all","margin-bottom":"3px"},t)))});o.init(),o.setCapture(!1),this.tooltip=o},e}(de);$L("dark",bb(kB));gx("canvas",fF);gx("svg",GF);zr("Polygon",a$);zr("Interval",JF);zr("Schema",i$);zr("Path",$d);zr("Point",r$);zr("Line",t$);zr("Area",XF);zr("Edge",UF);zr("Heatmap",qF);zr("Violin",s$);Fu("base",kd);Fu("interval",S$);Fu("pie",M$);Fu("polar",vC);Qe("overlap",$$);Qe("distribute",P$);Qe("fixed-overlap",F$);Qe("hide-overlap",q$);Qe("limit-in-shape",I$);Qe("limit-in-canvas",E$);Qe("limit-in-plot",fY);Qe("pie-outer",k$);Qe("adjust-color",Q$);Qe("interval-adjust-position",tY);Qe("interval-hide-overlap",rY);Qe("point-adjust-position",iY);Qe("pie-spider",_$);Qe("path-adjust-position",lY);ir("fade-in",hY);ir("fade-out",vY);ir("grow-in-x",pY);ir("grow-in-xy",yY);ir("grow-in-y",gY);ir("scale-in-x",wY);ir("scale-in-y",bY);ir("wave-in",SY);ir("zoom-in",MY);ir("zoom-out",TY);ir("position-update",xY);ir("sector-path-update",CY);ir("path-in",mY);Za("rect",DY);Za("mirror",AY);Za("list",OY);Za("matrix",kY);Za("circle",PY);Za("tree",_Y);Ka("axis",RY);Ka("legend",LY);Ka("tooltip",nB);Ka("annotation",IY);Ka("slider",BY);Ka("scrollbar",YY);et("tooltip",mC);et("sibling-tooltip",zY);et("ellipsis-text",GY);et("element-active",WY);et("element-single-active",qY);et("element-range-active",UY);et("element-highlight",Qd);et("element-highlight-by-x",QY);et("element-highlight-by-color",jY);et("element-single-highlight",ZY);et("element-range-highlight",wC);et("element-sibling-highlight",wC,{effectSiblings:!0,effectByRecord:!0});et("element-selected",JY);et("element-single-selected",tN);et("element-range-selected",KY);et("element-link-by-color",XY);et("active-region",HY);et("list-active",eN);et("list-selected",nN);et("list-highlight",Zd);et("list-unchecked",aN);et("list-checked",iN);et("list-focus",oN);et("list-radio",sN);et("legend-item-highlight",Zd,{componentNames:["legend"]});et("axis-label-highlight",Zd,{componentNames:["axis"]});et("axis-description",kN);et("rect-mask",MC);et("x-rect-mask",PC,{dim:"x"});et("y-rect-mask",PC,{dim:"y"});et("circle-mask",lN);et("path-mask",kC);et("smooth-path-mask",uN);et("rect-multi-mask",DC);et("x-rect-multi-mask",_C,{dim:"x"});et("y-rect-multi-mask",_C,{dim:"y"});et("circle-multi-mask",cN);et("path-multi-mask",EC);et("smooth-path-multi-mask",fN);et("cursor",hN);et("data-filter",vN);et("brush",Nu);et("brush-x",Nu,{dims:["x"]});et("brush-y",Nu,{dims:["y"]});et("sibling-filter",rp);et("sibling-x-filter",rp,{dims:"x"});et("sibling-y-filter",rp,{dims:"y"});et("element-filter",dN);et("element-sibling-filter",IC);et("element-sibling-filter-record",IC,{byRecord:!0});et("view-drag",xN);et("view-move",bN);et("scale-translate",CN);et("scale-zoom",SN);et("reset-button",yN,{name:"reset-button",text:"reset"});et("mousewheel-scroll",PN);function Qr(r){return r.isInPlot()}Ht("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]});Ht("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]});Ht("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]});Ht("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]});Ht("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]});Ht("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]});Ht("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]});Ht("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]});Ht("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]});Ht("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]});Ht("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]});Ht("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(r){return!r.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(r){return!r.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]});Ht("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Qr,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Qr,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Qr,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]});Ht("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]});Ht("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Qr,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Qr,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Qr,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]});Ht("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Qr,action:"path-mask:start"},{trigger:"mousedown",isEnable:Qr,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]});Ht("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:Qr,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(r){return!Lu(r)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]});Ht("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]});Ht("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(r){return!r.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]});Ht("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]});Ht("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]});Ht("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]});Ht("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});Ht("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]});function u0(r){return r.gEvent.preventDefault(),r.gEvent.originalEvent.deltaY>0}Ht("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(r){return u0(r.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(r){return!u0(r.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]});Ht("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});Ht("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});const AN=me({__name:"Chart",props:{height:{default:300},data:{default:()=>[]},position:null,scale:null,type:null,color:null},setup(r){const e=r,t=lt(null),n=lt(null);return Zl(()=>{n.value=new eB({container:t.value,autoFit:!0,height:e.height}),n.value.data(e.data),n.value.scale(e.scale,{nice:!0}),n.value.tooltip({showMarkers:!1,shared:!0,showCrosshairs:!0}),n.value.interaction("active-region"),n.value.interaction("elementHighlightByColor",{background:!0}),e.type==="line"?n.value.line().position(e.position).color((e==null?void 0:e.color)??"").shape("smooth"):n.value.interval().position(e.position).color((e==null?void 0:e.color)??""),n.value.interaction("active-region"),n.value.render()}),br(e,()=>{n.value&&n.value.changeData(e.data)}),(a,i)=>(Cn(),_a("div",{ref_key:"HTMLRef",ref:t},null,512))}}),DN=me({__name:"JoboorLogChart",props:{data:null,loading:{type:Boolean}},setup(r){const e=r,{data:t,loading:n}=S0(e);Wv();const a=H(()=>{var o,s,l,u,c,f,h,v,d,p,g,y;if(!((o=e.data)!=null&&o.task_log_status_day))return[];const i=[];for(const w in(s=e.data)==null?void 0:s.task_log_status_day)i.push({name:(l=e.data)==null?void 0:l.task_log_status_day[w].name,time:(u=e.data)==null?void 0:u.task_log_status_day[w].time,count:(c=e.data)==null?void 0:c.task_log_status_day[w].count,category:"总计"}),i.push({name:(f=e.data)==null?void 0:f.task_log_status_day[w].name,time:(h=e.data)==null?void 0:h.task_log_status_day[w].time,count:(v=e.data)==null?void 0:v.task_log_status_day[w].success_count,category:"成功"}),i.push({name:(d=e.data)==null?void 0:d.task_log_status_day[w].name,time:(p=e.data)==null?void 0:p.task_log_status_day[w].time,count:((g=e.data)==null?void 0:g.task_log_status_day[w].count)-((y=e.data)==null?void 0:y.task_log_status_day[w].success_count),category:"失败"});return i});return(i,o)=>(Cn(),M0(Rt(D0),{show:Rt(n)},{default:Ie(()=>[Kt(EA,{title:"任务状态趋势"},{default:Ie(()=>[Kt(AN,{data:Rt(a)??[],scale:"time",type:"line",color:"category",position:"time*count"},null,8,["data"])]),_:1})]),_:1},8,["show"]))}}),_N={class:"v-space"},EN=me({__name:"DashboardPage",setup(r){const e=Wv(),{loading:t,data:n}=l1(()=>cA.getDashboard({...e.value}),{auto:!0,deps:[e]});return(a,i)=>(Cn(),_a("div",_N,[Kt(hA),Kt(kA,{loading:Rt(t),data:Rt(n)},null,8,["loading","data"]),Kt(DN,{loading:Rt(t),data:Rt(n)},null,8,["loading","data"])]))}});const HN=Av(EN,[["__scopeId","data-v-7e6e3074"]]);export{HN as default};
