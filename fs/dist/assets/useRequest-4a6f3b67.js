import{m as a,O as m}from"./index-04cf60af.js";function g(c,{auto:i,params:v,deps:d=[]}={}){const o=a(),t=a(!1),s=a(),l=a(),u=a(),r=async(...n)=>{t.value=!0;const e=await c(...n);return o.value=n,e.result&&e.data?(s.value=e.data,u.value=void 0):(s.value=void 0,l.value=Number(e.code),u.value=String(e.message)),t.value=!1,e},f=()=>r(...o.value??[]);return m(d,()=>{i&&r(...v??[])},{immediate:!0,deep:!0}),{code:l,data:s,loading:t,error:u,run:r,refresh:f}}export{g as u};
